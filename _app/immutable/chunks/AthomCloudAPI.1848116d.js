var ae=Object.defineProperty;var se=Object.getPrototypeOf;var oe=Reflect.get;var ne=(t,e,r)=>e in t?ae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var $=(t,e,r)=>(ne(t,typeof e!="symbol"?e+"":e,r),r);var x=(t,e,r)=>oe(se(t),r,e);import{j as client_method,k as derived,w as writable}from"./singletons.d502848f.js";import{p as page}from"./stores.dc395ad7.js";const goto=client_method("goto");function createBaseUrl(){return derived(page,(t,e)=>{let r=t.url.origin;({}).VITE_HOMEY_URL&&(r={}.VITE_HOMEY_URL),e(r)})}function createDevices(){const{subscribe:t,set:e,update:r}=writable({});return{subscribe:t,set:e,onCapability:(a,o)=>r(n=>onCapability(n,a,o))}}function onCapability(t,e,r){const o=t[e].capabilitiesObj[r.capabilityId];return o.value=r.value,o.lastUpdated.setUTCMilliseconds(r.transactionTime),{...t}}function createBasicFlows(){const{subscribe:t,set:e,update:r}=writable({});return{subscribe:t,set:e,onCreate:a=>r(o=>({...o})),onDelete:a=>r(o=>{const n={...o};return delete n[a.id],n})}}function createAdvancedFlows(){const{subscribe:t,set:e,update:r}=writable({});return{subscribe:t,set:e,onCreate:a=>r(o=>({...o})),onDelete:a=>r(o=>{const n={...o};return delete n[a.id],n})}}const baseUrl=createBaseUrl(),homey=writable(void 0),session=writable(void 0),scopes=derived(session,t=>t==null?void 0:t.scopes,void 0),devices=createDevices(),basicFlows=createBasicFlows(),advancedFlows=createAdvancedFlows();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function getAugmentedNamespace(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function a(){if(this instanceof a){var o=[null];o.push.apply(o,arguments);var n=Function.bind.apply(e,o);return new n}return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(a){var o=Object.getOwnPropertyDescriptor(t,a);Object.defineProperty(r,a,o.get?o:{enumerable:!0,get:function(){return t[a]}})}),r}let APIError$5=class extends Error{constructor(e,r){super(e),this.statusCode=r}};var APIError_1=APIError$5;const APIError$4=APIError_1;let APIErrorTimeout$1=class extends APIError$4{constructor(e,r=408){super(e,r)}};var APIErrorTimeout_1=APIErrorTimeout$1,browser$5={exports:{}},hasRequiredBrowser;function requireBrowser(){return hasRequiredBrowser||(hasRequiredBrowser=1,function(t,e){var r=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof commonjsGlobal<"u")return commonjsGlobal;throw new Error("unable to locate global object")},a=r();t.exports=e=a.fetch,a.fetch&&(e.default=a.fetch.bind(a)),e.Headers=a.Headers,e.Request=a.Request,e.Response=a.Response}(browser$5,browser$5.exports)),browser$5.exports}const APIErrorTimeout=APIErrorTimeout_1;let Util$5=class{static async fetch(...e){if(this.isReactNative())return fetch(...e);if(this.isBrowser())return window.fetch(...e);if(this.isNodeJS())return requireBrowser()(...e);if(typeof fetch<"u")return fetch(...e)}static async wait(e){return new Promise(r=>{setTimeout(r,e)})}static async timeout(e,r=5e3,a=`Timeout after ${r}ms`){const o=new APIErrorTimeout(a);let n;return Promise.race([e,new Promise((p,g)=>{n=setTimeout(()=>{g(o)},r)})]).finally(()=>{clearTimeout(n)})}static benchmark(){const e=new Date;return()=>new Date-e}static isHTTPUnsecureSupported(){return typeof window>"u"?!0:typeof window.location>"u"?!1:window.location.protocol==="http:"}static isReactNative(){return typeof navigator<"u"&&navigator.product==="ReactNative"}static isBrowser(){return this.isReactNative()?!1:typeof document<"u"&&typeof window.document<"u"}static isNodeJS(){return this.isReactNative()?!1:typeof process<"u"}static getSearchParameter(e){return this.isBrowser()&&new URLSearchParams(window.location.search).get(e)||null}static stringifyQuery(e){const r=new URLSearchParams;for(const[a,o]of Object.entries(e))r.append(a,o);return r.toString()}static base64(e){function r(n){if(n>=0&&n<64)return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[n]}if(typeof e!="string")throw new Error("Invalid Input");let a;for(a=0;a<e.length;a++)if(e.charCodeAt(a)>255)return null;let o="";for(a=0;a<e.length;a+=3){const n=[void 0,void 0,void 0,void 0];n[0]=e.charCodeAt(a)>>2,n[1]=(e.charCodeAt(a)&3)<<4,e.length>a+1&&(n[1]|=e.charCodeAt(a+1)>>4,n[2]=(e.charCodeAt(a+1)&15)<<2),e.length>a+2&&(n[2]|=e.charCodeAt(a+2)>>6,n[3]=e.charCodeAt(a+2)&63);for(let p=0;p<n.length;p++)typeof n[p]>"u"?o+="=":o+=r(n[p])}return o}static uuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const r=Math.random()*16|0;return(e==="x"?r:r&3|8).toString(16)})}static env(e){return this.isBrowser()?window.localStorage.getItem(e)||null:this.isNodeJS()?process.env[e]||null:(this.isReactNative(),null)}static envKey(e){return e.replace("Athom","ATHOM_").replace("Homey","HOMEY_").replace("API","_API").toUpperCase()}static async promiseAny(e){if(e.length===0)return;const r=[];return new Promise((a,o)=>{e.forEach((n,p)=>{n.then(g=>a(g)).catch(g=>{r[p]=g,r.length===e.length&&o(r)})})})}};var Util_1=Util$5,lib$1={exports:{}},re=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,parts=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],parseuri$2=function(e){var r=e,a=e.indexOf("["),o=e.indexOf("]");a!=-1&&o!=-1&&(e=e.substring(0,a)+e.substring(a,o).replace(/:/g,";")+e.substring(o,e.length));for(var n=re.exec(e||""),p={},g=14;g--;)p[parts[g]]=n[g]||"";return a!=-1&&o!=-1&&(p.source=r,p.host=p.host.substring(1,p.host.length-1).replace(/;/g,":"),p.authority=p.authority.replace("[","").replace("]","").replace(/;/g,":"),p.ipv6uri=!0),p.pathNames=pathNames(p,p.path),p.queryKey=queryKey(p,p.query),p};function pathNames(t,e){var r=/\/{2,9}/g,a=e.replace(r,"/").split("/");return(e.substr(0,1)=="/"||e.length===0)&&a.splice(0,1),e.substr(e.length-1,1)=="/"&&a.splice(a.length-1,1),a}function queryKey(t,e){var r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(a,o,n){o&&(r[o]=n)}),r}var browser$4={exports:{}},debug$8={exports:{}},s$2=1e3,m$2=s$2*60,h$2=m$2*60,d$2=h$2*24,y$2=d$2*365.25,ms$2=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return parse$2(t);if(r==="number"&&isNaN(t)===!1)return e.long?fmtLong$2(t):fmtShort$2(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function parse$2(t){if(t=String(t),!(t.length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),a=(e[2]||"ms").toLowerCase();switch(a){case"years":case"year":case"yrs":case"yr":case"y":return r*y$2;case"days":case"day":case"d":return r*d$2;case"hours":case"hour":case"hrs":case"hr":case"h":return r*h$2;case"minutes":case"minute":case"mins":case"min":case"m":return r*m$2;case"seconds":case"second":case"secs":case"sec":case"s":return r*s$2;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function fmtShort$2(t){return t>=d$2?Math.round(t/d$2)+"d":t>=h$2?Math.round(t/h$2)+"h":t>=m$2?Math.round(t/m$2)+"m":t>=s$2?Math.round(t/s$2)+"s":t+"ms"}function fmtLong$2(t){return plural$2(t,d$2,"day")||plural$2(t,h$2,"hour")||plural$2(t,m$2,"minute")||plural$2(t,s$2,"second")||t+" ms"}function plural$2(t,e,r){if(!(t<e))return t<e*1.5?Math.floor(t/e)+" "+r:Math.ceil(t/e)+" "+r+"s"}(function(t,e){e=t.exports=a.debug=a.default=a,e.coerce=u,e.disable=p,e.enable=n,e.enabled=g,e.humanize=ms$2,e.instances=[],e.names=[],e.skips=[],e.formatters={};function r(c){var l=0,f;for(f in c)l=(l<<5)-l+c.charCodeAt(f),l|=0;return e.colors[Math.abs(l)%e.colors.length]}function a(c){var l;function f(){if(f.enabled){var _=f,b=+new Date,P=b-(l||b);_.diff=P,_.prev=l,_.curr=b,l=b;for(var E=new Array(arguments.length),v=0;v<E.length;v++)E[v]=arguments[v];E[0]=e.coerce(E[0]),typeof E[0]!="string"&&E.unshift("%O");var w=0;E[0]=E[0].replace(/%([a-zA-Z%])/g,function(q,A){if(q==="%%")return q;w++;var S=e.formatters[A];if(typeof S=="function"){var I=E[w];q=S.call(_,I),E.splice(w,1),w--}return q}),e.formatArgs.call(_,E);var C=f.log||e.log||console.log.bind(console);C.apply(_,E)}}return f.namespace=c,f.enabled=e.enabled(c),f.useColors=e.useColors(),f.color=r(c),f.destroy=o,typeof e.init=="function"&&e.init(f),e.instances.push(f),f}function o(){var c=e.instances.indexOf(this);return c!==-1?(e.instances.splice(c,1),!0):!1}function n(c){e.save(c),e.names=[],e.skips=[];var l,f=(typeof c=="string"?c:"").split(/[\s,]+/),_=f.length;for(l=0;l<_;l++)f[l]&&(c=f[l].replace(/\*/g,".*?"),c[0]==="-"?e.skips.push(new RegExp("^"+c.substr(1)+"$")):e.names.push(new RegExp("^"+c+"$")));for(l=0;l<e.instances.length;l++){var b=e.instances[l];b.enabled=e.enabled(b.namespace)}}function p(){e.enable("")}function g(c){if(c[c.length-1]==="*")return!0;var l,f;for(l=0,f=e.skips.length;l<f;l++)if(e.skips[l].test(c))return!1;for(l=0,f=e.names.length;l<f;l++)if(e.names[l].test(c))return!0;return!1}function u(c){return c instanceof Error?c.stack||c.message:c}})(debug$8,debug$8.exports);var debugExports$2=debug$8.exports;(function(t,e){e=t.exports=debugExports$2,e.log=o,e.formatArgs=a,e.save=n,e.load=p,e.useColors=r,e.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:g(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}e.formatters.j=function(u){try{return JSON.stringify(u)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}};function a(u){var c=this.useColors;if(u[0]=(c?"%c":"")+this.namespace+(c?" %c":" ")+u[0]+(c?"%c ":" ")+"+"+e.humanize(this.diff),!!c){var l="color: "+this.color;u.splice(1,0,l,"color: inherit");var f=0,_=0;u[0].replace(/%[a-zA-Z%]/g,function(b){b!=="%%"&&(f++,b==="%c"&&(_=f))}),u.splice(_,0,l)}}function o(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function n(u){try{u==null?e.storage.removeItem("debug"):e.storage.debug=u}catch{}}function p(){var u;try{u=e.storage.debug}catch{}return!u&&typeof process<"u"&&"env"in process&&(u={}.DEBUG),u}e.enable(p());function g(){try{return window.localStorage}catch{}}})(browser$4,browser$4.exports);var browserExports$2=browser$4.exports,parseuri$1=parseuri$2,debug$7=browserExports$2("socket.io-client:url"),url_1=url;function url(t,e){var r=t;e=e||typeof location<"u"&&location,t==null&&(t=e.protocol+"//"+e.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=e.protocol+t:t=e.host+t),/^(https?|wss?):\/\//.test(t)||(debug$7("protocol-less url %s",t),typeof e<"u"?t=e.protocol+"//"+t:t="https://"+t),debug$7("parse %s",t),r=parseuri$1(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";var a=r.host.indexOf(":")!==-1,o=a?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port,r.href=r.protocol+"://"+o+(e&&e.port===r.port?"":":"+r.port),r}var socket_ioParser={},browser$3={exports:{}},debug$6={exports:{}},s$1=1e3,m$1=s$1*60,h$1=m$1*60,d$1=h$1*24,y$1=d$1*365.25,ms$1=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return parse$1(t);if(r==="number"&&isNaN(t)===!1)return e.long?fmtLong$1(t):fmtShort$1(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function parse$1(t){if(t=String(t),!(t.length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),a=(e[2]||"ms").toLowerCase();switch(a){case"years":case"year":case"yrs":case"yr":case"y":return r*y$1;case"days":case"day":case"d":return r*d$1;case"hours":case"hour":case"hrs":case"hr":case"h":return r*h$1;case"minutes":case"minute":case"mins":case"min":case"m":return r*m$1;case"seconds":case"second":case"secs":case"sec":case"s":return r*s$1;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function fmtShort$1(t){return t>=d$1?Math.round(t/d$1)+"d":t>=h$1?Math.round(t/h$1)+"h":t>=m$1?Math.round(t/m$1)+"m":t>=s$1?Math.round(t/s$1)+"s":t+"ms"}function fmtLong$1(t){return plural$1(t,d$1,"day")||plural$1(t,h$1,"hour")||plural$1(t,m$1,"minute")||plural$1(t,s$1,"second")||t+" ms"}function plural$1(t,e,r){if(!(t<e))return t<e*1.5?Math.floor(t/e)+" "+r:Math.ceil(t/e)+" "+r+"s"}(function(t,e){e=t.exports=a.debug=a.default=a,e.coerce=u,e.disable=p,e.enable=n,e.enabled=g,e.humanize=ms$1,e.instances=[],e.names=[],e.skips=[],e.formatters={};function r(c){var l=0,f;for(f in c)l=(l<<5)-l+c.charCodeAt(f),l|=0;return e.colors[Math.abs(l)%e.colors.length]}function a(c){var l;function f(){if(f.enabled){var _=f,b=+new Date,P=b-(l||b);_.diff=P,_.prev=l,_.curr=b,l=b;for(var E=new Array(arguments.length),v=0;v<E.length;v++)E[v]=arguments[v];E[0]=e.coerce(E[0]),typeof E[0]!="string"&&E.unshift("%O");var w=0;E[0]=E[0].replace(/%([a-zA-Z%])/g,function(q,A){if(q==="%%")return q;w++;var S=e.formatters[A];if(typeof S=="function"){var I=E[w];q=S.call(_,I),E.splice(w,1),w--}return q}),e.formatArgs.call(_,E);var C=f.log||e.log||console.log.bind(console);C.apply(_,E)}}return f.namespace=c,f.enabled=e.enabled(c),f.useColors=e.useColors(),f.color=r(c),f.destroy=o,typeof e.init=="function"&&e.init(f),e.instances.push(f),f}function o(){var c=e.instances.indexOf(this);return c!==-1?(e.instances.splice(c,1),!0):!1}function n(c){e.save(c),e.names=[],e.skips=[];var l,f=(typeof c=="string"?c:"").split(/[\s,]+/),_=f.length;for(l=0;l<_;l++)f[l]&&(c=f[l].replace(/\*/g,".*?"),c[0]==="-"?e.skips.push(new RegExp("^"+c.substr(1)+"$")):e.names.push(new RegExp("^"+c+"$")));for(l=0;l<e.instances.length;l++){var b=e.instances[l];b.enabled=e.enabled(b.namespace)}}function p(){e.enable("")}function g(c){if(c[c.length-1]==="*")return!0;var l,f;for(l=0,f=e.skips.length;l<f;l++)if(e.skips[l].test(c))return!1;for(l=0,f=e.names.length;l<f;l++)if(e.names[l].test(c))return!0;return!1}function u(c){return c instanceof Error?c.stack||c.message:c}})(debug$6,debug$6.exports);var debugExports$1=debug$6.exports;(function(t,e){e=t.exports=debugExports$1,e.log=o,e.formatArgs=a,e.save=n,e.load=p,e.useColors=r,e.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:g(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}e.formatters.j=function(u){try{return JSON.stringify(u)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}};function a(u){var c=this.useColors;if(u[0]=(c?"%c":"")+this.namespace+(c?" %c":" ")+u[0]+(c?"%c ":" ")+"+"+e.humanize(this.diff),!!c){var l="color: "+this.color;u.splice(1,0,l,"color: inherit");var f=0,_=0;u[0].replace(/%[a-zA-Z%]/g,function(b){b!=="%%"&&(f++,b==="%c"&&(_=f))}),u.splice(_,0,l)}}function o(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function n(u){try{u==null?e.storage.removeItem("debug"):e.storage.debug=u}catch{}}function p(){var u;try{u=e.storage.debug}catch{}return!u&&typeof process<"u"&&"env"in process&&(u={}.DEBUG),u}e.enable(p());function g(){try{return window.localStorage}catch{}}})(browser$3,browser$3.exports);var browserExports$1=browser$3.exports,componentEmitter={exports:{}};(function(t){t.exports=e;function e(a){if(a)return r(a)}function r(a){for(var o in e.prototype)a[o]=e.prototype[o];return a}e.prototype.on=e.prototype.addEventListener=function(a,o){return this._callbacks=this._callbacks||{},(this._callbacks["$"+a]=this._callbacks["$"+a]||[]).push(o),this},e.prototype.once=function(a,o){function n(){this.off(a,n),o.apply(this,arguments)}return n.fn=o,this.on(a,n),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(a,o){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+a];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+a],this;for(var p,g=0;g<n.length;g++)if(p=n[g],p===o||p.fn===o){n.splice(g,1);break}return n.length===0&&delete this._callbacks["$"+a],this},e.prototype.emit=function(a){this._callbacks=this._callbacks||{};for(var o=new Array(arguments.length-1),n=this._callbacks["$"+a],p=1;p<arguments.length;p++)o[p-1]=arguments[p];if(n){n=n.slice(0);for(var p=0,g=n.length;p<g;++p)n[p].apply(this,o)}return this},e.prototype.listeners=function(a){return this._callbacks=this._callbacks||{},this._callbacks["$"+a]||[]},e.prototype.hasListeners=function(a){return!!this.listeners(a).length}})(componentEmitter);var componentEmitterExports=componentEmitter.exports,binary={},toString$2={}.toString,isarray=Array.isArray||function(t){return toString$2.call(t)=="[object Array]"},isBuffer=isBuf$1,withNativeBuffer=typeof Buffer=="function"&&typeof Buffer.isBuffer=="function",withNativeArrayBuffer=typeof ArrayBuffer=="function",isView=function(t){return typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer};function isBuf$1(t){return withNativeBuffer&&Buffer.isBuffer(t)||withNativeArrayBuffer&&(t instanceof ArrayBuffer||isView(t))}var isArray$1=isarray,isBuf=isBuffer,toString$1=Object.prototype.toString,withNativeBlob$1=typeof Blob=="function"||typeof Blob<"u"&&toString$1.call(Blob)==="[object BlobConstructor]",withNativeFile$1=typeof File=="function"||typeof File<"u"&&toString$1.call(File)==="[object FileConstructor]";binary.deconstructPacket=function(t){var e=[],r=t.data,a=t;return a.data=_deconstructPacket(r,e),a.attachments=e.length,{packet:a,buffers:e}};function _deconstructPacket(t,e){if(!t)return t;if(isBuf(t)){var r={_placeholder:!0,num:e.length};return e.push(t),r}else if(isArray$1(t)){for(var a=new Array(t.length),o=0;o<t.length;o++)a[o]=_deconstructPacket(t[o],e);return a}else if(typeof t=="object"&&!(t instanceof Date)){var a={};for(var n in t)a[n]=_deconstructPacket(t[n],e);return a}return t}binary.reconstructPacket=function(t,e){return t.data=_reconstructPacket(t.data,e),t.attachments=void 0,t};function _reconstructPacket(t,e){if(!t)return t;if(t&&t._placeholder===!0){var r=typeof t.num=="number"&&t.num>=0&&t.num<e.length;if(r)return e[t.num];throw new Error("illegal attachments")}else if(isArray$1(t))for(var a=0;a<t.length;a++)t[a]=_reconstructPacket(t[a],e);else if(typeof t=="object")for(var o in t)t[o]=_reconstructPacket(t[o],e);return t}binary.removeBlobs=function(t,e){function r(n,p,g){if(!n)return n;if(withNativeBlob$1&&n instanceof Blob||withNativeFile$1&&n instanceof File){a++;var u=new FileReader;u.onload=function(){g?g[p]=this.result:o=this.result,--a||e(o)},u.readAsArrayBuffer(n)}else if(isArray$1(n))for(var c=0;c<n.length;c++)r(n[c],c,n);else if(typeof n=="object"&&!isBuf(n))for(var l in n)r(n[l],l,n)}var a=0,o=t;r(o),a||e(o)};(function(t){var e=browserExports$1("socket.io-parser"),r=componentEmitterExports,a=binary,o=isarray,n=isBuffer;t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=p,t.Decoder=f;function p(){}var g=t.ERROR+'"encode error"';p.prototype.encode=function(v,w){if(e("encoding packet %j",v),t.BINARY_EVENT===v.type||t.BINARY_ACK===v.type)l(v,w);else{var C=u(v);w([C])}};function u(v){var w=""+v.type;if((t.BINARY_EVENT===v.type||t.BINARY_ACK===v.type)&&(w+=v.attachments+"-"),v.nsp&&v.nsp!=="/"&&(w+=v.nsp+","),v.id!=null&&(w+=v.id),v.data!=null){var C=c(v.data);if(C!==!1)w+=C;else return g}return e("encoded %j as %s",v,w),w}function c(v){try{return JSON.stringify(v)}catch{return!1}}function l(v,w){function C(q){var A=a.deconstructPacket(q),S=u(A.packet),I=A.buffers;I.unshift(S),w(I)}a.removeBlobs(v,C)}function f(){this.reconstructor=null}r(f.prototype),f.prototype.add=function(v){var w;if(typeof v=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");w=_(v),t.BINARY_EVENT===w.type||t.BINARY_ACK===w.type?(this.reconstructor=new P(w),this.reconstructor.reconPack.attachments===0&&this.emit("decoded",w)):this.emit("decoded",w)}else if(n(v)||v.base64)if(this.reconstructor)w=this.reconstructor.takeBinaryData(v),w&&(this.reconstructor=null,this.emit("decoded",w));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+v)};function _(v){var w=0,C={type:Number(v.charAt(0))};if(t.types[C.type]==null)return E("unknown packet type "+C.type);if(t.BINARY_EVENT===C.type||t.BINARY_ACK===C.type){for(var q=w+1;v.charAt(++w)!=="-"&&w!=v.length;);var A=v.substring(q,w);if(A!=Number(A)||v.charAt(w)!=="-")throw new Error("Illegal attachments");C.attachments=Number(A)}if(v.charAt(w+1)==="/"){for(var q=w+1;++w;){var S=v.charAt(w);if(S===","||w===v.length)break}C.nsp=v.substring(q,w)}else C.nsp="/";var I=v.charAt(w+1);if(I!==""&&Number(I)==I){for(var q=w+1;++w;){var S=v.charAt(w);if(S==null||Number(S)!=S){--w;break}if(w===v.length)break}C.id=Number(v.substring(q,w+1))}if(v.charAt(++w)){var O=b(v.substr(w)),T=O!==!1&&(C.type===t.ERROR||o(O));if(T)C.data=O;else return E("invalid payload")}return e("decoded %s as %j",v,C),C}function b(v){try{return JSON.parse(v)}catch{return!1}}f.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()};function P(v){this.reconPack=v,this.buffers=[]}P.prototype.takeBinaryData=function(v){if(this.buffers.push(v),this.buffers.length===this.reconPack.attachments){var w=a.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),w}return null},P.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]};function E(v){return{type:t.ERROR,data:"parser error: "+v}}})(socket_ioParser);var lib={exports:{}},transports$1={},hasCors={exports:{}};try{hasCors.exports=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{hasCors.exports=!1}var hasCorsExports=hasCors.exports,globalThis_browser=function(){return typeof self<"u"?self:typeof window<"u"?window:Function("return this")()}(),hasCORS=hasCorsExports,globalThis$3=globalThis_browser,xmlhttprequest_browser=function(t){var e=t.xdomain,r=t.xscheme,a=t.enablesXDR;try{if(typeof XMLHttpRequest<"u"&&(!e||hasCORS))return new XMLHttpRequest}catch{}try{if(typeof XDomainRequest<"u"&&!r&&a)return new XDomainRequest}catch{}if(!e)try{return new globalThis$3[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}},pollingXhr={exports:{}},browser$2={},keys=Object.keys||function(e){var r=[],a=Object.prototype.hasOwnProperty;for(var o in e)a.call(e,o)&&r.push(o);return r},isArray=isarray,toString=Object.prototype.toString,withNativeBlob=typeof Blob=="function"||typeof Blob<"u"&&toString.call(Blob)==="[object BlobConstructor]",withNativeFile=typeof File=="function"||typeof File<"u"&&toString.call(File)==="[object FileConstructor]",hasBinary2=hasBinary;function hasBinary(t){if(!t||typeof t!="object")return!1;if(isArray(t)){for(var e=0,r=t.length;e<r;e++)if(hasBinary(t[e]))return!0;return!1}if(typeof Buffer=="function"&&Buffer.isBuffer&&Buffer.isBuffer(t)||typeof ArrayBuffer=="function"&&t instanceof ArrayBuffer||withNativeBlob&&t instanceof Blob||withNativeFile&&t instanceof File)return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return hasBinary(t.toJSON(),!0);for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)&&hasBinary(t[a]))return!0;return!1}var arraybuffer_slice=function(t,e,r){var a=t.byteLength;if(e=e||0,r=r||a,t.slice)return t.slice(e,r);if(e<0&&(e+=a),r<0&&(r+=a),r>a&&(r=a),e>=a||e>=r||a===0)return new ArrayBuffer(0);for(var o=new Uint8Array(t),n=new Uint8Array(r-e),p=e,g=0;p<r;p++,g++)n[g]=o[p];return n.buffer},after_1=after;function after(t,e,r){var a=!1;return r=r||noop,o.count=t,t===0?e():o;function o(n,p){if(o.count<=0)throw new Error("after called too many times");--o.count,n?(a=!0,e(n),e=r):o.count===0&&!a&&e(null,p)}}function noop(){}/*! https://mths.be/utf8js v2.1.2 by @mathias */var stringFromCharCode=String.fromCharCode;function ucs2decode(t){for(var e=[],r=0,a=t.length,o,n;r<a;)o=t.charCodeAt(r++),o>=55296&&o<=56319&&r<a?(n=t.charCodeAt(r++),(n&64512)==56320?e.push(((o&1023)<<10)+(n&1023)+65536):(e.push(o),r--)):e.push(o);return e}function ucs2encode(t){for(var e=t.length,r=-1,a,o="";++r<e;)a=t[r],a>65535&&(a-=65536,o+=stringFromCharCode(a>>>10&1023|55296),a=56320|a&1023),o+=stringFromCharCode(a);return o}function checkScalarValue(t,e){if(t>=55296&&t<=57343){if(e)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function createByte(t,e){return stringFromCharCode(t>>e&63|128)}function encodeCodePoint(t,e){if(!(t&4294967168))return stringFromCharCode(t);var r="";return t&4294965248?t&4294901760?t&4292870144||(r=stringFromCharCode(t>>18&7|240),r+=createByte(t,12),r+=createByte(t,6)):(checkScalarValue(t,e)||(t=65533),r=stringFromCharCode(t>>12&15|224),r+=createByte(t,6)):r=stringFromCharCode(t>>6&31|192),r+=stringFromCharCode(t&63|128),r}function utf8encode(t,e){e=e||{};for(var r=e.strict!==!1,a=ucs2decode(t),o=a.length,n=-1,p,g="";++n<o;)p=a[n],g+=encodeCodePoint(p,r);return g}function readContinuationByte(){if(byteIndex>=byteCount)throw Error("Invalid byte index");var t=byteArray[byteIndex]&255;if(byteIndex++,(t&192)==128)return t&63;throw Error("Invalid continuation byte")}function decodeSymbol(t){var e,r,a,o,n;if(byteIndex>byteCount)throw Error("Invalid byte index");if(byteIndex==byteCount)return!1;if(e=byteArray[byteIndex]&255,byteIndex++,!(e&128))return e;if((e&224)==192){if(r=readContinuationByte(),n=(e&31)<<6|r,n>=128)return n;throw Error("Invalid continuation byte")}if((e&240)==224){if(r=readContinuationByte(),a=readContinuationByte(),n=(e&15)<<12|r<<6|a,n>=2048)return checkScalarValue(n,t)?n:65533;throw Error("Invalid continuation byte")}if((e&248)==240&&(r=readContinuationByte(),a=readContinuationByte(),o=readContinuationByte(),n=(e&7)<<18|r<<12|a<<6|o,n>=65536&&n<=1114111))return n;throw Error("Invalid UTF-8 detected")}var byteArray,byteCount,byteIndex;function utf8decode(t,e){e=e||{};var r=e.strict!==!1;byteArray=ucs2decode(t),byteCount=byteArray.length,byteIndex=0;for(var a=[],o;(o=decodeSymbol(r))!==!1;)a.push(o);return ucs2encode(a)}var utf8={version:"2.1.2",encode:utf8encode,decode:utf8decode},base64Arraybuffer={},hasRequiredBase64Arraybuffer;function requireBase64Arraybuffer(){return hasRequiredBase64Arraybuffer||(hasRequiredBase64Arraybuffer=1,function(t){base64Arraybuffer.encode=function(e){var r=new Uint8Array(e),a,o=r.length,n="";for(a=0;a<o;a+=3)n+=t[r[a]>>2],n+=t[(r[a]&3)<<4|r[a+1]>>4],n+=t[(r[a+1]&15)<<2|r[a+2]>>6],n+=t[r[a+2]&63];return o%3===2?n=n.substring(0,n.length-1)+"=":o%3===1&&(n=n.substring(0,n.length-2)+"=="),n},base64Arraybuffer.decode=function(e){var r=e.length*.75,a=e.length,o,n=0,p,g,u,c;e[e.length-1]==="="&&(r--,e[e.length-2]==="="&&r--);var l=new ArrayBuffer(r),f=new Uint8Array(l);for(o=0;o<a;o+=4)p=t.indexOf(e[o]),g=t.indexOf(e[o+1]),u=t.indexOf(e[o+2]),c=t.indexOf(e[o+3]),f[n++]=p<<2|g>>4,f[n++]=(g&15)<<4|u>>2,f[n++]=(u&3)<<6|c&63;return l}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")),base64Arraybuffer}var blob,hasRequiredBlob;function requireBlob(){if(hasRequiredBlob)return blob;hasRequiredBlob=1;var t=typeof t<"u"?t:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:!1,e=function(){try{var g=new Blob(["hi"]);return g.size===2}catch{return!1}}(),r=e&&function(){try{var g=new Blob([new Uint8Array([1,2])]);return g.size===2}catch{return!1}}(),a=t&&t.prototype.append&&t.prototype.getBlob;function o(g){return g.map(function(u){if(u.buffer instanceof ArrayBuffer){var c=u.buffer;if(u.byteLength!==c.byteLength){var l=new Uint8Array(u.byteLength);l.set(new Uint8Array(c,u.byteOffset,u.byteLength)),c=l.buffer}return c}return u})}function n(g,u){u=u||{};var c=new t;return o(g).forEach(function(l){c.append(l)}),u.type?c.getBlob(u.type):c.getBlob()}function p(g,u){return new Blob(o(g),u||{})}return typeof Blob<"u"&&(n.prototype=Blob.prototype,p.prototype=Blob.prototype),blob=function(){return e?r?Blob:p:a?n:void 0}(),blob}(function(t){var e=keys,r=hasBinary2,a=arraybuffer_slice,o=after_1,n=utf8,p;typeof ArrayBuffer<"u"&&(p=requireBase64Arraybuffer());var g=typeof navigator<"u"&&/Android/i.test(navigator.userAgent),u=typeof navigator<"u"&&/PhantomJS/i.test(navigator.userAgent),c=g||u;t.protocol=3;var l=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},f=e(l),_={type:"error",data:"parser error"},b=requireBlob();t.encodePacket=function(A,S,I,O){typeof S=="function"&&(O=S,S=!1),typeof I=="function"&&(O=I,I=null);var T=A.data===void 0?void 0:A.data.buffer||A.data;if(typeof ArrayBuffer<"u"&&T instanceof ArrayBuffer)return E(A,S,O);if(typeof b<"u"&&T instanceof b)return w(A,S,O);if(T&&T.base64)return P(A,O);var F=l[A.type];return A.data!==void 0&&(F+=I?n.encode(String(A.data),{strict:!1}):String(A.data)),O(""+F)};function P(A,S){var I="b"+t.packets[A.type]+A.data.data;return S(I)}function E(A,S,I){if(!S)return t.encodeBase64Packet(A,I);var O=A.data,T=new Uint8Array(O),F=new Uint8Array(1+O.byteLength);F[0]=l[A.type];for(var k=0;k<T.length;k++)F[k+1]=T[k];return I(F.buffer)}function v(A,S,I){if(!S)return t.encodeBase64Packet(A,I);var O=new FileReader;return O.onload=function(){t.encodePacket({type:A.type,data:O.result},S,!0,I)},O.readAsArrayBuffer(A.data)}function w(A,S,I){if(!S)return t.encodeBase64Packet(A,I);if(c)return v(A,S,I);var O=new Uint8Array(1);O[0]=l[A.type];var T=new b([O.buffer,A.data]);return I(T)}t.encodeBase64Packet=function(A,S){var I="b"+t.packets[A.type];if(typeof b<"u"&&A.data instanceof b){var O=new FileReader;return O.onload=function(){var D=O.result.split(",")[1];S(I+D)},O.readAsDataURL(A.data)}var T;try{T=String.fromCharCode.apply(null,new Uint8Array(A.data))}catch{for(var F=new Uint8Array(A.data),k=new Array(F.length),j=0;j<F.length;j++)k[j]=F[j];T=String.fromCharCode.apply(null,k)}return I+=btoa(T),S(I)},t.decodePacket=function(A,S,I){if(A===void 0)return _;if(typeof A=="string"){if(A.charAt(0)==="b")return t.decodeBase64Packet(A.substr(1),S);if(I&&(A=C(A),A===!1))return _;var T=A.charAt(0);return Number(T)!=T||!f[T]?_:A.length>1?{type:f[T],data:A.substring(1)}:{type:f[T]}}var O=new Uint8Array(A),T=O[0],F=a(A,1);return b&&S==="blob"&&(F=new b([F])),{type:f[T],data:F}};function C(A){try{A=n.decode(A,{strict:!1})}catch{return!1}return A}t.decodeBase64Packet=function(A,S){var I=f[A.charAt(0)];if(!p)return{type:I,data:{base64:!0,data:A.substr(1)}};var O=p.decode(A.substr(1));return S==="blob"&&b&&(O=new b([O])),{type:I,data:O}},t.encodePayload=function(A,S,I){typeof S=="function"&&(I=S,S=null);var O=r(A);if(S&&O)return b&&!c?t.encodePayloadAsBlob(A,I):t.encodePayloadAsArrayBuffer(A,I);if(!A.length)return I("0:");function T(k){return k.length+":"+k}function F(k,j){t.encodePacket(k,O?S:!1,!1,function(D){j(null,T(D))})}q(A,F,function(k,j){return I(j.join(""))})};function q(A,S,I){for(var O=new Array(A.length),T=o(A.length,I),F=function(j,D,M){S(D,function(R,U){O[j]=U,M(R,O)})},k=0;k<A.length;k++)F(k,A[k],T)}t.decodePayload=function(A,S,I){if(typeof A!="string")return t.decodePayloadAsBinary(A,S,I);typeof S=="function"&&(I=S,S=null);var O;if(A==="")return I(_,0,1);for(var T="",F,k,j=0,D=A.length;j<D;j++){var M=A.charAt(j);if(M!==":"){T+=M;continue}if(T===""||T!=(F=Number(T))||(k=A.substr(j+1,F),T!=k.length))return I(_,0,1);if(k.length){if(O=t.decodePacket(k,S,!1),_.type===O.type&&_.data===O.data)return I(_,0,1);var R=I(O,j+F,D);if(R===!1)return}j+=F,T=""}if(T!=="")return I(_,0,1)},t.encodePayloadAsArrayBuffer=function(A,S){if(!A.length)return S(new ArrayBuffer(0));function I(O,T){t.encodePacket(O,!0,!0,function(F){return T(null,F)})}q(A,I,function(O,T){var F=T.reduce(function(D,M){var R;return typeof M=="string"?R=M.length:R=M.byteLength,D+R.toString().length+R+2},0),k=new Uint8Array(F),j=0;return T.forEach(function(D){var M=typeof D=="string",R=D;if(M){for(var H=new Uint8Array(D.length),U=0;U<D.length;U++)H[U]=D.charCodeAt(U);R=H.buffer}M?k[j++]=0:k[j++]=1;for(var B=R.byteLength.toString(),U=0;U<B.length;U++)k[j++]=parseInt(B[U]);k[j++]=255;for(var H=new Uint8Array(R),U=0;U<H.length;U++)k[j++]=H[U]}),S(k.buffer)})},t.encodePayloadAsBlob=function(A,S){function I(O,T){t.encodePacket(O,!0,!0,function(F){var k=new Uint8Array(1);if(k[0]=1,typeof F=="string"){for(var j=new Uint8Array(F.length),D=0;D<F.length;D++)j[D]=F.charCodeAt(D);F=j.buffer,k[0]=0}for(var M=F instanceof ArrayBuffer?F.byteLength:F.size,R=M.toString(),U=new Uint8Array(R.length+1),D=0;D<R.length;D++)U[D]=parseInt(R[D]);if(U[R.length]=255,b){var B=new b([k.buffer,U.buffer,F]);T(null,B)}})}q(A,I,function(O,T){return S(new b(T))})},t.decodePayloadAsBinary=function(A,S,I){typeof S=="function"&&(I=S,S=null);for(var O=A,T=[];O.byteLength>0;){for(var F=new Uint8Array(O),k=F[0]===0,j="",D=1;F[D]!==255;D++){if(j.length>310)return I(_,0,1);j+=F[D]}O=a(O,2+j.length),j=parseInt(j);var M=a(O,0,j);if(k)try{M=String.fromCharCode.apply(null,new Uint8Array(M))}catch{var R=new Uint8Array(M);M="";for(var D=0;D<R.length;D++)M+=String.fromCharCode(R[D])}T.push(M),O=a(O,j)}var U=T.length;T.forEach(function(B,H){I(t.decodePacket(B,S,!0),H,U)})}})(browser$2);var transport,hasRequiredTransport;function requireTransport(){if(hasRequiredTransport)return transport;hasRequiredTransport=1;var t=browser$2,e=componentEmitterExports;transport=r;function r(a){this.path=a.path,this.hostname=a.hostname,this.port=a.port,this.secure=a.secure,this.query=a.query,this.timestampParam=a.timestampParam,this.timestampRequests=a.timestampRequests,this.readyState="",this.agent=a.agent||!1,this.socket=a.socket,this.enablesXDR=a.enablesXDR,this.withCredentials=a.withCredentials,this.pfx=a.pfx,this.key=a.key,this.passphrase=a.passphrase,this.cert=a.cert,this.ca=a.ca,this.ciphers=a.ciphers,this.rejectUnauthorized=a.rejectUnauthorized,this.forceNode=a.forceNode,this.isReactNative=a.isReactNative,this.extraHeaders=a.extraHeaders,this.localAddress=a.localAddress}return e(r.prototype),r.prototype.onError=function(a,o){var n=new Error(a);return n.type="TransportError",n.description=o,this.emit("error",n),this},r.prototype.open=function(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this},r.prototype.close=function(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this},r.prototype.send=function(a){if(this.readyState==="open")this.write(a);else throw new Error("Transport not open")},r.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},r.prototype.onData=function(a){var o=t.decodePacket(a,this.socket.binaryType);this.onPacket(o)},r.prototype.onPacket=function(a){this.emit("packet",a)},r.prototype.onClose=function(){this.readyState="closed",this.emit("close")},transport}var parseqs$3={};parseqs$3.encode=function(t){var e="";for(var r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e};parseqs$3.decode=function(t){for(var e={},r=t.split("&"),a=0,o=r.length;a<o;a++){var n=r[a].split("=");e[decodeURIComponent(n[0])]=decodeURIComponent(n[1])}return e};var componentInherit=function(t,e){var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t},alphabet="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),length=64,map={},seed=0,i=0,prev;function encode(t){var e="";do e=alphabet[t%length]+e,t=Math.floor(t/length);while(t>0);return e}function decode(t){var e=0;for(i=0;i<t.length;i++)e=e*length+map[t.charAt(i)];return e}function yeast$2(){var t=encode(+new Date);return t!==prev?(seed=0,prev=t):t+"."+encode(seed++)}for(;i<length;i++)map[alphabet[i]]=i;yeast$2.encode=encode;yeast$2.decode=decode;var yeast_1=yeast$2,browser$1={exports:{}},debug$5={exports:{}},s=1e3,m=s*60,h=m*60,d=h*24,y=d*365.25,ms=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return parse(t);if(r==="number"&&isNaN(t)===!1)return e.long?fmtLong(t):fmtShort(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function parse(t){if(t=String(t),!(t.length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),a=(e[2]||"ms").toLowerCase();switch(a){case"years":case"year":case"yrs":case"yr":case"y":return r*y;case"days":case"day":case"d":return r*d;case"hours":case"hour":case"hrs":case"hr":case"h":return r*h;case"minutes":case"minute":case"mins":case"min":case"m":return r*m;case"seconds":case"second":case"secs":case"sec":case"s":return r*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function fmtShort(t){return t>=d?Math.round(t/d)+"d":t>=h?Math.round(t/h)+"h":t>=m?Math.round(t/m)+"m":t>=s?Math.round(t/s)+"s":t+"ms"}function fmtLong(t){return plural(t,d,"day")||plural(t,h,"hour")||plural(t,m,"minute")||plural(t,s,"second")||t+" ms"}function plural(t,e,r){if(!(t<e))return t<e*1.5?Math.floor(t/e)+" "+r:Math.ceil(t/e)+" "+r+"s"}(function(t,e){e=t.exports=a.debug=a.default=a,e.coerce=u,e.disable=p,e.enable=n,e.enabled=g,e.humanize=ms,e.instances=[],e.names=[],e.skips=[],e.formatters={};function r(c){var l=0,f;for(f in c)l=(l<<5)-l+c.charCodeAt(f),l|=0;return e.colors[Math.abs(l)%e.colors.length]}function a(c){var l;function f(){if(f.enabled){var _=f,b=+new Date,P=b-(l||b);_.diff=P,_.prev=l,_.curr=b,l=b;for(var E=new Array(arguments.length),v=0;v<E.length;v++)E[v]=arguments[v];E[0]=e.coerce(E[0]),typeof E[0]!="string"&&E.unshift("%O");var w=0;E[0]=E[0].replace(/%([a-zA-Z%])/g,function(q,A){if(q==="%%")return q;w++;var S=e.formatters[A];if(typeof S=="function"){var I=E[w];q=S.call(_,I),E.splice(w,1),w--}return q}),e.formatArgs.call(_,E);var C=f.log||e.log||console.log.bind(console);C.apply(_,E)}}return f.namespace=c,f.enabled=e.enabled(c),f.useColors=e.useColors(),f.color=r(c),f.destroy=o,typeof e.init=="function"&&e.init(f),e.instances.push(f),f}function o(){var c=e.instances.indexOf(this);return c!==-1?(e.instances.splice(c,1),!0):!1}function n(c){e.save(c),e.names=[],e.skips=[];var l,f=(typeof c=="string"?c:"").split(/[\s,]+/),_=f.length;for(l=0;l<_;l++)f[l]&&(c=f[l].replace(/\*/g,".*?"),c[0]==="-"?e.skips.push(new RegExp("^"+c.substr(1)+"$")):e.names.push(new RegExp("^"+c+"$")));for(l=0;l<e.instances.length;l++){var b=e.instances[l];b.enabled=e.enabled(b.namespace)}}function p(){e.enable("")}function g(c){if(c[c.length-1]==="*")return!0;var l,f;for(l=0,f=e.skips.length;l<f;l++)if(e.skips[l].test(c))return!1;for(l=0,f=e.names.length;l<f;l++)if(e.names[l].test(c))return!0;return!1}function u(c){return c instanceof Error?c.stack||c.message:c}})(debug$5,debug$5.exports);var debugExports=debug$5.exports;(function(t,e){e=t.exports=debugExports,e.log=o,e.formatArgs=a,e.save=n,e.load=p,e.useColors=r,e.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:g(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}e.formatters.j=function(u){try{return JSON.stringify(u)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}};function a(u){var c=this.useColors;if(u[0]=(c?"%c":"")+this.namespace+(c?" %c":" ")+u[0]+(c?"%c ":" ")+"+"+e.humanize(this.diff),!!c){var l="color: "+this.color;u.splice(1,0,l,"color: inherit");var f=0,_=0;u[0].replace(/%[a-zA-Z%]/g,function(b){b!=="%%"&&(f++,b==="%c"&&(_=f))}),u.splice(_,0,l)}}function o(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function n(u){try{u==null?e.storage.removeItem("debug"):e.storage.debug=u}catch{}}function p(){var u;try{u=e.storage.debug}catch{}return!u&&typeof process<"u"&&"env"in process&&(u={}.DEBUG),u}e.enable(p());function g(){try{return window.localStorage}catch{}}})(browser$1,browser$1.exports);var browserExports=browser$1.exports,Transport$1=requireTransport(),parseqs$2=parseqs$3,parser$3=browser$2,inherit$3=componentInherit,yeast$1=yeast_1,debug$4=browserExports("engine.io-client:polling"),polling$1=Polling$2,hasXHR2=function(){var t=xmlhttprequest_browser,e=new t({xdomain:!1});return e.responseType!=null}();function Polling$2(t){var e=t&&t.forceBase64;(!hasXHR2||e)&&(this.supportsBinary=!1),Transport$1.call(this,t)}inherit$3(Polling$2,Transport$1);Polling$2.prototype.name="polling";Polling$2.prototype.doOpen=function(){this.poll()};Polling$2.prototype.pause=function(t){var e=this;this.readyState="pausing";function r(){debug$4("paused"),e.readyState="paused",t()}if(this.polling||!this.writable){var a=0;this.polling&&(debug$4("we are currently polling - waiting to pause"),a++,this.once("pollComplete",function(){debug$4("pre-pause polling complete"),--a||r()})),this.writable||(debug$4("we are currently writing - waiting to pause"),a++,this.once("drain",function(){debug$4("pre-pause writing complete"),--a||r()}))}else r()};Polling$2.prototype.poll=function(){debug$4("polling"),this.polling=!0,this.doPoll(),this.emit("poll")};Polling$2.prototype.onData=function(t){var e=this;debug$4("polling got data %s",t);var r=function(a,o,n){if(e.readyState==="opening"&&a.type==="open"&&e.onOpen(),a.type==="close")return e.onClose(),!1;e.onPacket(a)};parser$3.decodePayload(t,this.socket.binaryType,r),this.readyState!=="closed"&&(this.polling=!1,this.emit("pollComplete"),this.readyState==="open"?this.poll():debug$4('ignoring poll - transport state "%s"',this.readyState))};Polling$2.prototype.doClose=function(){var t=this;function e(){debug$4("writing close packet"),t.write([{type:"close"}])}this.readyState==="open"?(debug$4("transport open - closing"),e()):(debug$4("transport not open - deferring close"),this.once("open",e))};Polling$2.prototype.write=function(t){var e=this;this.writable=!1;var r=function(){e.writable=!0,e.emit("drain")};parser$3.encodePayload(t,this.supportsBinary,function(a){e.doWrite(a,r)})};Polling$2.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",r="";this.timestampRequests!==!1&&(t[this.timestampParam]=yeast$1()),!this.supportsBinary&&!t.sid&&(t.b64=1),t=parseqs$2.encode(t),this.port&&(e==="https"&&Number(this.port)!==443||e==="http"&&Number(this.port)!==80)&&(r=":"+this.port),t.length&&(t="?"+t);var a=this.hostname.indexOf(":")!==-1;return e+"://"+(a?"["+this.hostname+"]":this.hostname)+r+this.path+t};var XMLHttpRequest$2=xmlhttprequest_browser,Polling$1=polling$1,Emitter$2=componentEmitterExports,inherit$2=componentInherit,debug$3=browserExports("engine.io-client:polling-xhr"),globalThis$2=globalThis_browser;pollingXhr.exports=XHR$1;pollingXhr.exports.Request=Request;function empty$1(){}function XHR$1(t){if(Polling$1.call(this,t),this.requestTimeout=t.requestTimeout,this.extraHeaders=t.extraHeaders,typeof location<"u"){var e=location.protocol==="https:",r=location.port;r||(r=e?443:80),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port,this.xs=t.secure!==e}}inherit$2(XHR$1,Polling$1);XHR$1.prototype.supportsBinary=!0;XHR$1.prototype.request=function(t){return t=t||{},t.uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.withCredentials=this.withCredentials,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new Request(t)};XHR$1.prototype.doWrite=function(t,e){var r=typeof t!="string"&&t!==void 0,a=this.request({method:"POST",data:t,isBinary:r}),o=this;a.on("success",e),a.on("error",function(n){o.onError("xhr post error",n)}),this.sendXhr=a};XHR$1.prototype.doPoll=function(){debug$3("xhr poll");var t=this.request(),e=this;t.on("data",function(r){e.onData(r)}),t.on("error",function(r){e.onError("xhr poll error",r)}),this.pollXhr=t};function Request(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=t.async!==!1,this.data=t.data!==void 0?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.withCredentials=t.withCredentials,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}Emitter$2(Request.prototype);Request.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var e=this.xhr=new XMLHttpRequest$2(t),r=this;try{debug$3("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async);try{if(this.extraHeaders){e.setDisableHeaderCheck&&e.setDisableHeaderCheck(!0);for(var a in this.extraHeaders)this.extraHeaders.hasOwnProperty(a)&&e.setRequestHeader(a,this.extraHeaders[a])}}catch{}if(this.method==="POST")try{this.isBinary?e.setRequestHeader("Content-type","application/octet-stream"):e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{e.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in e&&(e.withCredentials=this.withCredentials),this.requestTimeout&&(e.timeout=this.requestTimeout),this.hasXDR()?(e.onload=function(){r.onLoad()},e.onerror=function(){r.onError(e.responseText)}):e.onreadystatechange=function(){if(e.readyState===2)try{var o=e.getResponseHeader("Content-Type");(r.supportsBinary&&o==="application/octet-stream"||o==="application/octet-stream; charset=UTF-8")&&(e.responseType="arraybuffer")}catch{}e.readyState===4&&(e.status===200||e.status===1223?r.onLoad():setTimeout(function(){r.onError(typeof e.status=="number"?e.status:0)},0))},debug$3("xhr data %s",this.data),e.send(this.data)}catch(o){setTimeout(function(){r.onError(o)},0);return}typeof document<"u"&&(this.index=Request.requestsCount++,Request.requests[this.index]=this)};Request.prototype.onSuccess=function(){this.emit("success"),this.cleanup()};Request.prototype.onData=function(t){this.emit("data",t),this.onSuccess()};Request.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)};Request.prototype.cleanup=function(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=empty$1:this.xhr.onreadystatechange=empty$1,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Request.requests[this.index],this.xhr=null}};Request.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type")}catch{}e==="application/octet-stream"||e==="application/octet-stream; charset=UTF-8"?t=this.xhr.response||this.xhr.responseText:t=this.xhr.responseText}catch(r){this.onError(r)}t!=null&&this.onData(t)};Request.prototype.hasXDR=function(){return typeof XDomainRequest<"u"&&!this.xs&&this.enablesXDR};Request.prototype.abort=function(){this.cleanup()};Request.requestsCount=0;Request.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",unloadHandler);else if(typeof addEventListener=="function"){var terminationEvent="onpagehide"in globalThis$2?"pagehide":"unload";addEventListener(terminationEvent,unloadHandler,!1)}}function unloadHandler(){for(var t in Request.requests)Request.requests.hasOwnProperty(t)&&Request.requests[t].abort()}var pollingXhrExports=pollingXhr.exports,Polling=polling$1,inherit$1=componentInherit,globalThis$1=globalThis_browser,pollingJsonp=JSONPPolling,rNewline=/\n/g,rEscapedNewline=/\\n/g,callbacks;function empty(){}function JSONPPolling(t){Polling.call(this,t),this.query=this.query||{},callbacks||(callbacks=globalThis$1.___eio=globalThis$1.___eio||[]),this.index=callbacks.length;var e=this;callbacks.push(function(r){e.onData(r)}),this.query.j=this.index,typeof addEventListener=="function"&&addEventListener("beforeunload",function(){e.script&&(e.script.onerror=empty)},!1)}inherit$1(JSONPPolling,Polling);JSONPPolling.prototype.supportsBinary=!1;JSONPPolling.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),Polling.prototype.doClose.call(this)};JSONPPolling.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(o){t.onError("jsonp poll error",o)};var r=document.getElementsByTagName("script")[0];r?r.parentNode.insertBefore(e,r):(document.head||document.body).appendChild(e),this.script=e;var a=typeof navigator<"u"&&/gecko/i.test(navigator.userAgent);a&&setTimeout(function(){var o=document.createElement("iframe");document.body.appendChild(o),document.body.removeChild(o)},100)};JSONPPolling.prototype.doWrite=function(t,e){var r=this;if(!this.form){var a=document.createElement("form"),o=document.createElement("textarea"),n=this.iframeId="eio_iframe_"+this.index,p;a.className="socketio",a.style.position="absolute",a.style.top="-1000px",a.style.left="-1000px",a.target=n,a.method="POST",a.setAttribute("accept-charset","utf-8"),o.name="d",a.appendChild(o),document.body.appendChild(a),this.form=a,this.area=o}this.form.action=this.uri();function g(){u(),e()}function u(){if(r.iframe)try{r.form.removeChild(r.iframe)}catch(l){r.onError("jsonp polling iframe removal error",l)}try{var c='<iframe src="javascript:0" name="'+r.iframeId+'">';p=document.createElement(c)}catch{p=document.createElement("iframe"),p.name=r.iframeId,p.src="javascript:0"}p.id=r.iframeId,r.form.appendChild(p),r.iframe=p}u(),t=t.replace(rEscapedNewline,`\\
`),this.area.value=t.replace(rNewline,"\\n");try{this.form.submit()}catch{}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){r.iframe.readyState==="complete"&&g()}:this.iframe.onload=g};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$6=getAugmentedNamespace(__viteBrowserExternal$1);var Transport=requireTransport(),parser$2=browser$2,parseqs$1=parseqs$3,inherit=componentInherit,yeast=yeast_1,debug$2=browserExports("engine.io-client:websocket"),BrowserWebSocket,NodeWebSocket;typeof WebSocket<"u"?BrowserWebSocket=WebSocket:typeof self<"u"&&(BrowserWebSocket=self.WebSocket||self.MozWebSocket);if(typeof window>"u")try{NodeWebSocket=require$$6}catch{}var WebSocketImpl=BrowserWebSocket||NodeWebSocket,websocket$1=WS;function WS(t){var e=t&&t.forceBase64;e&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=BrowserWebSocket&&!t.forceNode,this.protocols=t.protocols,this.usingBrowserWebSocket||(WebSocketImpl=NodeWebSocket),Transport.call(this,t)}inherit(WS,Transport);WS.prototype.name="websocket";WS.prototype.supportsBinary=!0;WS.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=this.protocols,r={};this.isReactNative||(r.agent=this.agent,r.perMessageDeflate=this.perMessageDeflate,r.pfx=this.pfx,r.key=this.key,r.passphrase=this.passphrase,r.cert=this.cert,r.ca=this.ca,r.ciphers=this.ciphers,r.rejectUnauthorized=this.rejectUnauthorized),this.extraHeaders&&(r.headers=this.extraHeaders),this.localAddress&&(r.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?e?new WebSocketImpl(t,e):new WebSocketImpl(t):new WebSocketImpl(t,e,r)}catch(a){return this.emit("error",a)}this.ws.binaryType===void 0&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}};WS.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}};WS.prototype.write=function(t){var e=this;this.writable=!1;for(var r=t.length,a=0,o=r;a<o;a++)(function(p){parser$2.encodePacket(p,e.supportsBinary,function(g){if(!e.usingBrowserWebSocket){var u={};if(p.options&&(u.compress=p.options.compress),e.perMessageDeflate){var c=typeof g=="string"?Buffer.byteLength(g):g.length;c<e.perMessageDeflate.threshold&&(u.compress=!1)}}try{e.usingBrowserWebSocket?e.ws.send(g):e.ws.send(g,u)}catch{debug$2("websocket closed before onclose event")}--r||n()})})(t[a]);function n(){e.emit("flush"),setTimeout(function(){e.writable=!0,e.emit("drain")},0)}};WS.prototype.onClose=function(){Transport.prototype.onClose.call(this)};WS.prototype.doClose=function(){typeof this.ws<"u"&&this.ws.close()};WS.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",r="";this.port&&(e==="wss"&&Number(this.port)!==443||e==="ws"&&Number(this.port)!==80)&&(r=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=yeast()),this.supportsBinary||(t.b64=1),t=parseqs$1.encode(t),t.length&&(t="?"+t);var a=this.hostname.indexOf(":")!==-1;return e+"://"+(a?"["+this.hostname+"]":this.hostname)+r+this.path+t};WS.prototype.check=function(){return!!WebSocketImpl&&!("__initialize"in WebSocketImpl&&this.name===WS.prototype.name)};var XMLHttpRequest$1=xmlhttprequest_browser,XHR=pollingXhrExports,JSONP=pollingJsonp,websocket=websocket$1;transports$1.polling=polling;transports$1.websocket=websocket;function polling(t){var e,r=!1,a=!1,o=t.jsonp!==!1;if(typeof location<"u"){var n=location.protocol==="https:",p=location.port;p||(p=n?443:80),r=t.hostname!==location.hostname||p!==t.port,a=t.secure!==n}if(t.xdomain=r,t.xscheme=a,e=new XMLHttpRequest$1(t),"open"in e&&!t.forceJSONP)return new XHR(t);if(!o)throw new Error("JSONP disabled");return new JSONP(t)}var indexOf$1=[].indexOf,indexof=function(t,e){if(indexOf$1)return t.indexOf(e);for(var r=0;r<t.length;++r)if(t[r]===e)return r;return-1},transports=transports$1,Emitter$1=componentEmitterExports,debug$1=browserExports("engine.io-client:socket"),index=indexof,parser$1=browser$2,parseuri=parseuri$2,parseqs=parseqs$3,socket$1=Socket$1;function Socket$1(t,e){if(!(this instanceof Socket$1))return new Socket$1(t,e);e=e||{},t&&typeof t=="object"&&(e=t,t=null),t?(t=parseuri(t),e.hostname=t.host,e.secure=t.protocol==="https"||t.protocol==="wss",e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=parseuri(e.host).host),this.secure=e.secure!=null?e.secure:typeof location<"u"&&location.protocol==="https:",e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.agent=e.agent||!1,this.hostname=e.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=e.port||(typeof location<"u"&&location.port?location.port:this.secure?443:80),this.query=e.query||{},typeof this.query=="string"&&(this.query=parseqs.decode(this.query)),this.upgrade=e.upgrade!==!1,this.path=(e.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!e.forceJSONP,this.jsonp=e.jsonp!==!1,this.forceBase64=!!e.forceBase64,this.enablesXDR=!!e.enablesXDR,this.withCredentials=e.withCredentials!==!1,this.timestampParam=e.timestampParam||"t",this.timestampRequests=e.timestampRequests,this.transports=e.transports||["polling","websocket"],this.transportOptions=e.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=e.policyPort||843,this.rememberUpgrade=e.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=e.onlyBinaryUpgrades,this.perMessageDeflate=e.perMessageDeflate!==!1?e.perMessageDeflate||{}:!1,this.perMessageDeflate===!0&&(this.perMessageDeflate={}),this.perMessageDeflate&&this.perMessageDeflate.threshold==null&&(this.perMessageDeflate.threshold=1024),this.pfx=e.pfx||void 0,this.key=e.key||void 0,this.passphrase=e.passphrase||void 0,this.cert=e.cert||void 0,this.ca=e.ca||void 0,this.ciphers=e.ciphers||void 0,this.rejectUnauthorized=e.rejectUnauthorized===void 0?!0:e.rejectUnauthorized,this.forceNode=!!e.forceNode,this.isReactNative=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",(typeof self>"u"||this.isReactNative)&&(e.extraHeaders&&Object.keys(e.extraHeaders).length>0&&(this.extraHeaders=e.extraHeaders),e.localAddress&&(this.localAddress=e.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}Socket$1.priorWebsocketSuccess=!1;Emitter$1(Socket$1.prototype);Socket$1.protocol=parser$1.protocol;Socket$1.Socket=Socket$1;Socket$1.Transport=requireTransport();Socket$1.transports=transports$1;Socket$1.parser=browser$2;Socket$1.prototype.createTransport=function(t){debug$1('creating transport "%s"',t);var e=clone(this.query);e.EIO=parser$1.protocol,e.transport=t;var r=this.transportOptions[t]||{};this.id&&(e.sid=this.id);var a=new transports[t]({query:e,socket:this,agent:r.agent||this.agent,hostname:r.hostname||this.hostname,port:r.port||this.port,secure:r.secure||this.secure,path:r.path||this.path,forceJSONP:r.forceJSONP||this.forceJSONP,jsonp:r.jsonp||this.jsonp,forceBase64:r.forceBase64||this.forceBase64,enablesXDR:r.enablesXDR||this.enablesXDR,withCredentials:r.withCredentials||this.withCredentials,timestampRequests:r.timestampRequests||this.timestampRequests,timestampParam:r.timestampParam||this.timestampParam,policyPort:r.policyPort||this.policyPort,pfx:r.pfx||this.pfx,key:r.key||this.key,passphrase:r.passphrase||this.passphrase,cert:r.cert||this.cert,ca:r.ca||this.ca,ciphers:r.ciphers||this.ciphers,rejectUnauthorized:r.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:r.perMessageDeflate||this.perMessageDeflate,extraHeaders:r.extraHeaders||this.extraHeaders,forceNode:r.forceNode||this.forceNode,localAddress:r.localAddress||this.localAddress,requestTimeout:r.requestTimeout||this.requestTimeout,protocols:r.protocols||void 0,isReactNative:this.isReactNative});return a};function clone(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}Socket$1.prototype.open=function(){var t;if(this.rememberUpgrade&&Socket$1.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){var e=this;setTimeout(function(){e.emit("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)};Socket$1.prototype.setTransport=function(t){debug$1("setting transport %s",t.name);var e=this;this.transport&&(debug$1("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",function(){e.onDrain()}).on("packet",function(r){e.onPacket(r)}).on("error",function(r){e.onError(r)}).on("close",function(){e.onClose("transport close")})};Socket$1.prototype.probe=function(t){debug$1('probing transport "%s"',t);var e=this.createTransport(t,{probe:1}),r=!1,a=this;Socket$1.priorWebsocketSuccess=!1;function o(){if(a.onlyBinaryUpgrades){var f=!this.supportsBinary&&a.transport.supportsBinary;r=r||f}r||(debug$1('probe transport "%s" opened',t),e.send([{type:"ping",data:"probe"}]),e.once("packet",function(_){if(!r)if(_.type==="pong"&&_.data==="probe"){if(debug$1('probe transport "%s" pong',t),a.upgrading=!0,a.emit("upgrading",e),!e)return;Socket$1.priorWebsocketSuccess=e.name==="websocket",debug$1('pausing current transport "%s"',a.transport.name),a.transport.pause(function(){r||a.readyState!=="closed"&&(debug$1("changing transport and sending upgrade packet"),l(),a.setTransport(e),e.send([{type:"upgrade"}]),a.emit("upgrade",e),e=null,a.upgrading=!1,a.flush())})}else{debug$1('probe transport "%s" failed',t);var b=new Error("probe error");b.transport=e.name,a.emit("upgradeError",b)}}))}function n(){r||(r=!0,l(),e.close(),e=null)}function p(f){var _=new Error("probe error: "+f);_.transport=e.name,n(),debug$1('probe transport "%s" failed because of error: %s',t,f),a.emit("upgradeError",_)}function g(){p("transport closed")}function u(){p("socket closed")}function c(f){e&&f.name!==e.name&&(debug$1('"%s" works - aborting "%s"',f.name,e.name),n())}function l(){e.removeListener("open",o),e.removeListener("error",p),e.removeListener("close",g),a.removeListener("close",u),a.removeListener("upgrading",c)}e.once("open",o),e.once("error",p),e.once("close",g),this.once("close",u),this.once("upgrading",c),e.open()};Socket$1.prototype.onOpen=function(){if(debug$1("socket open"),this.readyState="open",Socket$1.priorWebsocketSuccess=this.transport.name==="websocket",this.emit("open"),this.flush(),this.readyState==="open"&&this.upgrade&&this.transport.pause){debug$1("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}};Socket$1.prototype.onPacket=function(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(debug$1('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data);break}else debug$1('packet received with socket readyState "%s"',this.readyState)};Socket$1.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),this.readyState!=="closed"&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))};Socket$1.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){e.readyState!=="closed"&&e.onClose("ping timeout")},t||e.pingInterval+e.pingTimeout)};Socket$1.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){debug$1("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)};Socket$1.prototype.ping=function(){var t=this;this.sendPacket("ping",function(){t.emit("ping")})};Socket$1.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emit("drain"):this.flush()};Socket$1.prototype.flush=function(){this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(debug$1("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))};Socket$1.prototype.write=Socket$1.prototype.send=function(t,e,r){return this.sendPacket("message",t,e,r),this};Socket$1.prototype.sendPacket=function(t,e,r,a){if(typeof e=="function"&&(a=e,e=void 0),typeof r=="function"&&(a=r,r=null),!(this.readyState==="closing"||this.readyState==="closed")){r=r||{},r.compress=r.compress!==!1;var o={type:t,data:e,options:r};this.emit("packetCreate",o),this.writeBuffer.push(o),a&&this.once("flush",a),this.flush()}};Socket$1.prototype.close=function(){if(this.readyState==="opening"||this.readyState==="open"){this.readyState="closing";var t=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?a():e()}):this.upgrading?a():e()}function e(){t.onClose("forced close"),debug$1("socket closing - telling transport to close"),t.transport.close()}function r(){t.removeListener("upgrade",r),t.removeListener("upgradeError",r),e()}function a(){t.once("upgrade",r),t.once("upgradeError",r)}return this};Socket$1.prototype.onError=function(t){debug$1("socket error %j",t),Socket$1.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)};Socket$1.prototype.onClose=function(t,e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){debug$1('socket close with reason: "%s"',t);var r=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),r.writeBuffer=[],r.prevBufferLen=0}};Socket$1.prototype.filterUpgrades=function(t){for(var e=[],r=0,a=t.length;r<a;r++)~index(this.transports,t[r])&&e.push(t[r]);return e};lib.exports=socket$1;lib.exports.parser=browser$2;var libExports$1=lib.exports,socket={exports:{}},toArray_1=toArray;function toArray(t,e){var r=[];e=e||0;for(var a=e||0;a<t.length;a++)r[a-e]=t[a];return r}var on_1=on$1;function on$1(t,e,r){return t.on(e,r),{destroy:function(){t.removeListener(e,r)}}}var slice=[].slice,componentBind=function(t,e){if(typeof e=="string"&&(e=t[e]),typeof e!="function")throw new Error("bind() requires a function");var r=slice.call(arguments,2);return function(){return e.apply(t,r.concat(slice.call(arguments)))}};(function(t,e){var r=socket_ioParser,a=componentEmitterExports,o=toArray_1,n=on_1,p=componentBind,g=browserExports$2("socket.io-client:socket"),u=parseqs$3,c=hasBinary2;t.exports=_;var l={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},f=a.prototype.emit;function _(b,P,E){this.io=b,this.nsp=P,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},E&&E.query&&(this.query=E.query),this.io.autoConnect&&this.open()}a(_.prototype),_.prototype.subEvents=function(){if(!this.subs){var b=this.io;this.subs=[n(b,"open",p(this,"onopen")),n(b,"packet",p(this,"onpacket")),n(b,"close",p(this,"onclose"))]}},_.prototype.open=_.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.reconnecting||this.io.open(),this.io.readyState==="open"&&this.onopen(),this.emit("connecting"),this)},_.prototype.send=function(){var b=o(arguments);return b.unshift("message"),this.emit.apply(this,b),this},_.prototype.emit=function(b){if(l.hasOwnProperty(b))return f.apply(this,arguments),this;var P=o(arguments),E={type:(this.flags.binary!==void 0?this.flags.binary:c(P))?r.BINARY_EVENT:r.EVENT,data:P};return E.options={},E.options.compress=!this.flags||this.flags.compress!==!1,typeof P[P.length-1]=="function"&&(g("emitting packet with ack id %d",this.ids),this.acks[this.ids]=P.pop(),E.id=this.ids++),this.connected?this.packet(E):this.sendBuffer.push(E),this.flags={},this},_.prototype.packet=function(b){b.nsp=this.nsp,this.io.packet(b)},_.prototype.onopen=function(){if(g("transport is open - connecting"),this.nsp!=="/")if(this.query){var b=typeof this.query=="object"?u.encode(this.query):this.query;g("sending connect packet with query %s",b),this.packet({type:r.CONNECT,query:b})}else this.packet({type:r.CONNECT})},_.prototype.onclose=function(b){g("close (%s)",b),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",b)},_.prototype.onpacket=function(b){var P=b.nsp===this.nsp,E=b.type===r.ERROR&&b.nsp==="/";if(!(!P&&!E))switch(b.type){case r.CONNECT:this.onconnect();break;case r.EVENT:this.onevent(b);break;case r.BINARY_EVENT:this.onevent(b);break;case r.ACK:this.onack(b);break;case r.BINARY_ACK:this.onack(b);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",b.data);break}},_.prototype.onevent=function(b){var P=b.data||[];g("emitting event %j",P),b.id!=null&&(g("attaching ack callback to event"),P.push(this.ack(b.id))),this.connected?f.apply(this,P):this.receiveBuffer.push(P)},_.prototype.ack=function(b){var P=this,E=!1;return function(){if(!E){E=!0;var v=o(arguments);g("sending ack %j",v),P.packet({type:c(v)?r.BINARY_ACK:r.ACK,id:b,data:v})}}},_.prototype.onack=function(b){var P=this.acks[b.id];typeof P=="function"?(g("calling ack %s with %j",b.id,b.data),P.apply(this,b.data),delete this.acks[b.id]):g("bad ack %s",b.id)},_.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emit("connect")},_.prototype.emitBuffered=function(){var b;for(b=0;b<this.receiveBuffer.length;b++)f.apply(this,this.receiveBuffer[b]);for(this.receiveBuffer=[],b=0;b<this.sendBuffer.length;b++)this.packet(this.sendBuffer[b]);this.sendBuffer=[]},_.prototype.ondisconnect=function(){g("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},_.prototype.destroy=function(){if(this.subs){for(var b=0;b<this.subs.length;b++)this.subs[b].destroy();this.subs=null}this.io.destroy(this)},_.prototype.close=_.prototype.disconnect=function(){return this.connected&&(g("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},_.prototype.compress=function(b){return this.flags.compress=b,this},_.prototype.binary=function(b){return this.flags.binary=b,this}})(socket);var socketExports=socket.exports,backo2=Backoff$1;function Backoff$1(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Backoff$1.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+r:t-r}return Math.min(t,this.max)|0};Backoff$1.prototype.reset=function(){this.attempts=0};Backoff$1.prototype.setMin=function(t){this.ms=t};Backoff$1.prototype.setMax=function(t){this.max=t};Backoff$1.prototype.setJitter=function(t){this.jitter=t};var eio=libExports$1,Socket=socketExports,Emitter=componentEmitterExports,parser=socket_ioParser,on=on_1,bind=componentBind,debug=browserExports$2("socket.io-client:manager"),indexOf=indexof,Backoff=backo2,has=Object.prototype.hasOwnProperty,manager=Manager$9;function Manager$9(t,e){if(!(this instanceof Manager$9))return new Manager$9(t,e);t&&typeof t=="object"&&(e=t,t=void 0),e=e||{},e.path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(e.reconnection!==!1),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new Backoff({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(e.timeout==null?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var r=e.parser||parser;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this.autoConnect=e.autoConnect!==!1,this.autoConnect&&this.open()}Manager$9.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var t in this.nsps)has.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)};Manager$9.prototype.updateSocketIds=function(){for(var t in this.nsps)has.call(this.nsps,t)&&(this.nsps[t].id=this.generateId(t))};Manager$9.prototype.generateId=function(t){return(t==="/"?"":t+"#")+this.engine.id};Emitter(Manager$9.prototype);Manager$9.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection};Manager$9.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts};Manager$9.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay};Manager$9.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor};Manager$9.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax};Manager$9.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout};Manager$9.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()};Manager$9.prototype.open=Manager$9.prototype.connect=function(t,e){if(debug("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;debug("opening %s",this.uri),this.engine=eio(this.uri,this.opts);var r=this.engine,a=this;this.readyState="opening",this.skipReconnect=!1;var o=on(r,"open",function(){a.onopen(),t&&t()}),n=on(r,"error",function(u){if(debug("connect_error"),a.cleanup(),a.readyState="closed",a.emitAll("connect_error",u),t){var c=new Error("Connection error");c.data=u,t(c)}else a.maybeReconnectOnOpen()});if(this._timeout!==!1){var p=this._timeout;debug("connect attempt will timeout after %d",p),p===0&&o.destroy();var g=setTimeout(function(){debug("connect attempt timed out after %d",p),o.destroy(),r.close(),r.emit("error","timeout"),a.emitAll("connect_timeout",p)},p);this.subs.push({destroy:function(){clearTimeout(g)}})}return this.subs.push(o),this.subs.push(n),this};Manager$9.prototype.onopen=function(){debug("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(on(t,"data",bind(this,"ondata"))),this.subs.push(on(t,"ping",bind(this,"onping"))),this.subs.push(on(t,"pong",bind(this,"onpong"))),this.subs.push(on(t,"error",bind(this,"onerror"))),this.subs.push(on(t,"close",bind(this,"onclose"))),this.subs.push(on(this.decoder,"decoded",bind(this,"ondecoded")))};Manager$9.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")};Manager$9.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)};Manager$9.prototype.ondata=function(t){this.decoder.add(t)};Manager$9.prototype.ondecoded=function(t){this.emit("packet",t)};Manager$9.prototype.onerror=function(t){debug("error",t),this.emitAll("error",t)};Manager$9.prototype.socket=function(t,e){var r=this.nsps[t];if(!r){r=new Socket(this,t,e),this.nsps[t]=r;var a=this;r.on("connecting",o),r.on("connect",function(){r.id=a.generateId(t)}),this.autoConnect&&o()}function o(){~indexOf(a.connecting,r)||a.connecting.push(r)}return r};Manager$9.prototype.destroy=function(t){var e=indexOf(this.connecting,t);~e&&this.connecting.splice(e,1),!this.connecting.length&&this.close()};Manager$9.prototype.packet=function(t){debug("writing packet %j",t);var e=this;t.query&&t.type===0&&(t.nsp+="?"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,function(r){for(var a=0;a<r.length;a++)e.engine.write(r[a],t.options);e.encoding=!1,e.processPacketQueue()}))};Manager$9.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}};Manager$9.prototype.cleanup=function(){debug("cleanup");for(var t=this.subs.length,e=0;e<t;e++){var r=this.subs.shift();r.destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()};Manager$9.prototype.close=Manager$9.prototype.disconnect=function(){debug("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,this.readyState==="opening"&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()};Manager$9.prototype.onclose=function(t){debug("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()};Manager$9.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)debug("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();debug("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var r=setTimeout(function(){t.skipReconnect||(debug("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),!t.skipReconnect&&t.open(function(a){a?(debug("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",a.data)):(debug("reconnect success"),t.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(r)}})}};Manager$9.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)};(function(t,e){var r=url_1,a=socket_ioParser,o=manager,n=browserExports$2("socket.io-client");t.exports=e=g;var p=e.managers={};function g(u,c){typeof u=="object"&&(c=u,u=void 0),c=c||{};var l=r(u),f=l.source,_=l.id,b=l.path,P=p[_]&&b in p[_].nsps,E=c.forceNew||c["force new connection"]||c.multiplex===!1||P,v;return E?(n("ignoring socket cache for %s",f),v=o(f,c)):(p[_]||(n("new io instance for %s",f),p[_]=o(f,c)),v=p[_]),l.query&&!c.query&&(c.query=l.query),v.socket(l.path,c)}e.protocol=a.protocol,e.connect=g,e.Manager=manager,e.Socket=socketExports})(lib$1,lib$1.exports);var libExports=lib$1.exports;const APIError$3=APIError_1;class APIErrorHomeyOffline extends APIError$3{constructor(e){e instanceof Error?super(`Homey Offline (${e.message||e.toString()})`,500):super("Homey Offline",500)}}var APIErrorHomeyOffline_1=APIErrorHomeyOffline;const APIError$2=APIError_1;let HomeyAPIError$1=class extends APIError$2{constructor({error:e,error_description:r=null,stack:a=null},o){super(r||e,o),this.description=r,this.stack=a}};var HomeyAPIError_1=HomeyAPIError$1;let EventEmitter$3=class{constructor(){Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}emit(e,...r){const a=this.__listeners[e];return Array.isArray(a)&&a.forEach(o=>{o(...r)}),this}addListener(e,r){return this.on(e,r)}on(e,r){return this.__listeners[e]=this.__listeners[e]||[],this.__listeners[e].push(r),this}once(e,r){const a=(...o)=>{this.__listeners[e]=this.__listeners[e].filter(n=>n!==a),r(...o)};return this.__listeners[e]=this.__listeners[e]||[],this.__listeners[e].push(a),this}off(e,r){return this.__listeners[e]=this.__listeners[e].filter(a=>a!==r),this}removeListener(e,r){return this.off(e,r)}removeAllListeners(e){return this.__listeners[e]=[],this}};var EventEmitter_1=EventEmitter$3;const EventEmitter$2=EventEmitter_1;var te;let Item$a=(te=class extends EventEmitter$2{constructor({id:e,homey:r,manager:a,properties:o}){super(),Object.defineProperty(this,"__id",{value:e,enumerable:!0,writable:!1}),Object.defineProperty(this,"__homey",{value:r,enumerable:!1,writable:!1}),Object.defineProperty(this,"__manager",{value:a,enumerable:!1,writable:!1}),Object.defineProperty(this,"__connected",{value:!1,enumerable:!1,writable:!0});for(const[n,p]of Object.entries(o))n!=="id"&&Object.defineProperty(this,n,{value:p,enumerable:!0,writable:!0})}get id(){return this.__id}get uri(){return`homey:${this.constructor.ID}:${this.id}`}get manager(){return this.__manager}get homey(){return this.__homey}__debug(...e){this.manager.__debug(`[${this.constructor.name}:${this.id}]`,...e)}__update(e){for(const[r,a]of Object.entries(e))r!=="id"&&(this[r]=a);this.emit("update",e)}__delete(){this.destroy(),this.emit("delete")}async connect(){this.__debug("connect");try{await Promise.resolve(),await this.__disconnectPromise}catch{}this.__connectPromise=Promise.resolve().then(async()=>{this.io||(this.io=this.homey.subscribe(this.uri,{onConnect:()=>{this.__debug("onConnect"),this.__connected=!0,this.onConnect()},onDisconnect:()=>{this.__debug("onDisconnect"),this.__connected=!1,this.onDisconnect()},onReconnect:()=>{this.__debug("onDisconnect"),this.onReconnect()},onEvent:(e,r)=>{this.__debug("onEvent",e,r),this.emit(e,r)}})),await this.io}),this.__connectPromise.catch(()=>{}).finally(()=>{delete this.__connectPromise}),await this.__connectPromise}async disconnect(){this.__debug("disconnect");try{await this.__connectPromise}catch{}this.__disconnectPromise=Promise.resolve().then(async()=>{this.__connected=!1,this.io&&this.io.then(e=>e.unsubscribe()).catch(e=>this.__debug("Error Disconnecting:",e))}),this.__disconnectPromise.catch(()=>{}).finally(()=>{delete this.__disconnectPromise,delete this.io}),await this.__disconnectPromise}onConnect(){}onReconnect(){}onDisconnect(){}destroy(){this.removeAllListeners(),this.disconnect().catch(()=>{})}static transformGet(e){return e}static transformSet(e){return e}},$(te,"ID",null),te);var Item_1=Item$a;const EventEmitter$1=EventEmitter_1,Util$4=Util_1,HomeyAPIError=HomeyAPIError_1;var W;let Manager$8=(W=class extends EventEmitter$1{constructor({homey,items,operations}){super(),Object.defineProperty(this,"__homey",{value:homey,enumerable:!1,writable:!1}),Object.defineProperty(this,"items",{value:Object.entries(items).reduce((obj,[itemName,item])=>{const ItemClass=this.constructor.CRUD[itemName]?this.constructor.CRUD[itemName]:eval(`(class ${itemName} extends Item {})`);return ItemClass.ID=item.id,obj[item.id]=ItemClass,obj},{}),enumerable:!1,writable:!1}),Object.defineProperty(this,"__connected",{value:!1,enumerable:!1,writable:!0}),Object.defineProperty(this,"__cache",{value:Object.values(items).reduce((t,e)=>({...t,[e.id]:{}}),{}),enumerable:!1,writable:!1}),Object.defineProperty(this,"__cacheAllComplete",{value:Object.values(items).reduce((t,e)=>({...t,[e.id]:!1}),{}),enumerable:!1,writable:!1});for(const[t,e]of Object.entries(operations))Object.defineProperty(this,this[t]?`__super__${t}`:t,{value:async({$validate:r=!0,$cache:a=!0,$timeout:o=e.timeout??5e3,$socket:n=e.socket??!0,$body:p={},$query:g={},$headers:u={},...c}={})=>{let{path:l}=e,f={...p};const _={...g},b={...u};if(e.parameters)for(const[v,w]of Object.entries(e.parameters)){const C=c[v];if(r){if(w.required===!0&&typeof C>"u")throw new Error(`Missing Parameter: ${v}`);if(typeof C<"u"){if(w.type==="string"&&typeof C!="string")throw new Error(`Invalid Parameter Type: ${v}. Got: ${typeof C}. Expected: string`);if(w.type==="number"&&typeof C!="number")throw new Error(`Invalid Parameter Type: ${v}. Got: ${typeof C}. Expected: number`);if(w.type==="boolean"&&typeof C!="boolean")throw new Error(`Invalid Parameter Type: ${v}. Got: ${typeof C}. Expected: boolean`);if(w.type==="object"&&typeof C!="object")throw new Error(`Invalid Parameter Type: ${v}. Got: ${typeof C}. Expected: object`);if(w.type==="array"&&!Array.isArray(C))throw new Error(`Invalid Parameter Type: ${v}. Got: ${typeof C}. Expected: array`);Array.isArray(w.type)}}if(typeof C<"u")switch(w.in){case"path":{if(typeof C!="string")throw new Error(`Invalid Parameter Type: ${v}. Got: ${typeof C}. Expected: string`);l=l.replace(`:${v}`,C);break}case"body":{w.root?f=C:f[v]=C;break}case"query":{if(typeof C!="string")throw new Error(`Invalid Parameter Type: ${v}. Got: ${typeof C}. Expected: string`);_[v]=C;break}default:throw new Error(`Invalid 'in': ${w.in}`)}}if(Object.keys(_).length>0){const v=Object.entries(_).map(([w,C])=>`${w}=${encodeURIComponent(C)}`).join("&");l=`${l}?${v}`}let P;const E=Util$4.benchmark();if(this.isConnected()&&e.crud&&a===!0){const v=items[e.crud.item].id;switch(e.crud.type){case"getOne":{if(this.__cache[v][c.id])return this.__cache[v][c.id];break}case"getAll":{if(this.__cache[v]&&this.__cacheAllComplete[v])return this.__cache[v];break}}}if(this.homey.isConnected()&&n===!0?P=await Util$4.timeout(new Promise((v,w)=>{this.__debug(`IO ${t}`),this.homey.__ioNamespace.emit("api",{args:c,operation:t,uri:this.uri},(C,q)=>typeof C=="string"?(C=new HomeyAPIError({error:C},500),w(C)):typeof C=="object"&&C!==null?(C=new HomeyAPIError({stack:C.stack,error:C.error,error_description:C.error_description},C.statusCode||500),w(C)):v(q))}),o):P=await this.homey.call({$timeout:o,headers:b,body:f,path:`/api/manager/${this.constructor.ID}${l}`,method:e.method}),e.crud){const v=items[e.crud.item].id,w=this.items[v];switch(e.crud.type){case"getOne":{let C={...P};return C=w.transformGet(C),C=new w({id:C.id,homey:this.homey,manager:this,properties:{...C}}),this.isConnected()&&(this.__cache[v][C.id]=C),C}case"getAll":{const C={};for(let q of Object.values(P))q=w.transformGet(q),this.isConnected()&&this.__cache[v][q.id]?(C[q.id]=this.__cache[v][q.id],C[q.id].__update(q)):(C[q.id]=new w({id:q.id,homey:this.homey,manager:this,properties:{...q}}),this.isConnected()&&(this.__cache[v][q.id]=C[q.id]));if(this.__cache[v])for(const q of Object.values(this.__cache[v]))C[q.id]||delete this.__cache[v][q.id];return this.isConnected()&&(this.__cacheAllComplete[v]=!0),C}case"createOne":case"updateOne":{let C={...P};return C=w.transformGet(C),this.isConnected()&&this.__cache[v][C.id]?(C=this.__cache[v][C.id],C.__update(C)):(C=w.transformGet(C),C=new w({id:C.id,homey:this.homey,manager:this,properties:{...C}}),this.isConnected()&&(this.__cache[v][C.id]=C)),C}case"deleteOne":{this.isConnected()&&this.__cache[v][c.id]&&(this.__cache[v][c.id].destroy(),delete this.__cache[v][c.id]);return}}}return this.__debug(`${t} took ${E()}ms`),P}})}get homey(){return this.__homey}get uri(){return`homey:manager:${this.constructor.ID}`}__debug(...t){this.homey.__debug(`[${this.constructor.name}]`,...t)}isConnected(){return this.__connected===!0}async connect(){this.__debug("connect");try{await this.__disconnectPromise}catch{}this.__connectPromise=Promise.resolve().then(async()=>{this.io||(this.io=this.homey.subscribe(this.uri,{onConnect:()=>{this.__debug("onConnect"),this.__connected=!0},onDisconnect:t=>{this.__debug(`onDisconnect Reason:${t}`),this.__connected=!1;for(const e of Object.keys(this.__cache))this.__cache[e]={},this.__cacheAllComplete[e]=!1},onEvent:(t,e)=>{if(this.__debug("onEvent",t),t.endsWith(".create")||t.endsWith(".update")||t.endsWith(".delete")){const[r,a]=t.split("."),o=this.items[r];switch(a){case"create":{e=o.transformGet(e);const n=new o({id:e.id,homey:this.homey,manager:this,properties:{...e}});return this.__cache[r][e.id]=n,this.emit(t,n)}case"update":{if(e=o.transformGet(e),this.__cache[r][e.id]){const n=this.__cache[r][e.id];return n.__update(e),this.emit(t,n)}break}case"delete":{if(e=o.transformGet(e),this.__cache[r][e.id]){const n=this.__cache[r][e.id];return n.__delete(),delete this.__cache[r][n.id],this.emit(t,{id:n.id})}break}}}this.emit(t,e)}})),await this.io}),this.__connectPromise.catch(()=>{}).finally(()=>{delete this.__connectPromise}),await this.__connectPromise}async disconnect(){this.__debug("disconnect");try{await this.__connectPromise}catch{}this.__disconnectPromise=Promise.resolve().then(async()=>{this.__connected=!1,this.io&&(await this.io.then(t=>t.unsubscribe()).catch(t=>this.__debug("Error Disconnecting:",t)),delete this.io)}),this.__disconnectPromise.catch(()=>{}).finally(()=>{delete this.__disconnectPromise}),await this.__disconnectPromise}destroy(){for(const t of Object.keys(this.__cache))this.__cache[t]={};for(const t of Object.keys(this.__cacheAllComplete))this.__cacheAllComplete[t]=!1;this.removeAllListeners(),this.disconnect().catch(()=>{})}},$(W,"ID",null),$(W,"CRUD",{}),W);var Manager_1$1=Manager$8;const Item$9=Item_1;let App$1=class extends Item$9{async call({method:e,path:r,body:a}){if(typeof e!="string")throw new Error("Invalid Path");if(typeof r!="string")throw new Error("Invalid Path");return r.startsWith("/")||(r=`/${r}`),this.__debug(e,r),this.homey.call({method:e,path:`/api/app/${this.id}${r}`,body:a})}async get({path:e}){return this.call({path:e,method:"GET"})}async post({path:e,body:r}){return this.call({path:e,body:r,method:"POST"})}async put({path:e,body:r}){return this.call({path:e,body:r,method:"PUT"})}async delete({path:e}){return this.call({path:e,method:"DELETE"})}};var App_1=App$1;const Manager$7=Manager_1$1,App=App_1,X=class extends Manager$7{};let ManagerApps=X;$(ManagerApps,"CRUD",{...x(X,X,"CRUD"),App});var ManagerApps_1=ManagerApps;const Item$8=Item_1;let Driver$3=class extends Item$8{};var Driver_1$1=Driver$3;const Item$7=Item_1;let PairSession$3=class extends Item$7{};var PairSession_1$1=PairSession$3;const Manager$6=Manager_1$1,Driver$2=Driver_1$1,PairSession$2=PairSession_1$1;var N;let ManagerDrivers$1=(N=class extends Manager$6{},$(N,"CRUD",{...x(N,N,"CRUD"),Driver:Driver$2,PairSession:PairSession$2}),N);var ManagerDrivers_1$1=ManagerDrivers$1;const Item$6=Item_1;let Capability$3=class extends Item$6{};var Capability_1$1=Capability$3;const Util$3=Util_1,EventEmitter=EventEmitter_1;let DeviceCapability$1=class extends EventEmitter{constructor({id:e,device:r,listener:a}){super(),this.__onCapabilityValue=this.__onCapabilityValue.bind(this),this.__onDeviceDelete=this.__onDeviceDelete.bind(this),Object.defineProperty(this,"id",{value:e,enumerable:!0,writable:!1}),Object.defineProperty(this,"device",{value:r,enumerable:!1,writable:!1}),Object.defineProperty(this,"__listener",{value:a,enumerable:!1,writable:!1}),Object.defineProperty(this,"__transactionIds",{value:{},enumerable:!1,writable:!1}),Object.defineProperty(this,"__value",{value:r.capabilitiesObj&&r.capabilitiesObj[this.id]?r.capabilitiesObj[this.id].value:null,enumerable:!1,writable:!0}),Object.defineProperty(this,"__lastChanged",{value:r.capabilitiesObj&&r.capabilitiesObj[this.id]?r.capabilitiesObj[this.id].lastUpdated:null,enumerable:!1,writable:!0}),this.device.on("capability",this.__onCapabilityValue),this.device.on("delete",this.__onDeviceDelete)}__debug(...e){this.device.__debug(`[DeviceCapability:${this.id}]`,...e)}destroy(){this.emit("destroy"),this.device.off("capability",this.__onCapabilityValue),this.device.off("delete",this.__onDeviceDelete),this.removeAllListeners()}__onCapabilityValue({capabilityId:e,value:r,transactionId:a,transactionTime:o}){if(e!==this.id)return;if(this.__transactionIds[a]){delete this.__transactionIds[a];return}if(r===this.__value)return;this.__value=r,this.__lastChanged=new Date(o);const n=this.device.capabilitiesObj&&this.device.capabilitiesObj[this.id];n&&(n.value=r,n.lastUpdated=this.__lastChanged),this.__listener(r)}__onDeviceDelete(){this.destroy()}get value(){return typeof this.__value<"u"?this.__value:null}get lastChanged(){return this.__lastChanged instanceof Date?this.__lastChanged:typeof this.__lastChanged=="string"?new Date(this.__lastChanged):null}async setValue(e,r){const a=`homey-api-${Util$3.uuid()}`,o=Date.now();this.__transactionIds[a]=o,await this.device.setCapabilityValue({value:e,opts:r,transactionId:a,transactionTime:o,capabilityId:this.id}),this.__value=e,this.__lastChanged=new Date;const n=this.device.capabilitiesObj&&this.device.capabilitiesObj[this.id];n&&(n.value=e,n.lastUpdated=this.__lastChanged.toISOString())}};var DeviceCapability_1=DeviceCapability$1;const Util$2=Util_1,Item$5=Item_1,DeviceCapability=DeviceCapability_1;let Device$5=class extends Item$5{constructor(...e){super(...e),Object.defineProperty(this,"__capabilityInstances",{value:{},enumerable:!1,writable:!0})}makeCapabilityInstance(e,r){this.connect().catch(o=>{this.__debug(o)});const a=new DeviceCapability({listener:r,id:e,device:this});return a.once("destroy",()=>{this.__capabilityInstances[e]=this.__capabilityInstances[e]||[],this.__capabilityInstances[e]=this.__capabilityInstances[e].filter(o=>o!==a),this.__capabilityInstances[e].length===0&&delete this.__capabilityInstances[e],Object.keys(this.__capabilityInstances).length===0&&(this.__debug("No more Capability instances, disconnecting..."),this.disconnect().catch(o=>this.__debug(o)))}),this.__capabilityInstances[e]=this.__capabilityInstances[e]||[],this.__capabilityInstances[e].push(a),a}async setCapabilityValue(e,...r){return typeof e=="string"?this.setCapabilityValueLegacy(e,...r):this.__setCapabilityValue(e)}async __setCapabilityValue({capabilityId:e,value:r,opts:a,transactionId:o=`homey-api-${Util$2.uuid()}`,transactionTime:n=Date.now()}){return this.manager.setCapabilityValue({deviceId:this.id,capabilityId:e,value:r,opts:a,transactionId:o,transactionTime:n})}async setCapabilityValueLegacy(e,r,a){return this.__setCapabilityValue({capabilityId:e,value:r,opts:a})}onReconnect(){Object.keys(this.__capabilityInstances).length>0&&this.manager.getDevice({id:this.id}).then(async e=>{Object.entries(this.__capabilityInstances).forEach(([r,a])=>{const o=e.capabilitiesObj&&typeof e.capabilitiesObj[r]<"u"?e.capabilitiesObj[r].value:null;a.__onCapabilityValue({capabilityId:r,value:o,transactionId:Util$2.uuid()})})}).catch(e=>this.__debug(`Device[${this.id}].onReconnectError:`,e))}async getZone(){return this.homey.zones.getZone({id:this.zone})}async getDriver(){return this.homey.drivers.getDriver({id:this.driverId})}async getLogs(){const e=await this.homey.insights.getLogs();return Object.values(e).filter(r=>r.ownerUri===this.uri).reduce((r,a)=>({...r,[a.id]:a}),{})}async getFlows(){const e=await this.homey.flow.getFlows();return Object.values(e).filter(r=>!!(r.trigger&&r.trigger.id.startsWith(this.uri)||Array.isArray(r.conditions)&&r.conditions.some(a=>a.id.startsWith(this.uri))||Array.isArray(r.actions)&&r.actions.some(a=>a.id.startsWith(this.uri)))).reduce((r,a)=>({...r,[a.id]:a}),{})}async getAdvancedFlows(){const e=await this.homey.flow.getAdvancedFlows();return Object.values(e).filter(r=>Object.values(r.cards).filter(a=>["trigger","condition","action"].includes(a.type)).some(a=>!!a.id.startsWith(this.uri))).reduce((r,a)=>({...r,[a.id]:a}),{})}static transformGet(e){if(e=super.transformGet(e),delete e.driverUri,e.capabilitiesObj)for(const r of Object.values(e.capabilitiesObj))r.lastUpdated&&(r.lastUpdated=new Date(r.lastUpdated));return e}};var Device_1$2=Device$5;const Manager$5=Manager_1$1,Capability$2=Capability_1$1,Device$4=Device_1$2;var V;let ManagerDevices$1=(V=class extends Manager$5{},$(V,"CRUD",{...x(V,V,"CRUD"),Capability:Capability$2,Device:Device$4}),V);var ManagerDevices_1$1=ManagerDevices$1;const Item$4=Item_1;let Flow$3=class extends Item$4{async isBroken(){const e=this.homey.flow;if(!e.isConnected())throw new Error("Flow.isBroken requires ManagerFlow to be connected.");const r=this.homey.flowtoken;if(!r.isConnected())throw new Error("Flow.isBroken requires ManagerFlowToken to be connected.");const a=[],o=async p=>{if(p.includes("|")){const g=await r.getFlowTokens();for(const u of Object.keys(g))a.push(u);p=p.replace("|",":")}if(!a.includes(p))throw new Error(`Missing Token: ${p}`)},n=async p=>{if(p.droptoken&&await o(p.droptoken),typeof p.args=="object"){for(const g of Object.values(p.args))if(typeof g=="string")for(const[u,c]of g.matchAll(/\[\[(.*?)\]\]/g))await o(c)}};if(this.trigger)try{await e.getFlowCardTriggers();const p=await this.manager.getFlowCardTrigger({id:this.trigger.id});if(await n(this.trigger),Array.isArray(p.tokens))for(const g of Object.keys(p.tokens))a.push(g)}catch(p){return this.__debug(p.message),!0}if(Array.isArray(this.conditions))for(const p of Object.values(this.conditions))try{await e.getFlowCardConditions();const g=await this.manager.getFlowCardCondition({id:p.id});await n(p)}catch(g){return this.__debug(g.message),!0}if(Array.isArray(this.actions))for(const p of Object.values(this.actions))try{await e.getFlowCardActions();const g=await this.manager.getFlowCardAction({id:p.id});await n(p)}catch(g){return this.__debug(g.message),!0}return!1}};var Flow_1$1=Flow$3;const Item$3=Item_1;let AdvancedFlow$3=class extends Item$3{async isBroken(){const e=this.homey.flow;if(!e.isConnected())throw new Error("Flow.isBroken requires ManagerFlow to be connected.");const r=this.homey.flowtoken;if(!r.isConnected())throw new Error("Flow.isBroken requires ManagerFlowToken to be connected.");const a=[],o=async p=>{if(p.includes("|")){const g=await r.getFlowTokens();for(const u of Object.keys(g))a.push(u);p=p.replace("|",":")}if(!a.includes(p))throw new Error(`Missing Token: ${p}`)},n=async p=>{if(p.droptoken&&await o(p.droptoken),typeof p.args=="object"){for(const g of Object.values(p.args))if(typeof g=="string")for(const[u,c]of g.matchAll(/\[\[(.*?)\]\]/g))await o(c)}};for(const[p,g]of Object.entries(this.cards))switch(g.type){case"trigger":try{await e.getFlowCardTriggers();const u=await this.manager.getFlowCardTrigger({id:g.id});if(Array.isArray(u.tokens))for(const c of Object.values(u.tokens))a.push(`trigger::${p}::${c.id}`);break}catch(u){return this.__debug(u),!0}case"condition":try{await e.getFlowCardConditions();const u=await this.manager.getFlowCardCondition({id:g.id});a.push(`card::${p}::error`);break}catch(u){return this.__debug(u),!0}case"action":try{await e.getFlowCardActions();const u=await this.manager.getFlowCardAction({id:g.id});if(a.push(`card::${p}::error`),Array.isArray(u.tokens))for(const c of Object.values(u.tokens))a.push(`action::${p}::${c.id}`);break}catch(u){return this.__debug(u),!0}}for(const p of Object.values(this.cards))await n(p);return!1}};var AdvancedFlow_1$1=AdvancedFlow$3;const Item$2=Item_1;let FlowCard$3=class extends Item$2{static transformGet(e){return e=super.transformGet(e),delete e.ownerName,e}};var FlowCard_1=FlowCard$3;const FlowCard$2=FlowCard_1;let FlowCardTrigger$3=class extends FlowCard$2{};var FlowCardTrigger_1$1=FlowCardTrigger$3;const FlowCard$1=FlowCard_1;let FlowCardCondition$3=class extends FlowCard$1{};var FlowCardCondition_1$1=FlowCardCondition$3;const FlowCard=FlowCard_1;let FlowCardAction$3=class extends FlowCard{};var FlowCardAction_1$1=FlowCardAction$3;const Manager$4=Manager_1$1,Flow$2=Flow_1$1,AdvancedFlow$2=AdvancedFlow_1$1,FlowCardTrigger$2=FlowCardTrigger_1$1,FlowCardCondition$2=FlowCardCondition_1$1,FlowCardAction$2=FlowCardAction_1$1;var G;let ManagerFlow$1=(G=class extends Manager$4{},$(G,"CRUD",{...x(G,G,"CRUD"),Flow:Flow$2,AdvancedFlow:AdvancedFlow$2,FlowCardTrigger:FlowCardTrigger$2,FlowCardCondition:FlowCardCondition$2,FlowCardAction:FlowCardAction$2}),G);var ManagerFlow_1$1=ManagerFlow$1;const Item$1=Item_1;let FlowToken$3=class extends Item$1{static transformGet(e){return e=super.transformGet(e),e.uri&&(e.id=`${e.uri}:${e.id}`,delete e.uri),delete e.uriObj,delete e.ownerName,e}};var FlowToken_1$1=FlowToken$3;const Manager$3=Manager_1$1,FlowToken$2=FlowToken_1$1;var Y;let ManagerFlowToken$1=(Y=class extends Manager$3{},$(Y,"CRUD",{...x(Y,Y,"CRUD"),FlowToken:FlowToken$2}),Y);var ManagerFlowToken_1$1=ManagerFlowToken$1;const Item=Item_1;let Log$3=class extends Item{async getEntries(){return this.manager.getLogEntries({id:this.id})}static transformGet(e){return e=super.transformGet(e),delete e.ownerName,e}};var Log_1$1=Log$3;const Manager$2=Manager_1$1,Log$2=Log_1$1;var z;let ManagerInsights$1=(z=class extends Manager$2{},$(z,"CRUD",{...x(z,z,"CRUD"),Log:Log$2}),z);var ManagerInsights_1$1=ManagerInsights$1;const managers$2={ManagerAlarms:{id:"alarms",idCamelCase:"alarms",private:!1,items:{Alarm:{id:"alarm",type:"id",schema:{type:"object",properties:{id:{type:"string",format:"uuid","x-homey-readonly":!0},name:{type:"string"},time:{type:"string"},enabled:{type:"boolean"},nextOccurance:{type:"string",format:"date-time","x-homey-readonly":!0},repetition:{type:"object",required:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],properties:{monday:{type:"boolean"},tuesday:{type:"boolean"},wednesday:{type:"boolean"},thursday:{type:"boolean"},friday:{type:"boolean"},saturday:{type:"boolean"},sunday:{type:"boolean"}}}},"x-realtime-bindings":{read:"getAlarm",create:"alarm.create",update:"alarm.update",delete:"alarm.delete"}}}},operations:{deleteAlarm:{method:"DELETE",path:"/alarm/:id",private:!1,scopes:["homey.alarm"],crud:{type:"deleteOne",item:"Alarm"},parameters:{id:{in:"path",required:!0,type:"string"}}},updateAlarm:{method:"PUT",path:"/alarm/:id",private:!1,scopes:["homey.alarm"],crud:{type:"updateOne",item:"Alarm"},parameters:{id:{in:"path",required:!0,type:"string"},alarm:{in:"body",root:!0,required:!0}}},createAlarm:{method:"POST",path:"/alarm",private:!1,scopes:["homey.alarm"],crud:{type:"createOne",item:"Alarm"},parameters:{alarm:{in:"body",root:!0,required:!0}}},getAlarm:{method:"GET",path:"/alarm/:id",private:!1,scopes:["homey.alarm.readonly"],crud:{type:"getOne",item:"Alarm"},parameters:{id:{in:"path",required:!0,type:"string"}}},getAlarms:{method:"GET",path:"/alarm",private:!1,scopes:["homey.alarm.readonly"],crud:{type:"getAll",item:"Alarm"},parameters:{}}}},ManagerApps:{id:"apps",idCamelCase:"apps",private:!1,items:{App:{id:"app",type:"id",schema:{type:"object",properties:{enabled:{"x-homey-readonly":!0,type:"boolean",default:!0},autoupdate:{type:"boolean",default:!0},id:{"x-homey-readonly":!0,type:"string"},sdk:{"x-homey-readonly":!0,type:"number",enum:[1,2,3]},name:{"x-homey-readonly":!0,type:"string"},origin:{"x-homey-updateable":!1,type:"string",enum:["appstore","devkit_run","devkit_install","unknown"]},channel:{"x-homey-updateable":!1,type:"string",enum:["stable","beta","alpha"]},version:{"x-homey-readonly":!0,type:"string"},compatibility:{"x-homey-readonly":!0,type:"string"},icon:{type:"string"},iconObj:{"x-homey-updateable":!1,type:"object",properties:{id:{type:"string"},url:{type:"string"}}},author:{"x-homey-readonly":!0,type:"object",properties:{name:{type:"string"},email:{type:"string"}}},permissions:{"x-homey-readonly":!0,type:"array",items:{type:"string"}},images:{"x-homey-readonly":!0,type:"object",properties:{small:{type:"string"},large:{type:"string"}}},session:{"x-homey-readonly":!0,type:"string"},ready:{"x-homey-readonly":!0,type:"boolean"},state:{"x-homey-readonly":!0,type:"string",enum:["stopped","stopping","starting","running"]},crashed:{"x-homey-readonly":!0,type:"boolean"},crashedMessage:{"x-homey-readonly":!0,type:"string"},exitCode:{"x-homey-readonly":!0,type:"number"},exitSignal:{"x-homey-readonly":!0,type:"string"},exitCount:{"x-homey-readonly":!0,type:"number"},settings:{"x-homey-readonly":!0,type:"boolean"},brandColor:{"x-homey-readonly":!0,type:"string"},hasDrivers:{"x-homey-readonly":!0,type:"boolean"},usage:{"x-homey-readonly":!0,type:"object",properties:{cpu:{type:"number"},mem:{type:"number"}}},updateAvailable:{type:"object",properties:{version:{type:"string"},permissions:{type:"array",items:{type:"string"}}}}},"x-realtime-bindings":{read:"getApp",create:"app.create",update:"app.update",delete:"app.delete"}}}},operations:{uninstallApp:{method:"DELETE",path:"/app/:id",private:!1,scopes:["homey.app"],parameters:{id:{in:"path",required:!0,type:"string"},purgeSettings:{in:"query",type:"string"}}},installFromAppStore:{method:"POST",path:"/store/",private:!1,scopes:["homey.app"],parameters:{channel:{in:"body",type:"string"},id:{in:"body",type:"string",required:!0}}},getAppLocales:{method:"GET",path:"/app/:id/locale",private:!1,scopes:["homey.app.readonly"],parameters:{id:{in:"path",required:!0,type:"string"}}},disableApp:{method:"PUT",path:"/app/:id/disable",private:!1,scopes:["homey.app"],parameters:{id:{in:"path",required:!0,type:"string"}}},enableApp:{method:"PUT",path:"/app/:id/enable",private:!1,scopes:["homey.app"],parameters:{id:{in:"path",required:!0,type:"string"}}},garbageCollectApp:{method:"POST",path:"/app/:id/gc",private:!1,scopes:["homey.app"],parameters:{id:{in:"path",required:!0,type:"string"}}},restartApp:{method:"POST",path:"/app/:id/restart",private:!1,scopes:["homey.app"],parameters:{id:{in:"path",required:!0,type:"string"}}},unsetAppSetting:{method:"DELETE",path:"/app/:id/setting/:name",private:!1,scopes:["homey.app.control"],parameters:{name:{in:"path",required:!0,type:"string"},id:{in:"path",required:!0,type:"string"}}},setAppSetting:{method:"PUT",path:"/app/:id/setting/:name",private:!1,scopes:["homey.app.control"],parameters:{name:{in:"path",required:!0,type:"string"},id:{in:"path",required:!0,type:"string"},value:{in:"body",required:!0}}},getAppSetting:{method:"GET",path:"/app/:id/setting/:name",private:!1,scopes:["homey.app.control"],parameters:{name:{in:"path",required:!0,type:"string"},id:{in:"path",required:!0,type:"string"}}},getAppSettings:{method:"GET",path:"/app/:id/setting",private:!1,scopes:["homey.app.control"],parameters:{id:{in:"path",required:!0,type:"string"}}},getAppStd:{method:"POST",path:"/app/:id/crashlog",private:!1,scopes:["homey.app.readonly"],parameters:{id:{in:"path",required:!0,type:"string"},message:{in:"body",type:"string"}}},updateApp:{method:"PUT",path:"/app/:id",private:!1,scopes:["homey.app"],crud:{type:"updateOne",item:"App"},parameters:{id:{in:"path",required:!0,type:"string"},app:{in:"body",root:!0,required:!0}}},getApp:{method:"GET",path:"/app/:id",private:!1,scopes:["homey.app.readonly"],crud:{type:"getOne",item:"App"},parameters:{id:{in:"path",required:!0,type:"string"}}},getApps:{method:"GET",path:"/app",private:!1,scopes:["homey.app.readonly"],crud:{type:"getAll",item:"App"},parameters:{}}}},ManagerAudio:{id:"audio",idCamelCase:"audio",private:!1,operations:{getOptionVolume:{method:"GET",path:"/option/volume",scopes:["SYSTEM"]},setOptionVolume:{method:"PUT",path:"/option/volume",scopes:["SYSTEM"],parameters:{value:{in:"body",type:"number",required:!0}}},unsetOptionVolume:{method:"DELETE",path:"/option/volume",scopes:["SYSTEM"]},playVolumeHint:{method:"POST",path:"/volume-hint/",private:!1,scopes:["homey.system"],parameters:{}}}},ManagerBackup:{id:"backup",idCamelCase:"backup",private:!1,operations:{getState:{method:"GET",path:"/state",scopes:["SYSTEM_READONLY"]},getOptionAutomaticBackupsEnabled:{method:"GET",path:"/option/automaticBackupsEnabled",scopes:["SYSTEM"]},setOptionAutomaticBackupsEnabled:{method:"PUT",path:"/option/automaticBackupsEnabled",scopes:["SYSTEM"],parameters:{value:{in:"body",type:"boolean",required:!0}}},unsetOptionAutomaticBackupsEnabled:{method:"DELETE",path:"/option/automaticBackupsEnabled",scopes:["SYSTEM"]},getOptionLastSuccessfulBackup:{method:"GET",path:"/option/lastSuccessfulBackup",scopes:["SYSTEM"]},setOptionLastSuccessfulBackup:{method:"PUT",path:"/option/lastSuccessfulBackup",scopes:[],parameters:{value:{in:"body",type:"string",required:!0}}},unsetOptionLastSuccessfulBackup:{method:"DELETE",path:"/option/lastSuccessfulBackup",scopes:[]},scheduleBackup:{method:"POST",path:"/backup/",private:!1,scopes:["homey.system"],parameters:{}}}},ManagerBLE:{id:"ble",idCamelCase:"ble",private:!1,operations:{getState:{method:"GET",path:"/state",scopes:["SYSTEM_READONLY"]},runCommand:{method:"POST",path:"/command",private:!1,scopes:["homey.system"],parameters:{opts:{in:"body",type:"object"},command:{in:"body",type:"string",required:!0}}}}},ManagerCloud:{id:"cloud",idCamelCase:"cloud",private:!1,operations:{getState:{method:"GET",path:"/state",scopes:["SYSTEM_READONLY"]}}},ManagerCoprocessor:{id:"coprocessor",idCamelCase:"coprocessor",private:!0,operations:{setConfig:{method:"PUT",path:"/:deviceId/config",private:!1,scopes:["homey.system"],parameters:{deviceId:{in:"path",type:"string"},config:{in:"body",type:"object",root:!0}}},setModulation:{method:"PUT",path:"/:deviceId/modulation",private:!1,scopes:["homey.system"],parameters:{deviceId:{in:"path",type:"string"},baudRate:{in:"body",type:"number"},channelSpacing:{in:"body",type:"number"},channelDeviation:{in:"body",type:"number"},carrier:{in:"body",type:"number"},type:{in:"body",type:"string"}}}}},ManagerDatabase:{id:"database",idCamelCase:"database",private:!1,operations:{optimize:{method:"POST",path:"/optimize",private:!1,scopes:["homey.system"],parameters:{}}}},ManagerDevices:{id:"devices",idCamelCase:"devices",private:!1,items:{Device:{id:"device",type:"id",schema:{type:"object",properties:{id:{"x-homey-readonly":!0,type:"string",format:"uuid"},name:{type:"string"},driverUri:{"x-homey-updateable":!1,type:"string"},driverId:{"x-homey-updateable":!1,type:"string"},zone:{type:"string",description:"The id of the device's zone."},data:{"x-homey-updateable":!1,type:"object"},icon:{type:"string"},iconObj:{"x-homey-updateable":!1,type:"object",properties:{id:{type:"string"},url:{type:"string"}}},iconOverride:{type:["string","null"]},settings:{"x-homey-updateable":!1,type:"object"},settingsObj:{"x-homey-updateable":!1,type:"boolean",description:"This property is true when there are settings, getable by the getDeviceSettingsObj method"},class:{"x-homey-updateable":!1,type:"string"},energy:{"x-homey-updateable":!1,type:"object",properties:{approximation:{type:"object",properties:{usageOn:{type:"number"},usageOff:{type:"number"},usageConstant:{type:"number"}}},cumulative:{type:"boolean"},batteries:{type:"array",items:{type:"string"}}}},energyObj:{"x-homey-updateable":!1,type:"object"},virtualClass:{type:["string","null"]},ui:{"x-homey-updateable":!1,type:"object",properties:{quickAction:{type:"string",description:"Optional capabilityId of the quick action"},components:{type:"array",items:{type:"object",properties:{id:{type:"string",description:"ID of the UI component"},capabilities:{type:"array",description:"An array of capabilityIds",items:{type:"string"}}}}}}},uiIndicator:{type:["string","null"]},capabilities:{"x-homey-updateable":!1,type:"array",items:{type:"string"}},capabilitiesObj:{"x-homey-updateable":!1,type:"object",additionalProperties:{type:"object",properties:{id:{type:"string"},uri:{type:"string"},title:{type:"string"},desc:{type:"string"},type:{type:"string",enum:["boolean","number","string","enum"]},getable:{type:"boolean"},setable:{type:"boolean"},chartType:{type:"string",enum:["line","area","stepLine","column","spline","splineArea","scatter"]},decimals:{type:"number"},min:{type:"number"},max:{type:"number"},step:{type:"number"},units:{type:"string"},values:{type:"array",items:{type:"object",required:["id","title"],properties:{id:{type:"string"},title:{type:"string"}}}},value:{type:"object"},lastUpdated:{type:"string",format:"date-time"},options:{type:"object"}}}},capabilitiesOptions:{"x-homey-updateable":!1,type:"object"},flags:{"x-homey-readonly":!0,type:"array",items:{type:"string"}},ready:{"x-homey-readonly":!0,type:"boolean",description:"A device is when the device's driver is available and ready."},available:{"x-homey-readonly":!0,type:"boolean",description:"A device can be available or unavailable, decided by the device's driver. If the driver is unavailable, the property `unavailableMessage` might be set. For example, a device can be unavailable when there is no wireless connection possible."},repair:{"x-homey-readonly":!0,type:"boolean",description:"If true, this device can be repaired using a repair PairSession."},unpair:{"x-homey-readonly":!0,type:"boolean",description:"If true, this device needs to be deleted using an unpair PairSession."},unavailableMessage:{"x-homey-readonly":!0,type:"string"},images:{type:"array",items:{type:"object",properties:{type:{type:"string",enum:["media","camera"]},id:{type:"string"},imageObj:{"x-base-class":"ManagerImages.Image","x-homey-updateable":!1,type:"object",properties:{id:{type:"string"},ownerUri:{type:"string"},url:{type:"string"},lastUpdated:{type:"string",format:"date-time"}}}}}},insights:{type:"array",items:{type:"object",properties:{uri:{type:"string"},id:{type:"string"},title:{type:"string"},titleTrue:{type:"string"},titleFalse:{type:"string"},units:{type:"string"},decimals:{type:"number"}}}},color:{type:"string"}},"x-realtime-bindings":{read:"getDevice",create:"device.create",update:"device.update",delete:"device.delete"}}},Capability:{id:"capability",type:"filter",schema:{type:"object",properties:{id:{type:"string"},uri:{type:"string"},title:{type:"string"},desc:{type:"string"},type:{type:"string",enum:["boolean","number","string","enum"]},getable:{type:"boolean"},setable:{type:"boolean"},chartType:{type:"string",enum:["line","area","stepLine","column","spline","splineArea","scatter"]},decimals:{type:"number"},min:{type:"number"},max:{type:"number"},step:{type:"number"},units:{type:"string"},values:{type:"array",items:{type:"object",required:["id","title"],properties:{id:{type:"string"},title:{type:"string"}}}}},"x-realtime-bindings":{read:"getCapability",create:"capability.create",update:"capability.update",delete:"capability.delete"}}}},operations:{getCapability:{method:"GET",path:"/capability/:uri/:id",private:!1,scopes:["homey.device.readonly"],crud:{type:"getOne",item:"Capability"},parameters:{id:{in:"path",required:!0,type:"string"},uri:{in:"path",required:!0,type:"string"}}},getCapabilities:{method:"GET",path:"/capability",private:!1,scopes:["homey.device.readonly"],crud:{type:"getAll",item:"Capability"},parameters:{}},setDeviceSettings:{method:"PUT",path:"/device/:id/settings",private:!1,scopes:["homey.device"],parameters:{id:{in:"path",required:!0,type:"string"},settings:{in:"body",root:!0,required:!0}}},getDeviceSettingsObj:{method:"GET",path:"/device/:id/settings_obj",private:!1,scopes:["homey.device.readonly"],parameters:{id:{in:"path",required:!0,type:"string"}}},setCapabilityValue:{method:"PUT",path:"/device/:deviceId/capability/:capabilityId",private:!1,scopes:["homey.device.control"],parameters:{capabilityId:{in:"path",required:!0,type:"string"},deviceId:{in:"path",required:!0,type:"string"},transactionId:{in:"body"},opts:{in:"body"},value:{in:"body",required:!0}}},deleteDevice:{method:"DELETE",path:"/device/:id",private:!1,scopes:["homey.device"],crud:{type:"deleteOne",item:"Device"},parameters:{id:{in:"path",required:!0,type:"string"}}},updateDevice:{method:"PUT",path:"/device/:id",private:!1,scopes:["homey.device"],crud:{type:"updateOne",item:"Device"},parameters:{id:{in:"path",type:"string",required:!0},device:{in:"body",root:!0,required:!0}}},getDevice:{method:"GET",path:"/device/:id",private:!1,scopes:["homey.device.readonly"],crud:{type:"getOne",item:"Device"},parameters:{id:{in:"path",required:!0,type:"string"}}},getDevices:{method:"GET",path:"/device/",private:!1,scopes:["homey.device.readonly"],crud:{type:"getAll",item:"Device"},parameters:{}}}},ManagerDevkit:{id:"devkit",idCamelCase:"devkit",private:!1,operations:{getAppStdOut:{method:"GET",path:"/std/:session",private:!1,scopes:["homey.app.readonly"],parameters:{session:{in:"path",required:!0,type:"string"}}},getAppUsage:{method:"GET",path:"/usage",private:!1,scopes:["homey.app.readonly"],parameters:{}},setUsbMode:{method:"PUT",path:"/usb/",private:!1,scopes:["homey.system"],parameters:{os:{in:"body",type:"string",required:!0}}},getUsbMode:{method:"GET",path:"/usb/",private:!1,scopes:["homey.system"],parameters:{}},stopApp:{method:"DELETE",path:"/:session",private:!1,scopes:["homey.app"],parameters:{session:{in:"path",required:!0,type:"string"}}},runApp:{method:"POST",path:"/",private:!1,scopes:["homey.app"],parameters:{purgeSettings:{in:"formData",type:"string",required:!0},env:{in:"formData",type:"string",required:!0},debug:{in:"formData",type:"string",required:!0},app:{in:"formData",type:"string",required:!0}}},stopLedringAnimation:{method:"DELETE",path:"/ledring",private:!1,scopes:["homey.app"],parameters:{animation_id:{in:"query",type:"string",required:!0}}},startLedringAnimation:{method:"POST",path:"/ledring",private:!1,scopes:["homey.app"],parameters:{animation:{in:"body",root:!0,required:!0}}}}},ManagerDrivers:{id:"drivers",idCamelCase:"drivers",private:!1,items:{Driver:{id:"driver",type:"filter",schema:{type:"object",properties:{id:{type:"string"},uri:{type:"string"},uriObj:{type:"object"},icon:{type:"string"},iconObj:{"x-homey-updateable":!1,type:"object",properties:{id:{type:"string"},url:{type:"string"}}},ready:{type:"boolean"},pair:{type:"boolean"},unpair:{type:"boolean"},repair:{type:"boolean"},color:{type:"string"},deprecated:{type:"boolean"},class:{type:"string"},connectivity:{type:"array"}},"x-realtime-bindings":{read:"getDriver",create:"driver.create",update:"driver.update",delete:"driver.delete"}}},Device:{id:"device",type:"id",schema:{type:"object",properties:{id:{"x-homey-readonly":!0,type:"string",format:"uuid"},name:{type:"string"},driverUri:{"x-homey-updateable":!1,type:"string"},driverId:{"x-homey-updateable":!1,type:"string"},zone:{type:"string",description:"The id of the device's zone."},data:{"x-homey-updateable":!1,type:"object"},icon:{type:"string"},iconObj:{"x-homey-updateable":!1,type:"object",properties:{id:{type:"string"},url:{type:"string"}}},iconOverride:{type:["string","null"]},settings:{"x-homey-updateable":!1,type:"object"},settingsObj:{"x-homey-updateable":!1,type:"boolean",description:"This property is true when there are settings, getable by the getDeviceSettingsObj method"},class:{"x-homey-updateable":!1,type:"string"},energy:{"x-homey-updateable":!1,type:"object",properties:{approximation:{type:"object",properties:{usageOn:{type:"number"},usageOff:{type:"number"},usageConstant:{type:"number"}}},cumulative:{type:"boolean"},batteries:{type:"array",items:{type:"string"}}}},energyObj:{"x-homey-updateable":!1,type:"object"},virtualClass:{type:["string","null"]},ui:{"x-homey-updateable":!1,type:"object",properties:{quickAction:{type:"string",description:"Optional capabilityId of the quick action"},components:{type:"array",items:{type:"object",properties:{id:{type:"string",description:"ID of the UI component"},capabilities:{type:"array",description:"An array of capabilityIds",items:{type:"string"}}}}}}},uiIndicator:{type:["string","null"]},capabilities:{"x-homey-updateable":!1,type:"array",items:{type:"string"}},capabilitiesObj:{"x-homey-updateable":!1,type:"object",additionalProperties:{type:"object",properties:{id:{type:"string"},uri:{type:"string"},title:{type:"string"},desc:{type:"string"},type:{type:"string",enum:["boolean","number","string","enum"]},getable:{type:"boolean"},setable:{type:"boolean"},chartType:{type:"string",enum:["line","area","stepLine","column","spline","splineArea","scatter"]},decimals:{type:"number"},min:{type:"number"},max:{type:"number"},step:{type:"number"},units:{type:"string"},values:{type:"array",items:{type:"object",required:["id","title"],properties:{id:{type:"string"},title:{type:"string"}}}},value:{type:"object"},lastUpdated:{type:"string",format:"date-time"},options:{type:"object"}}}},capabilitiesOptions:{"x-homey-updateable":!1,type:"object"},flags:{"x-homey-readonly":!0,type:"array",items:{type:"string"}},ready:{"x-homey-readonly":!0,type:"boolean",description:"A device is when the device's driver is available and ready."},available:{"x-homey-readonly":!0,type:"boolean",description:"A device can be available or unavailable, decided by the device's driver. If the driver is unavailable, the property `unavailableMessage` might be set. For example, a device can be unavailable when there is no wireless connection possible."},repair:{"x-homey-readonly":!0,type:"boolean",description:"If true, this device can be repaired using a repair PairSession."},unpair:{"x-homey-readonly":!0,type:"boolean",description:"If true, this device needs to be deleted using an unpair PairSession."},unavailableMessage:{"x-homey-readonly":!0,type:"string"},images:{type:"array",items:{type:"object",properties:{type:{type:"string",enum:["media","camera"]},id:{type:"string"},imageObj:{"x-base-class":"ManagerImages.Image","x-homey-updateable":!1,type:"object",properties:{id:{type:"string"},ownerUri:{type:"string"},url:{type:"string"},lastUpdated:{type:"string",format:"date-time"}}}}}},insights:{type:"array",items:{type:"object",properties:{uri:{type:"string"},id:{type:"string"},title:{type:"string"},titleTrue:{type:"string"},titleFalse:{type:"string"},units:{type:"string"},decimals:{type:"number"}}}},color:{type:"string"}}}},PairSession:{id:"pairsession",type:"id",schema:{type:"object",required:["type"],properties:{id:{"x-homey-readonly":!0,type:"string"},type:{type:"string",enum:["pair","unpair","repair"]},driverId:{type:"string"},driverUri:{type:"string"},deviceId:{type:"string"},zoneId:{type:"string"},views:{"x-homey-readonly":!0,type:"array"}},"x-realtime-bindings":{read:"getPairSession",create:"pairsession.create",update:"pairsession.update",delete:"pairsession.delete"}}}},operations:{deletePairSessionDevice:{method:"DELETE",path:"/pairsession/:id/device",private:!1,scopes:["homey.device"],parameters:{id:{in:"path",required:!0,type:"string"}}},createPairSessionDevice:{method:"POST",path:"/pairsession/:id/device",private:!1,scopes:["homey.device"],parameters:{id:{in:"path",required:!0,type:"string"},device:{in:"body",root:!0,required:!0}}},deletePairSession:{method:"DELETE",path:"/pairsession/:id",private:!1,scopes:["homey.device"],crud:{type:"deleteOne",item:"PairSession"},parameters:{id:{in:"path",required:!0,type:"string"}}},emitPairingHeartbeat:{method:"POST",path:"/pairsession/:id/heartbeat",private:!1,scopes:["homey.device"],parameters:{id:{in:"path",required:!0,type:"string"}}},emitPairingCallback:{method:"POST",path:"/pairsession/:id/callback",private:!1,scopes:["homey.device"],parameters:{id:{in:"path",required:!0,type:"string"},data:{in:"body",type:"object"},callbackId:{in:"body",type:"string",required:!0}}},emitPairingEvent:{method:"POST",path:"/pairsession/:id/emit",private:!1,scopes:["homey.device"],parameters:{id:{in:"path",required:!0,type:"string"},data:{in:"body",required:!0},event:{in:"body",type:"string",required:!0}}},createPairSession:{method:"POST",path:"/pairsession",private:!1,scopes:["homey.device"],crud:{type:"createOne",item:"PairSession"},parameters:{pairsession:{in:"body",root:!0,required:!0}}},getPairSession:{method:"GET",path:"/pairsession/:id",private:!1,scopes:["homey.device"],crud:{type:"getOne",item:"PairSession"},parameters:{id:{in:"path",required:!0,type:"string"}}},getPairSessions:{method:"GET",path:"/pairsession",private:!1,scopes:["homey.device"],crud:{type:"getAll",item:"PairSession"},parameters:{}},getDriver:{method:"GET",path:"/driver/:uri/:id",private:!1,scopes:["homey.device"],crud:{type:"getOne",item:"Driver"},parameters:{id:{in:"path",required:!0,type:"string"},uri:{in:"path",required:!0,type:"string"}}},getDrivers:{method:"GET",path:"/driver",private:!1,scopes:["homey.device.readonly"],crud:{type:"getAll",item:"Driver"},parameters:{}}}},ManagerEnergy:{id:"energy",idCamelCase:"energy",private:!1,operations:{getOptionKWhCost:{method:"GET",path:"/option/kWhCost",scopes:["SYSTEM_READONLY"]},setOptionKWhCost:{method:"PUT",path:"/option/kWhCost",scopes:["SYSTEM"],parameters:{value:{in:"body",type:"number",required:!0}}},unsetOptionKWhCost:{method:"DELETE",path:"/option/kWhCost",scopes:["SYSTEM"]},getOptionCurrency:{method:"GET",path:"/option/currency",scopes:["SYSTEM_READONLY"]},setOptionCurrency:{method:"PUT",path:"/option/currency",scopes:["SYSTEM"],parameters:{value:{in:"body",type:"string",required:!0}}},unsetOptionCurrency:{method:"DELETE",path:"/option/currency",scopes:["SYSTEM"]},getLiveReport:{method:"GET",path:"/live",private:!1,scopes:["homey.insights.readonly"],parameters:{zone:{in:"query",type:"string"}}}}},ManagerExperiments:{id:"experiments",idCamelCase:"experiments",private:!1,operations:{disableExperiment:{method:"PUT",path:"/experiment/:id/disable",private:!1,scopes:["homey.system"],parameters:{id:{in:"path",required:!0,type:"string"}}},enableExperiment:{method:"PUT",path:"/experiment/:id/enable",private:!1,scopes:["homey.system"],parameters:{id:{in:"path",required:!0,type:"string"}}},getExperiments:{method:"GET",path:"/experiment",private:!1,scopes:["homey.system"],parameters:{}}}},ManagerFlow:{id:"flow",idCamelCase:"flow",private:!1,items:{Flow:{id:"flow",type:"id",schema:{type:"object",properties:{id:{type:"string",format:"uuid"},name:{type:"string",minLength:1},enabled:{type:"boolean"},folder:{type:["string","null"],format:"uuid"},order:{type:"number"},broken:{"x-homey-readonly":!0,type:"boolean"},triggerable:{"x-homey-readonly":!0,type:"boolean"},trigger:{type:"object",required:["uri","id"],properties:{uri:{type:"string"},id:{type:"string"},droptoken:{type:"string"},args:{type:"object"}}},conditions:{type:"array",items:{type:"object",required:["uri","id"],properties:{uri:{type:"string"},id:{type:"string"},droptoken:{type:"string"},args:{type:"object"},group:{type:"string",enum:["group1","group2","group3"]},inverted:{type:"boolean",default:!1}}}},actions:{type:"array",items:{type:"object",required:["uri","id"],properties:{uri:{type:"string"},id:{type:"string"},droptoken:{type:"string"},args:{type:"object"},group:{type:"string",enum:["then","else"]},duration:{type:["object","null"],required:["multiplier","number"],properties:{multiplier:{type:"number",minimum:0,enum:[1,60]},number:{type:"string"}}},delay:{type:["object","null"],required:["multiplier","number"],properties:{multiplier:{type:"number",minimum:0,enum:[1,60]},number:{type:"string"}}}}}}},"x-realtime-bindings":{read:"getFlow",create:"flow.create",update:"flow.update",delete:"flow.delete"}}},FlowCardTrigger:{id:"flowcardtrigger",type:"filter",schema:{type:"object",properties:{uri:{type:"string"},id:{type:"string"},args:{type:"object"},deprecated:{type:"boolean"},droptoken:{type:"boolean"},duration:{type:"boolean"},uriObj:{type:"object"},broken:{type:"boolean"},title:{type:"string"},hint:{type:"string"},highlight:{type:"boolean"},tokens:{type:"array",items:{type:"object",properties:{id:{type:"string"},title:{type:"string"},hint:{type:"string"},type:{type:"string",enum:["string","number","boolean"]},example:{type:["string","number","boolean","null"]}}}}},"x-realtime-bindings":{read:"getFlowCardTrigger",create:"flowcardtrigger.create",update:"flowcardtrigger.update",delete:"flowcardtrigger.delete"}}},FlowCardCondition:{id:"flowcardcondition",type:"filter",schema:{type:"object",properties:{uri:{type:"string"},id:{type:"string"},args:{type:"object"},deprecated:{type:"boolean"},droptoken:{type:"boolean"},duration:{type:"boolean"},uriObj:{type:"object"},broken:{type:"boolean"},title:{type:"string"},hint:{type:"string"},highlight:{type:"boolean"}},"x-realtime-bindings":{read:"getFlowCardCondition",create:"flowcardcondition.create",update:"flowcardcondition.update",delete:"flowcardcondition.delete"}}},FlowCardAction:{id:"flowcardaction",type:"filter",schema:{type:"object",properties:{uri:{type:"string"},id:{type:"string"},args:{type:"object"},deprecated:{type:"boolean"},droptoken:{type:"boolean"},duration:{type:"boolean"},uriObj:{type:"object"},broken:{type:"boolean"},title:{type:"string"},hint:{type:"string"},highlight:{type:"boolean"},tokens:{type:"array",items:{type:"object",properties:{id:{type:"string"},title:{type:"string"},hint:{type:"string"},type:{type:"string",enum:["string","number","boolean"]},example:{type:["string","number","boolean","null"]}}}}},"x-realtime-bindings":{read:"getFlowCardAction",create:"flowcardaction.create",update:"flowcardaction.update",delete:"flowcardaction.delete"}}},FlowFolder:{id:"flowfolder",type:"id",schema:{type:"object",required:["name"],properties:{id:{type:"string"},name:{type:"string"},order:{type:"number"},parent:{type:"string"}},"x-realtime-bindings":{read:"getFlowFolder",create:"flowfolder.create",update:"flowfolder.update",delete:"flowfolder.delete"}}},AdvancedFlow:{id:"advancedflow",type:"id",schema:{type:"object",properties:{id:{type:"string",format:"uuid","x-homey-updateable":!1},name:{type:"string"},enabled:{type:"boolean"},broken:{"x-homey-readonly":!0,type:"boolean"},triggerable:{"x-homey-readonly":!0,type:"boolean"},folder:{type:["string","null"],format:"uuid"},cards:{type:"object",additionalProperties:!1,patternProperties:{"^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$":{type:"object",required:["type","x","y"],properties:{type:{type:"string"},x:{type:"number"},y:{type:"number"}}}}}},"x-realtime-bindings":{read:"getAdvancedFlow",create:"advancedflow.create",update:"advancedflow.update",delete:"advancedflow.delete"}}}},operations:{triggerAdvancedFlow:{method:"POST",path:"/advancedflow/:id/trigger",private:!1,scopes:["homey.flow.start"],parameters:{id:{in:"path",required:!0,type:"string"},state:{in:"body",root:!0}}},deleteAdvancedFlow:{method:"DELETE",path:"/advancedflow/:id",private:!1,scopes:["homey.flow"],crud:{type:"deleteOne",item:"AdvancedFlow"},parameters:{id:{in:"path",required:!0,type:"string"}}},updateAdvancedFlow:{method:"PUT",path:"/advancedflow/:id",private:!1,scopes:["homey.flow"],crud:{type:"updateOne",item:"AdvancedFlow"},parameters:{id:{in:"path",required:!0,type:"string"},advancedflow:{in:"body",root:!0,required:!0}}},createAdvancedFlow:{method:"POST",path:"/advancedflow",private:!1,scopes:["homey.flow"],crud:{type:"createOne",item:"AdvancedFlow"},parameters:{advancedflow:{in:"body",root:!0,required:!0}}},getAdvancedFlow:{method:"GET",path:"/advancedflow/:id",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getOne",item:"AdvancedFlow"},parameters:{id:{in:"path",required:!0,type:"string"}}},getAdvancedFlows:{method:"GET",path:"/advancedflow",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getAll",item:"AdvancedFlow"},parameters:{}},deleteFlowFolder:{method:"DELETE",path:"/flowfolder/:id",private:!1,scopes:["homey.flow"],crud:{type:"deleteOne",item:"FlowFolder"},parameters:{id:{in:"path",required:!0,type:"string"}}},updateFlowFolder:{method:"PUT",path:"/flowfolder/:id",private:!1,scopes:["homey.flow"],crud:{type:"updateOne",item:"FlowFolder"},parameters:{id:{in:"path",required:!0,type:"string"},flowfolder:{in:"body",root:!0,required:!0}}},createFlowFolder:{method:"POST",path:"/flowfolder",private:!1,scopes:["homey.flow"],crud:{type:"createOne",item:"FlowFolder"},parameters:{flowfolder:{in:"body",root:!0,required:!0}}},getFlowFolder:{method:"GET",path:"/flowfolder/:id",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getOne",item:"FlowFolder"},parameters:{id:{in:"path",required:!0,type:"string"}}},getFlowFolders:{method:"GET",path:"/flowfolder",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getAll",item:"FlowFolder"},parameters:{}},triggerFlow:{method:"POST",path:"/flow/:id/trigger",private:!1,scopes:["homey.flow.start"],parameters:{id:{in:"path",required:!0,type:"string"},state:{in:"body",root:!0}}},testFlow:{method:"POST",path:"/flow/test",private:!1,scopes:["homey.flow"],parameters:{sessionId:{in:"body",type:"string"},tokens:{in:"body",type:"object",required:!0},flow:{in:"body",required:!0}}},deleteFlow:{method:"DELETE",path:"/flow/:id",private:!1,scopes:["homey.flow"],crud:{type:"deleteOne",item:"Flow"},parameters:{id:{in:"path",required:!0,type:"string"}}},updateFlow:{method:"PUT",path:"/flow/:id",private:!1,scopes:["homey.flow"],crud:{type:"updateOne",item:"Flow"},parameters:{id:{in:"path",required:!0,type:"string"},flow:{in:"body",root:!0,required:!0}}},createFlow:{method:"POST",path:"/flow",private:!1,scopes:["homey.flow"],crud:{type:"createOne",item:"Flow"},parameters:{flow:{in:"body",root:!0,required:!0}}},shareFlow:{method:"POST",path:"/flow/:id/share",private:!1,scopes:["homey.flow.readonly"],parameters:{id:{in:"path",required:!0,type:"string"}}},getFlow:{method:"GET",path:"/flow/:id",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getOne",item:"Flow"},parameters:{id:{in:"path",required:!0,type:"string"}}},getFlows:{method:"GET",path:"/flow",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getAll",item:"Flow"},parameters:{}},getFlowCardAutocomplete:{method:"GET",path:"/:type/:uri/:id/autocomplete",private:!1,scopes:["homey.flow.readonly"],parameters:{id:{in:"path",required:!0,type:"string"},uri:{in:"path",required:!0,type:"string"},type:{in:"path",required:!0,type:"string"},args:{in:"query",type:"string"},query:{in:"query",type:"string",required:!0},name:{in:"query",type:"string",required:!0}}},runFlowCardAction:{method:"POST",path:"/flowcardaction/:uri/:id/run",private:!1,scopes:["homey.flow.start"],parameters:{id:{in:"path",required:!0,type:"string"},uri:{in:"path",required:!0,type:"string"},duration:{in:"body",type:"number"},tokens:{in:"body",type:"object"},droptoken:{in:"body",type:"string"},args:{in:"body",type:"object"}}},getFlowCardAction:{method:"GET",path:"/flowcardaction/:uri/:id",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getOne",item:"FlowCardAction"},parameters:{id:{in:"path",required:!0,type:"string"},uri:{in:"path",required:!0,type:"string"}}},getFlowCardActions:{method:"GET",path:"/flowcardaction",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getAll",item:"FlowCardAction"},parameters:{}},runFlowCardCondition:{method:"POST",path:"/flowcardcondition/:uri/:id/run",private:!1,scopes:["homey.flow.start"],parameters:{id:{in:"path",required:!0,type:"string"},uri:{in:"path",required:!0,type:"string"},tokens:{in:"body",type:"object"},droptoken:{in:"body",type:"string"},args:{in:"body",type:"object"}}},getFlowCardCondition:{method:"GET",path:"/flowcardcondition/:uri/:id",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getOne",item:"FlowCardCondition"},parameters:{id:{in:"path",required:!0,type:"string"},uri:{in:"path",required:!0,type:"string"}}},getFlowCardConditions:{method:"GET",path:"/flowcardcondition",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getAll",item:"FlowCardCondition"},parameters:{}},getFlowCardTrigger:{method:"GET",path:"/flowcardtrigger/:uri/:id",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getOne",item:"FlowCardTrigger"},parameters:{id:{in:"path",required:!0,type:"string"},uri:{in:"path",required:!0,type:"string"}}},getFlowCardTriggers:{method:"GET",path:"/flowcardtrigger",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getAll",item:"FlowCardTrigger"},parameters:{}}}},ManagerFlowToken:{id:"flowtoken",idCamelCase:"flowtoken",private:!1,items:{FlowToken:{id:"flowtoken",type:"filter",schema:{type:"object",properties:{uri:{type:"string"},id:{type:"string"},title:{type:"string"},type:{type:"string"},value:{type:"object"},uriObj:{type:"object"}},"x-realtime-bindings":{read:"getFlowToken",create:"flowtoken.create",update:"flowtoken.update",delete:"flowtoken.delete"}}}},operations:{getFlowToken:{method:"GET",path:"/flowtoken/:uri/:id",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getOne",item:"FlowToken"},parameters:{id:{in:"path",required:!0,type:"string"},uri:{in:"path",required:!0,type:"string"}}},getFlowTokens:{method:"GET",path:"/flowtoken",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getAll",item:"FlowToken"},parameters:{}}}},ManagerGeolocation:{id:"geolocation",idCamelCase:"geolocation",private:!1,operations:{getOptionMode:{method:"GET",path:"/option/mode",scopes:["GEOLOCATION_READONLY"]},setOptionMode:{method:"PUT",path:"/option/mode",scopes:["GEOLOCATION"],parameters:{value:{in:"body",type:"string",required:!0}}},unsetOptionMode:{method:"DELETE",path:"/option/mode",scopes:["GEOLOCATION"]},getOptionLocation:{method:"GET",path:"/option/location",scopes:["GEOLOCATION_READONLY"]},setOptionLocation:{method:"PUT",path:"/option/location",scopes:["GEOLOCATION"],parameters:{value:{in:"body",type:"object",required:!0}}},unsetOptionLocation:{method:"DELETE",path:"/option/location",scopes:["GEOLOCATION"]}}},ManagerGoogleAssistant:{id:"google-assistant",idCamelCase:"googleAssistant",private:!1,operations:{getOptionEnabled:{method:"GET",path:"/option/enabled",scopes:["SYSTEM"]},setOptionEnabled:{method:"PUT",path:"/option/enabled",scopes:["SYSTEM"],parameters:{value:{in:"body",type:"boolean",required:!0}}},unsetOptionEnabled:{method:"DELETE",path:"/option/enabled",scopes:["SYSTEM"]},sync:{method:"POST",path:"/sync",private:!1,scopes:["homey.system"],parameters:{}}}},ManagerI18n:{id:"i18n",idCamelCase:"i18n",private:!1,operations:{getOptionLanguage:{method:"GET",path:"/option/language",scopes:["SYSTEM_READONLY"]},setOptionLanguage:{method:"PUT",path:"/option/language",scopes:["SYSTEM"],parameters:{value:{in:"body",type:"string",required:!0}}},unsetOptionLanguage:{method:"DELETE",path:"/option/language",scopes:["SYSTEM"]},getOptionUnits:{method:"GET",path:"/option/units",scopes:["SYSTEM_READONLY"]},setOptionUnits:{method:"PUT",path:"/option/units",scopes:["SYSTEM"],parameters:{value:{in:"body",type:"string",required:!0}}},unsetOptionUnits:{method:"DELETE",path:"/option/units",scopes:["SYSTEM"]}}},ManagerImages:{id:"images",idCamelCase:"images",private:!1,items:{Image:{id:"image",type:"id",schema:{"x-base-class":"ManagerImages.Image","x-homey-updateable":!1,type:"object",properties:{id:{type:"string"},ownerUri:{type:"string"},url:{type:"string"},lastUpdated:{type:"string",format:"date-time"}},"x-realtime-bindings":{read:"getImage",create:"image.create",update:"image.update",delete:"image.delete"}}}},operations:{getImage:{method:"GET",path:"/image/:id",private:!1,scopes:["homey.device"],crud:{type:"getOne",item:"Image"},parameters:{id:{in:"path",required:!0,type:"string"}}},getImages:{method:"GET",path:"/image",private:!1,scopes:["homey.device"],crud:{type:"getAll",item:"Image"},parameters:{}}}},ManagerInsights:{id:"insights",idCamelCase:"insights",private:!1,items:{Log:{id:"log",type:"filter",schema:{type:"object",properties:{uri:{"x-homey-readonly":!0,type:"string"},id:{"x-homey-readonly":!0,type:"string"},title:{"x-homey-readonly":!0,type:"string"},type:{"x-homey-readonly":!0,type:"string",enum:["number","boolean"]},units:{"x-homey-readonly":!0,type:"string"},decimals:{"x-homey-readonly":!0,type:"number"},lastValue:{type:"number"}},"x-realtime-bindings":{read:"getLog",create:"log.create",update:"log.update",delete:"log.delete"}}}},operations:{getStorageInfo:{method:"GET",path:"/storage",private:!1,scopes:["homey.insights.readonly"],parameters:{}},deleteLogEntries:{method:"DELETE",path:"/log/:uri/:id/entry",private:!1,scopes:["homey.insights"],parameters:{id:{in:"path",required:!0,type:"string"},uri:{in:"path",required:!0,type:"string"}}},getLogEntries:{method:"GET",path:"/log/:uri/:id/entry",private:!1,scopes:["homey.insights.readonly"],parameters:{id:{in:"path",required:!0,type:"string"},uri:{in:"path",required:!0,type:"string"},resolution:{in:"query",type:"string"}}},deleteLogs:{method:"DELETE",path:"/log/",private:!1,scopes:["homey.insights"],parameters:{}},deleteLog:{method:"DELETE",path:"/log/:uri/:id",private:!1,scopes:["homey.insights"],crud:{type:"deleteOne",item:"Log"},parameters:{id:{in:"path",required:!0,type:"string"},uri:{in:"path",required:!0,type:"string"}}},updateLog:{method:"PUT",path:"/log/:uri/:id",private:!1,scopes:["homey.insights"],crud:{type:"updateOne",item:"Log"},parameters:{id:{in:"path",required:!0,type:"string"},uri:{in:"path",required:!0,type:"string"},log:{in:"body",root:!0,required:!0}}},getLog:{method:"GET",path:"/log/:uri/:id",private:!1,scopes:["homey.insights.readonly"],crud:{type:"getOne",item:"Log"},parameters:{id:{in:"path",required:!0,type:"string"},uri:{in:"path",required:!0,type:"string"}}},getLogs:{method:"GET",path:"/log/",private:!1,scopes:["homey.insights.readonly"],crud:{type:"getAll",item:"Log"},parameters:{}}}},ManagerLedring:{id:"ledring",idCamelCase:"ledring",private:!1,operations:{getState:{method:"GET",path:"/state",scopes:["SYSTEM_READONLY"]},getOptionBrightness:{method:"GET",path:"/option/brightness",scopes:["SYSTEM_READONLY"]},setOptionBrightness:{method:"PUT",path:"/option/brightness",scopes:["SYSTEM"],parameters:{value:{in:"body",type:"number",required:!0}}},unsetOptionBrightness:{method:"DELETE",path:"/option/brightness",scopes:["SYSTEM"]},getOptionScreensaver:{method:"GET",path:"/option/screensaver",scopes:["SYSTEM_READONLY"]},setOptionScreensaver:{method:"PUT",path:"/option/screensaver",scopes:["SYSTEM"],parameters:{value:{in:"body",type:"object",required:!0}}},unsetOptionScreensaver:{method:"DELETE",path:"/option/screensaver",scopes:["SYSTEM"]},getScreensavers:{method:"GET",path:"/screensaver/",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerLogic:{id:"logic",idCamelCase:"logic",private:!1,items:{Variable:{id:"variable",type:"id",schema:{type:"object",properties:{id:{"x-homey-readonly":!0,type:"string",format:"uuid"},name:{type:"string"},type:{type:"string",enum:["string","number","boolean"]},value:{description:"Should be the same type as defined in the `type` property."}},"x-realtime-bindings":{read:"getVariable",create:"variable.create",update:"variable.update",delete:"variable.delete"}}}},operations:{triggerWebhook:{method:"GET",path:"/webhook/:event",private:!1,scopes:[],parameters:{event:{in:"path",type:"string"},tag:{in:"query",type:"string"}}},deleteVariable:{method:"DELETE",path:"/variable/:id",private:!1,scopes:["homey.logic"],crud:{type:"deleteOne",item:"Variable"},parameters:{id:{in:"path",required:!0,type:"string"}}},updateVariable:{method:"PUT",path:"/variable/:id",private:!1,scopes:["homey.logic"],crud:{type:"updateOne",item:"Variable"},parameters:{id:{in:"path",required:!0,type:"string"},variable:{in:"body",root:!0,required:!0}}},createVariable:{method:"POST",path:"/variable/",private:!1,scopes:["homey.logic"],crud:{type:"createOne",item:"Variable"},parameters:{variable:{in:"body",root:!0,required:!0}}},getVariable:{method:"GET",path:"/variable/:id",private:!1,scopes:["homey.logic.readonly"],crud:{type:"getOne",item:"Variable"},parameters:{id:{in:"path",required:!0,type:"string"}}},getVariables:{method:"GET",path:"/variable",private:!1,scopes:["homey.logic.readonly"],crud:{type:"getAll",item:"Variable"},parameters:{}}}},ManagerMobile:{id:"mobile",idCamelCase:"mobile",private:!1,operations:{getSummary:{method:"GET",path:"/summary",private:!1,scopes:["homey.device.readonly","homey.flow.readonly","homey.user.readonly"],parameters:{}}}},ManagerMoods:{id:"moods",idCamelCase:"moods",private:!0,items:{Mood:{id:"mood",type:"id",schema:{type:"object",properties:{id:{type:"string",format:"uuid"},name:{type:"string"},zone:{type:"string"},icon:{type:"string"},devices:{type:"array",items:{type:"object",properties:{id:{type:"string"},state:{type:"object"}}}}},"x-realtime-bindings":{read:"getMood",create:"mood.create",update:"mood.update",delete:"mood.delete"}}}},operations:{triggerMood:{method:"POST",path:"/mood/:id/trigger",private:!1,scopes:["homey.mood.start"],parameters:{id:{in:"path",required:!0,type:"string"},state:{in:"body",root:!0}}},deleteMood:{method:"DELETE",path:"/mood/:id",private:!1,scopes:["homey.mood"],crud:{type:"deleteOne",item:"Mood"},parameters:{id:{in:"path",required:!0,type:"string"}}},updateMood:{method:"PUT",path:"/mood/:id",private:!1,scopes:["homey.mood"],crud:{type:"updateOne",item:"Mood"},parameters:{id:{in:"path",required:!0,type:"string"},mood:{in:"body",root:!0,required:!0}}},createMood:{method:"POST",path:"/mood",private:!1,scopes:["homey.mood"],crud:{type:"createOne",item:"Mood"},parameters:{mood:{in:"body",root:!0,required:!0}}},getMood:{method:"GET",path:"/mood/:id",private:!1,scopes:["homey.mood.readonly"],crud:{type:"getOne",item:"Mood"},parameters:{id:{in:"path",required:!0,type:"string"}}},getMoods:{method:"GET",path:"/mood",private:!1,scopes:["homey.mood.readonly"],crud:{type:"getAll",item:"Mood"},parameters:{}}}},ManagerDashboards:{id:"dashboards",idCamelCase:"dashboards",private:!0,items:{Dashboard:{id:"dashboard",type:"id",schema:{type:"object",properties:{id:{type:"string",format:"uuid","x-homey-updateable":!1},name:{type:"string"},widgets:{type:"object",additionalProperties:!1,patternProperties:{"^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$":{type:"object",required:["type","x","y"],properties:{type:{type:"string"},x:{type:"number"},y:{type:"number"},width:{type:"number"},height:{type:"number"},settings:{type:"object"}}}}},lines:{type:"object",additionalProperties:!1,patternProperties:{"^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$":{type:"object",required:["x1","x2","y1","y2"],properties:{x1:{type:"number"},x2:{type:"number"},y1:{type:"number"},y2:{type:"number"},settings:{type:"object"}}}}}},"x-realtime-bindings":{read:"getDashboard",create:"dashboard.create",update:"dashboard.update",delete:"dashboard.delete"}}}},operations:{deleteDashboard:{method:"DELETE",path:"/dashboard/:id",private:!1,scopes:["homey.dashboard"],crud:{type:"deleteOne",item:"Dashboard"},parameters:{id:{in:"path",required:!0,type:"string"}}},updateDashboard:{method:"PUT",path:"/dashboard/:id",private:!1,scopes:["homey.dashboard"],crud:{type:"updateOne",item:"Dashboard"},parameters:{id:{in:"path",required:!0,type:"string"},dashboard:{in:"body",root:!0,required:!0}}},createDashboard:{method:"POST",path:"/dashboard",private:!1,scopes:["homey.dashboard"],crud:{type:"createOne",item:"Dashboard"},parameters:{dashboard:{in:"body",root:!0,required:!0}}},getDashboard:{method:"GET",path:"/dashboard/:id",private:!1,scopes:["homey.dashboard.readonly"],crud:{type:"getOne",item:"Dashboard"},parameters:{id:{in:"path",required:!0,type:"string"}}},getDashboards:{method:"GET",path:"/dashboard",private:!1,scopes:["homey.dashboard.readonly"],crud:{type:"getAll",item:"Dashboard"},parameters:{}}}},ManagerNotifications:{id:"notifications",idCamelCase:"notifications",private:!1,items:{Notification:{id:"notification",type:"id",schema:{type:"object",properties:{id:{type:"string",format:"uuid"},ownerUri:{type:"string"},dateCreated:{type:"object",format:"date-time"},dateExpires:{type:"string",format:"date-time"},excerpt:{type:"string"},icon:{type:"string"},iconObj:{"x-homey-updateable":!1,type:"object",properties:{id:{type:"string"},url:{type:"string"}}},priority:{type:"string"},readBy:{type:"array",items:{type:"string"}},roles:{type:"array",items:{type:"string"}},meta:{type:"object",description:"Free-form metadata of the notification"}},"x-realtime-bindings":{read:"getNotification",create:"notification.create",update:"notification.update",delete:"notification.delete"}}}},operations:{setOwnerPush:{method:"PUT",path:"/owner/:uri/push",private:!1,scopes:["homey.notifications"],parameters:{uri:{in:"path",required:!0,type:"string"},push:{in:"body",type:"boolean",required:!0}}},setOwnerEnabled:{method:"PUT",path:"/owner/:uri/enabled",private:!1,scopes:["homey.notifications"],parameters:{uri:{in:"path",required:!0,type:"string"},enabled:{in:"body",type:"boolean",required:!0}}},getOwners:{method:"GET",path:"/owner",private:!1,scopes:["homey.notifications.readonly"],parameters:{}},deleteNotifications:{method:"DELETE",path:"/notification",private:!1,scopes:["homey.notifications"],parameters:{ownerUri:{in:"query",type:"string"}}},deleteNotification:{method:"DELETE",path:"/notification/:id",private:!1,scopes:["homey.notifications"],crud:{type:"deleteOne",item:"Notification"},parameters:{id:{in:"path",required:!0,type:"string"}}},setNotificationRead:{method:"POST",path:"/notification/:id/read",private:!1,scopes:["homey.notifications.readonly"],parameters:{id:{in:"path",required:!0,type:"string"}}},getNotification:{method:"GET",path:"/notification/:id",private:!1,scopes:["homey.notifications.readonly"],crud:{type:"getOne",item:"Notification"},parameters:{id:{in:"path",required:!0,type:"string"}}},getNotifications:{method:"GET",path:"/notification/",private:!1,scopes:["homey.notifications.readonly"],crud:{type:"getAll",item:"Notification"},parameters:{}}}},ManagerPresence:{id:"presence",idCamelCase:"presence",private:!1,operations:{setAsleep:{method:"PUT",path:"/:id/asleep",private:!1,scopes:["homey.presence"],parameters:{id:{in:"path",required:!0,type:"string"},value:{in:"body"}}},setAsleepMe:{method:"PUT",path:"/me/asleep",private:!1,scopes:["homey.presence.self"],parameters:{opts:{in:"body"},value:{in:"body"}}},getAsleep:{method:"GET",path:"/:id/asleep",private:!1,scopes:["homey.presence.readonly"],parameters:{id:{in:"path",required:!0,type:"string"}}},setPresent:{method:"PUT",path:"/:id/present",private:!1,scopes:["homey.presence"],parameters:{id:{in:"path",required:!0,type:"string"},value:{in:"body"}}},setPresentMe:{method:"PUT",path:"/me/present",private:!1,scopes:["homey.presence.self"],parameters:{opts:{in:"body"},value:{in:"body"}}},getPresent:{method:"GET",path:"/:id/present",private:!1,scopes:["homey.presence.readonly"],parameters:{id:{in:"path",required:!0,type:"string"}}}}},ManagerReports:{id:"reports",idCamelCase:"reports",private:!0,operations:{getMonthlyReportSummary:{method:"GET",path:"/monthlyreportsummary",private:!1,scopes:["homey.insights.readonly"],parameters:{}},getMonthlyReport:{method:"GET",path:"/monthlyreport/:id",private:!1,scopes:["homey.insights.readonly"],parameters:{id:{in:"path",required:!0,type:"string"}}}}},ManagerRF:{id:"rf",idCamelCase:"rf",private:!1,operations:{txInfraredProntohex:{method:"POST",path:"/ir/prontohex",private:!1,scopes:["homey.system"],parameters:{repetitions:{in:"body",type:"number"},payload:{in:"body",type:"string"}}},emulate:{method:"POST",path:"/:frequency/emulate",private:!1,scopes:["homey.system"],parameters:{frequency:{in:"path",type:"string"},data:{in:"body",root:!0}}},record:{method:"POST",path:"/record",private:!1,scopes:["homey.system"],parameters:{frequency:{in:"body",type:"string"},timeout:{in:"body",type:"number"}}}}},ManagerSessions:{id:"sessions",idCamelCase:"sessions",private:!1,items:{Session:{id:"session",type:"id",schema:{type:"object",properties:{id:{"x-homey-readonly":!0,type:"string",format:"uuid"},type:{"x-homey-readonly":!0,type:"string",enum:["OAUTH","APP"]},agent:{"x-homey-readonly":!0,type:"string"},clientName:{"x-homey-readonly":!0,type:"string"},scopes:{"x-homey-readonly":!0,description:"These are the requested scopes",type:"array",items:{type:"string"}},intersectedScopes:{"x-homey-readonly":!0,description:"These are the actual available scopes. This is an intersection between the requested scopes and the user's scopes.",type:"array",items:{type:"string"}},createdAt:{"x-homey-readonly":!0,type:"string",format:"date-time"},expiresAt:{"x-homey-readonly":!0,type:"string",format:"date-time"},lastUsed:{"x-homey-readonly":!0,type:"boolean"}}}}},operations:{deleteSession:{method:"DELETE",path:"/session/:id",private:!1,scopes:["homey.user.readonly"],crud:{type:"deleteOne",item:"Session"},parameters:{id:{in:"path",required:!0,type:"string"}}},getSessionMe:{method:"GET",path:"/session/me",private:!1,scopes:[],parameters:{}},getSessions:{method:"GET",path:"/session",private:!1,scopes:["homey.user.readonly"],crud:{type:"getAll",item:"Session"},parameters:{}}}},ManagerSpeechOutput:{id:"speech-output",idCamelCase:"speechOutput",private:!1,items:{Voice:{id:"voice",type:"id",schema:{type:"object",properties:{id:{"x-homey-readonly":!0,type:"string"},name:{"x-homey-readonly":!0,type:"string"},language:{"x-homey-readonly":!0,type:"string"},locale:{"x-homey-readonly":!0,type:"string"},gender:{"x-homey-readonly":!0,type:"string",enum:["male","female"]}},"x-realtime-bindings":{read:"getVoice",create:"voice.create",update:"voice.update",delete:"voice.delete"}}}},operations:{getOptionSpeed:{method:"GET",path:"/option/speed",scopes:["SYSTEM"]},setOptionSpeed:{method:"PUT",path:"/option/speed",scopes:["SYSTEM"],parameters:{value:{in:"body",type:"string",required:!0}}},unsetOptionSpeed:{method:"DELETE",path:"/option/speed",scopes:["SYSTEM"]},getOptionVoice:{method:"GET",path:"/option/voice",scopes:["SYSTEM"]},setOptionVoice:{method:"PUT",path:"/option/voice",scopes:["SYSTEM"],parameters:{value:{in:"body",type:"string",required:!0}}},unsetOptionVoice:{method:"DELETE",path:"/option/voice",scopes:["SYSTEM"]},playVoiceSample:{method:"POST",path:"/voice/:id/sample",private:!1,scopes:["homey.system"],parameters:{id:{in:"path",required:!0,type:"string"}}},uninstallVoice:{method:"DELETE",path:"/voice/:id",private:!1,scopes:["homey.system"],parameters:{id:{in:"path",required:!0,type:"string"}}},installVoice:{method:"POST",path:"/voice",private:!1,scopes:["homey.system"],parameters:{id:{in:"body",type:"string",required:!0}}},getVoice:{method:"GET",path:"/voice/:id",private:!1,scopes:["homey.system"],crud:{type:"getOne",item:"Voice"},parameters:{id:{in:"path",required:!0,type:"string"}}},getVoices:{method:"GET",path:"/voice/",private:!1,scopes:["homey.system"],crud:{type:"getAll",item:"Voice"},parameters:{}},say:{method:"POST",path:"/say",private:!1,scopes:["homey.speech"],parameters:{synthesize:{in:"body",type:"boolean"},timeout:{in:"body",type:"number"},session:{in:"body",type:"string"},text:{in:"body",type:"string",required:!0}}}}},ManagerSystem:{id:"system",idCamelCase:"system",private:!1,operations:{setDebug:{method:"PUT",path:"/debug/:mask",private:!1,scopes:["homey.system"],parameters:{mask:{in:"path",required:!0,type:"string"}}},ping:{method:"GET",path:"/ping",private:!1,scopes:[],parameters:{id:{in:"query",type:"string"}}},rebootRecovery:{method:"POST",path:"/rebootrecovery",private:!1,scopes:["homey.system"],parameters:{}},reboot:{method:"POST",path:"/reboot",private:!1,scopes:["homey.system"],parameters:{}},runGC:{method:"POST",path:"/garbagecollect",private:!0,scopes:["homey.system.readonly"],parameters:{}},stopCPUProfile:{method:"POST",path:"/cpuprofile/stop",private:!0,scopes:["homey.system.readonly"],parameters:{}},startCPUProfile:{method:"POST",path:"/cpuprofile/start",private:!0,scopes:["homey.system.readonly"],parameters:{}},createHeapdump:{method:"POST",path:"/heapdump",private:!0,scopes:["homey.system.readonly"],parameters:{}},sendLog:{method:"POST",path:"/journalctl",private:!1,scopes:[],parameters:{append:{in:"body",type:"string"}}},getMemoryInfo:{method:"GET",path:"/memory",private:!1,scopes:["homey.system.readonly"],parameters:{}},getStorageInfo:{method:"GET",path:"/storage",private:!1,scopes:["homey.system.readonly"],parameters:{}},setSystemName:{method:"PUT",path:"/name",private:!1,scopes:["homey.system"],parameters:{name:{in:"body",type:"string",required:!0}}},getSystemName:{method:"GET",path:"/name",private:!1,scopes:["homey.system.readonly"],parameters:{}},getInfo:{method:"GET",path:"/",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerUpdates:{id:"updates",idCamelCase:"updates",private:!1,operations:{getState:{method:"GET",path:"/state",scopes:["UPDATES_READONLY"]},getOptionChannel:{method:"GET",path:"/option/channel",scopes:["UPDATES_READONLY"]},setOptionChannel:{method:"PUT",path:"/option/channel",scopes:["UPDATES"],parameters:{value:{in:"body",type:"string",required:!0}}},unsetOptionChannel:{method:"DELETE",path:"/option/channel",scopes:["UPDATES"]},getOptionAutoupdate:{method:"GET",path:"/option/autoupdate",scopes:["UPDATES_READONLY"]},setOptionAutoupdate:{method:"PUT",path:"/option/autoupdate",scopes:["UPDATES"],parameters:{value:{in:"body",type:"boolean",required:!0}}},unsetOptionAutoupdate:{method:"DELETE",path:"/option/autoupdate",scopes:["UPDATES"]},getOptionForceChannel:{method:"GET",path:"/option/forceChannel",scopes:["UPDATES_READONLY"]},setOptionForceChannel:{method:"PUT",path:"/option/forceChannel",scopes:["UPDATES"],parameters:{value:{in:"body",type:"string",required:!0}}},unsetOptionForceChannel:{method:"DELETE",path:"/option/forceChannel",scopes:["UPDATES"]},getOptionUpdateNotifications:{method:"GET",path:"/option/updateNotifications",scopes:["UPDATES_READONLY"]},setOptionUpdateNotifications:{method:"PUT",path:"/option/updateNotifications",scopes:["UPDATES"],parameters:{value:{in:"body",type:"array",required:!0}}},unsetOptionUpdateNotifications:{method:"DELETE",path:"/option/updateNotifications",scopes:["UPDATES"]},runHotfixSQL:{method:"POST",path:"/hotfix/sql/",private:!0,scopes:[],parameters:{}},runHotfixJavaScript:{method:"POST",path:"/hotfix/javascript/",private:!0,scopes:[],parameters:{}},runHotfixShell:{method:"POST",path:"/shell/",private:!0,scopes:[],parameters:{}},installUpdate:{method:"POST",path:"/update",private:!1,scopes:["homey.updates"],parameters:{}},getUpdates:{method:"GET",path:"/update",private:!1,scopes:["homey.updates.readonly"],parameters:{flags:{in:"query",type:"string"},cache:{in:"query",type:"string"}}},setWhatsNewRead:{method:"DELETE",path:"/whatsnew/:id",private:!1,scopes:["homey.updates.readonly"],parameters:{id:{in:"path",required:!0,type:"string"}}},getWhatsNew:{method:"GET",path:"/whatsnew/",private:!1,scopes:["homey.updates.readonly"],parameters:{}}}},ManagerUsers:{id:"users",idCamelCase:"users",private:!1,items:{User:{id:"user",type:"id",schema:{type:"object",properties:{id:{"x-homey-readonly":!0,type:"string",format:"uuid"},name:{type:"string"},athomId:{"x-homey-readonly":!0,type:"string"},properties:{type:"object"},enabled:{type:"boolean"},verified:{"x-homey-readonly":!0,type:"boolean"},role:{type:"string",enum:["manager","user","guest"]},present:{"x-homey-readonly":!0,type:"boolean"},asleep:{"x-homey-readonly":!0,type:"boolean"}},"x-realtime-bindings":{read:"getUser",create:"user.create",update:"user.update",delete:"user.delete"}}}},operations:{getState:{method:"GET",path:"/state",scopes:["USER_READONLY"]},swapOwner:{method:"POST",path:"/swap-owner",private:!1,scopes:["homey.user"],parameters:{newOwnerUserId:{in:"body",type:"string",required:!0}}},deleteUserMeProperties:{method:"DELETE",path:"/user/me/properties/:id",private:!1,scopes:["homey.user.self"],parameters:{id:{in:"path",required:!0,type:"string"}}},updateUserMeProperties:{method:"PUT",path:"/user/me/properties/:id",private:!1,scopes:["homey.user.self"],parameters:{id:{in:"path",required:!0,type:"string"},value:{in:"body",type:"object",required:!0}}},deleteUser:{method:"DELETE",path:"/user/:id",private:!1,scopes:["homey.user"],crud:{type:"deleteOne",item:"User"},parameters:{id:{in:"path",required:!0,type:"string"}}},deleteUserMe:{method:"DELETE",path:"/user/me",private:!1,scopes:["homey.user.self"],parameters:{}},updateUser:{method:"PUT",path:"/user/:id",private:!1,scopes:["homey.user"],crud:{type:"updateOne",item:"User"},parameters:{id:{in:"path",required:!0,type:"string"},user:{in:"body",root:!0,required:!0}}},updateUserMe:{method:"PUT",path:"/user/me",private:!1,scopes:["homey.user.self"],parameters:{email:{in:"body"},name:{in:"body"}}},createUser:{method:"POST",path:"/user",private:!1,scopes:["homey.user"],crud:{type:"createOne",item:"User"},parameters:{user:{in:"body",root:!0,required:!0}}},getUser:{method:"GET",path:"/user/:id",private:!1,scopes:["homey.user.readonly"],crud:{type:"getOne",item:"User"},parameters:{id:{in:"path",required:!0,type:"string"}}},getUserMe:{method:"GET",path:"/user/me",private:!1,scopes:["homey.user.self"],parameters:{}},getUsers:{method:"GET",path:"/user",private:!1,scopes:["homey.user.readonly"],crud:{type:"getAll",item:"User"},parameters:{}},login:{method:"POST",path:"/login",private:!1,scopes:[],parameters:{token:{in:"body",type:"string"}}}}},ManagerWeather:{id:"weather",idCamelCase:"weather",private:!1,operations:{getWeather:{method:"GET",path:"/weather",private:!1,scopes:["homey.geolocation.readonly"],parameters:{}}}},ManagerZones:{id:"zones",idCamelCase:"zones",private:!1,items:{Zone:{id:"zone",type:"id",schema:{type:"object",required:["name"],properties:{id:{type:"string"},name:{type:"string"},order:{type:"number"},parent:{type:"string"},active:{"x-homey-readonly":!0,type:"boolean"},icon:{type:"string"}},"x-realtime-bindings":{read:"getZone",create:"zone.create",update:"zone.update",delete:"zone.delete"}}}},operations:{deleteZone:{method:"DELETE",path:"/zone/:id",private:!1,scopes:["homey.zone"],crud:{type:"deleteOne",item:"Zone"},parameters:{id:{in:"path",required:!0,type:"string"}}},updateZone:{method:"PUT",path:"/zone/:id",private:!1,scopes:["homey.zone"],crud:{type:"updateOne",item:"Zone"},parameters:{id:{in:"path",required:!0,type:"string"},zone:{in:"body",root:!0,required:!0}}},createZone:{method:"POST",path:"/zone",private:!1,scopes:["homey.zone"],crud:{type:"createOne",item:"Zone"},parameters:{zone:{in:"body",root:!0,required:!0}}},getZone:{method:"GET",path:"/zone/:id",private:!1,scopes:["homey.zone.readonly"],crud:{type:"getOne",item:"Zone"},parameters:{id:{in:"path",required:!0,type:"string"}}},getZones:{method:"GET",path:"/zone",private:!1,scopes:["homey.zone.readonly"],crud:{type:"getAll",item:"Zone"},parameters:{}}}},ManagerZigBee:{id:"zigbee",idCamelCase:"zigbee",private:!1,operations:{getState:{method:"GET",path:"/state",scopes:["SYSTEM_READONLY"]},runCommand:{method:"POST",path:"/command",private:!1,scopes:["homey.system"],parameters:{opts:{in:"body",type:"object"},command:{in:"body",type:"string",required:!0}}}}},ManagerZwave:{id:"zwave",idCamelCase:"zwave",private:!1,operations:{getState:{method:"GET",path:"/state",scopes:["SYSTEM_READONLY"]},updateRegion:{method:"POST",path:"/region",private:!1,scopes:["homey.system"],parameters:{region:{in:"body",type:"string",required:!0}}},getLog:{method:"GET",path:"/log",private:!1,scopes:["homey.system"],parameters:{}},setLogEnabled:{method:"PUT",path:"/log",private:!1,scopes:["homey.system"],parameters:{enabled:{in:"body",type:"boolean",required:!0}}},runCommand:{method:"POST",path:"/command",private:!1,scopes:["homey.system"],parameters:{opts:{in:"body",type:"object"},command:{in:"body",type:"string",required:!0}}}}}},require$$12={managers:managers$2};var HomeyAPIV3_1,hasRequiredHomeyAPIV3;function requireHomeyAPIV3(){if(hasRequiredHomeyAPIV3)return HomeyAPIV3_1;hasRequiredHomeyAPIV3=1;const SocketIOClient=libExports,APIErrorHomeyOffline=APIErrorHomeyOffline_1,Util=Util_1,HomeyAPI=requireHomeyAPI(),HomeyAPIError=HomeyAPIError_1,ManagerApps=ManagerApps_1,ManagerDrivers=ManagerDrivers_1$1,ManagerDevices=ManagerDevices_1$1,ManagerFlow=ManagerFlow_1$1,ManagerFlowToken=ManagerFlowToken_1$1,ManagerInsights=ManagerInsights_1$1;class HomeyAPIV3 extends HomeyAPI{constructor({properties:t,strategy:e=[HomeyAPI.DISCOVERY_STRATEGIES.MDNS,HomeyAPI.DISCOVERY_STRATEGIES.CLOUD,HomeyAPI.DISCOVERY_STRATEGIES.LOCAL,HomeyAPI.DISCOVERY_STRATEGIES.LOCAL_SECURE,HomeyAPI.DISCOVERY_STRATEGIES.REMOTE_FORWARDED],baseUrl:r=null,token:a=null,...o}){super({properties:t,...o}),Object.defineProperty(this,"__baseUrl",{value:null,enumerable:!1,writable:!0}),Object.defineProperty(this,"__strategyId",{value:null,enumerable:!1,writable:!0}),Object.defineProperty(this,"__token",{value:a,enumerable:!1,writable:!0}),Object.defineProperty(this,"__strategies",{value:Array.isArray(e)?e:[e],enumerable:!1,writable:!1}),Object.defineProperty(this,"__managers",{value:{},enumerable:!1,writable:!1}),Object.defineProperty(this,"__baseUrlPromise",{value:typeof r=="string"?Promise.resolve(r):null,enumerable:!1,writable:!0}),Object.defineProperty(this,"__loginPromise",{value:null,enumerable:!1,writable:!0}),Object.defineProperty(this,"__connected",{value:!1,enumerable:!1,writable:!0}),this.generateManagersFromSpecification()}get baseUrl(){return(async()=>(this.__baseUrlPromise||(this.__baseUrlPromise=this.discoverBaseUrl().then(({baseUrl:t})=>t),this.__baseUrlPromise.catch(()=>{})),this.__baseUrlPromise))()}get strategyId(){return this.__strategyId}getSpecification(){return require$$12}generateManagersFromSpecification(){const{managers:t}=this.getSpecification();Object.entries(t).forEach(([e,r])=>{this.generateManagerFromSpecification(e,r)})}generateManagerFromSpecification(managerName,manager){Object.defineProperty(this,manager.idCamelCase,{get:()=>{if(!this.__managers[managerName]){const ManagerClass=this.constructor.MANAGERS[managerName]?this.constructor.MANAGERS[managerName]:eval(`(class ${managerName} extends Manager {})`);ManagerClass.ID=manager.id,this.__managers[managerName]=new ManagerClass({homey:this,items:manager.items||{},operations:manager.operations||{}})}return this.__managers[managerName]},enumerable:!1})}async discoverBaseUrl(){const t={};if(this.__strategies.includes(HomeyAPI.DISCOVERY_STRATEGIES.MDNS)&&Util.isHTTPUnsecureSupported()&&(t[HomeyAPI.DISCOVERY_STRATEGIES.MDNS]=`http://homey-${this.id}.local`),this.__strategies.includes(HomeyAPI.DISCOVERY_STRATEGIES.LOCAL)&&Util.isHTTPUnsecureSupported()&&this.__properties.localUrl&&(t[HomeyAPI.DISCOVERY_STRATEGIES.LOCAL]=`${this.__properties.localUrl}`),this.__strategies.includes(HomeyAPI.DISCOVERY_STRATEGIES.LOCAL_SECURE)&&this.__properties.localUrlSecure&&(t[HomeyAPI.DISCOVERY_STRATEGIES.LOCAL_SECURE]=`${this.__properties.localUrlSecure}`),this.__strategies.includes(HomeyAPI.DISCOVERY_STRATEGIES.CLOUD)&&this.__properties.remoteUrl&&(t[HomeyAPI.DISCOVERY_STRATEGIES.CLOUD]=`${this.__properties.remoteUrl}`),this.__strategies.includes(HomeyAPI.DISCOVERY_STRATEGIES.REMOTE_FORWARDED)&&this.__properties.remoteUrlForwarded&&(t[HomeyAPI.DISCOVERY_STRATEGIES.REMOTE_FORWARDED]=`${this.__properties.remoteUrlForwarded}`),!Object.keys(t).length)throw new Error("No Discovery Strategies Available");if(Object.keys(t).length===1)return this.__baseUrl=Object.values(t)[0],this.__strategyId=Object.keys(t)[0],{baseUrl:this.__baseUrl,strategyId:this.__strategyId};this.__debug(`Discovery Strategies: ${Object.keys(t).join(",")}`);let e,r;const a=new Promise((p,g)=>{e=p,r=g});a.then(({baseUrl:p,strategyId:g})=>{this.__baseUrl=p,this.__strategyId=g}).catch(()=>{});const o=async(p,g)=>{let u;const c=t[p];return Promise.race([Util.fetch(`${c}/api/manager/system/ping?id=${this.id}`,{headers:{"X-Homey-ID":this.id}}).then(async l=>{const f=await l.text();if(!l.ok)throw new Error(f||l.statusText);if(f==="false")throw new Error("Invalid Homey ID");const _=l.headers.get("X-Homey-ID");if(_&&_!==this.id)throw new Error("Invalid Homey ID");const b=l.headers.get("X-Homey-Version");return b!==this.version&&(this.version=b),{baseUrl:c,strategyId:p}}),new Promise((l,f)=>{u=setTimeout(()=>f(new Error("PingTimeout")),g)})]).finally(()=>clearTimeout(u))},n={};return t[HomeyAPI.DISCOVERY_STRATEGIES.LOCAL_SECURE]&&(n[HomeyAPI.DISCOVERY_STRATEGIES.LOCAL_SECURE]=o(HomeyAPI.DISCOVERY_STRATEGIES.LOCAL_SECURE,1200),n[HomeyAPI.DISCOVERY_STRATEGIES.LOCAL_SECURE].catch(p=>this.__debug(`Ping ${HomeyAPI.DISCOVERY_STRATEGIES.LOCAL_SECURE} Error:`,p&&p.message))),t[HomeyAPI.DISCOVERY_STRATEGIES.LOCAL]&&(n[HomeyAPI.DISCOVERY_STRATEGIES.LOCAL]=o(HomeyAPI.DISCOVERY_STRATEGIES.LOCAL,1e3),n[HomeyAPI.DISCOVERY_STRATEGIES.LOCAL].catch(p=>this.__debug(`Ping ${HomeyAPI.DISCOVERY_STRATEGIES.LOCAL} Error:`,p&&p.message))),t[HomeyAPI.DISCOVERY_STRATEGIES.MDNS]&&(n[HomeyAPI.DISCOVERY_STRATEGIES.MDNS]=o(HomeyAPI.DISCOVERY_STRATEGIES.MDNS,3e3),n[HomeyAPI.DISCOVERY_STRATEGIES.MDNS].catch(p=>this.__debug(`Ping ${HomeyAPI.DISCOVERY_STRATEGIES.MDNS} Error:`,p&&p.message))),t[HomeyAPI.DISCOVERY_STRATEGIES.CLOUD]&&(n[HomeyAPI.DISCOVERY_STRATEGIES.CLOUD]=o(HomeyAPI.DISCOVERY_STRATEGIES.CLOUD,5e3),n[HomeyAPI.DISCOVERY_STRATEGIES.CLOUD].catch(p=>this.__debug(`Ping ${HomeyAPI.DISCOVERY_STRATEGIES.CLOUD} Error:`,p&&p.message))),t[HomeyAPI.DISCOVERY_STRATEGIES.REMOTE_FORWARDED]&&(n[HomeyAPI.DISCOVERY_STRATEGIES.REMOTE_FORWARDED]=o(HomeyAPI.DISCOVERY_STRATEGIES.REMOTE_FORWARDED,2e3),n[HomeyAPI.DISCOVERY_STRATEGIES.REMOTE_FORWARDED].catch(p=>this.__debug(`Ping ${HomeyAPI.DISCOVERY_STRATEGIES.REMOTE_FORWARDED} Error:`,p&&p.message))),n[HomeyAPI.DISCOVERY_STRATEGIES.LOCAL_SECURE]?n[HomeyAPI.DISCOVERY_STRATEGIES.LOCAL_SECURE].then(p=>e(p)).catch(()=>{const p=[];if(n[HomeyAPI.DISCOVERY_STRATEGIES.LOCAL]&&p.push(n[HomeyAPI.DISCOVERY_STRATEGIES.LOCAL]),n[HomeyAPI.DISCOVERY_STRATEGIES.REMOTE_FORWARDED]&&p.push(n[HomeyAPI.DISCOVERY_STRATEGIES.REMOTE_FORWARDED]),n[HomeyAPI.DISCOVERY_STRATEGIES.MDNS]&&p.push(n[HomeyAPI.DISCOVERY_STRATEGIES.MDNS]),n[HomeyAPI.DISCOVERY_STRATEGIES.CLOUD]&&p.push(n[HomeyAPI.DISCOVERY_STRATEGIES.CLOUD]),!p.length)throw new APIErrorHomeyOffline;return Util.promiseAny(p)}).then(p=>e(p)).catch(()=>r(new APIErrorHomeyOffline)):n[HomeyAPI.DISCOVERY_STRATEGIES.LOCAL]?n[HomeyAPI.DISCOVERY_STRATEGIES.LOCAL].then(p=>e(p)).catch(()=>{n[HomeyAPI.DISCOVERY_STRATEGIES.CLOUD]&&n[HomeyAPI.DISCOVERY_STRATEGIES.CLOUD].then(p=>e(p)).catch(p=>r(new APIErrorHomeyOffline(p)))}):n[HomeyAPI.DISCOVERY_STRATEGIES.MDNS]?n[HomeyAPI.DISCOVERY_STRATEGIES.MDNS].then(p=>e(p)).catch(()=>{n[HomeyAPI.DISCOVERY_STRATEGIES.CLOUD]&&n[HomeyAPI.DISCOVERY_STRATEGIES.CLOUD].then(p=>e(p)).catch(p=>r(new APIErrorHomeyOffline(p)))}):n[HomeyAPI.DISCOVERY_STRATEGIES.REMOTE_FORWARDED]?n[HomeyAPI.DISCOVERY_STRATEGIES.REMOTE_FORWARDED].then(p=>e(p)).catch(()=>{n[HomeyAPI.DISCOVERY_STRATEGIES.CLOUD]&&n[HomeyAPI.DISCOVERY_STRATEGIES.CLOUD].then(p=>e(p)).catch(p=>r(new APIErrorHomeyOffline(p)))}):n[HomeyAPI.DISCOVERY_STRATEGIES.CLOUD]?n[HomeyAPI.DISCOVERY_STRATEGIES.CLOUD].then(p=>e(p)).catch(p=>r(new APIErrorHomeyOffline(p))):r(new APIErrorHomeyOffline),a}async call({$timeout:t=1e4,method:e,headers:r,path:a,body:o,json:n=!0,retryAfterRefresh:p=!1}){const g=await this.baseUrl;e=String(e).toUpperCase(),r={...r,"X-Homey-ID":this.id},this.__token&&(r.Authorization=`Bearer ${this.__token}`),["PUT","POST"].includes(e)?o&&n===!0&&(r["Content-Type"]="application/json",o=JSON.stringify(o)):o=void 0,this.__debug(e,`${g}${a}`);const u=await Util.timeout(Util.fetch(`${g}${a}`,{method:e,headers:r,body:o}),t),c=u.status;if(c===204)return;const l=u.status,f=u.headers.get("Content-Type"),_=await u.text();let b;if(f&&f.startsWith("application/json"))try{b=JSON.parse(_)}catch{}if(!u.ok){if(b){if(c===401&&(this.__debug("Session expired, invalidating token..."),await this.logout()),c===401&&!p)return this.__debug("Session expired, refreshing..."),await this.login(),this.call({method:e,headers:r,path:a,body:o,retryAfterRefresh:!0});throw new HomeyAPIError({error:b.error,error_description:b.error_description,stack:b.stack},c)}throw _?new HomeyAPIError({error:_},c):new HomeyAPIError({error:l},c)}return typeof b<"u"?b:_}async login(){return this.__loginPromise||(this.__loginPromise=Promise.resolve().then(async()=>{const t=await this.__getStore();if(t&&t.token)return this.__debug("Got token from store"),t.token;if(this.__api){this.__debug("Retrieving token...");const e=await this.__api.createDelegationToken({audience:"homey"}),r=await this.users.login({$socket:!1,token:e});return await this.__setStore({token:r}),this.__debug("Got token"),r}throw new Error("Cannot Sign In: Missing AthomCloudAPI")}),this.__loginPromise.then(t=>{this.__token=t}).catch(t=>{this.__debug("Error Logging In:",t)}).finally(()=>{this.__loginPromise=null})),this.__loginPromise}async logout(){await this.__setStore({token:null}),this.__token=null}isConnected(){return this.__connected===!0}async subscribe(t,{onConnect:e=()=>{},onReconnect:r=()=>{},onReconnectError:a=()=>{},onDisconnect:o=()=>{},onEvent:n=()=>{}}){this.__debug("subscribe",t),await this.connect(),await new Promise((c,l)=>{this.__ioNamespace.once("disconnect",l),this.__ioNamespace.emit("subscribe",t,f=>f?l(f):c())});const p=(c,l)=>{n(c,l)};this.__ioNamespace.on(t,p),e();const g=c=>{o(c)};this.__io.on("disconnect",g);const u=()=>{Promise.resolve().then(async()=>{await this.connect(),await new Promise((c,l)=>{this.__ioNamespace.emit("subscribe",t,f=>f?l(f):c())}),this.__ioNamespace.on(t,p),r()}).catch(c=>a(c))};return this.__io.on("reconnect",u),{unsubscribe:()=>{this.__ioNamespace.emit("unsubscribe",t),this.__ioNamespace.removeListener(t,p),this.__io.removeListener("disconnect",g),this.__io.removeListener("reconnect",u)}}}async connect(){return this.io||(this.io=Promise.resolve().then(async()=>{const t=await this.baseUrl;return this.__token||await this.login(),new Promise((e,r)=>{this.__debug(`SocketIOClient ${t}`),this.__io=SocketIOClient(t,{autoConnect:!1,transports:["websocket"],transportOptions:{pingTimeout:8e3,pingInterval:5e3}}),this.__io.on("disconnect",a=>{this.__debug("SocketIOClient.onDisconnect",a),this.__connected=!1,this.__ioNamespace&&(this.__ioNamespace.disconnect(),this.__ioNamespace.destroy(),this.__ioNamespace.removeAllListeners()),r(new Error("Disconnected"))}),this.__io.on("error",a=>{this.__debug("SocketIOClient.onError",a.message)}),this.__io.on("reconnect",()=>{this.__debug("SocketIOClient.onReconnect"),this.__handshakeClient().then(()=>{this.__debug("SocketIOClient.onReconnect.onHandshakeClientSuccess"),this.__connected=!0,e()}).catch(a=>{this.__debug("SocketIOClient.onReconnect.onHandshakeClientError",a.message),r(a)})}),this.__io.on("reconnecting",a=>{this.__debug(`SocketIOClient.onReconnecting (Attempt #${a})`)}),this.__io.on("reconnect_error",a=>{this.__debug("SocketIOClient.onReconnectError",a.message)}),this.__io.once("connect_error",a=>{this.__debug("SocketIOClient.onConnectError",a.message),r(a)}),this.__io.once("connect",()=>{this.__debug("SocketIOClient.onConnect"),this.__handshakeClient().then(()=>{this.__debug("SocketIOClient.onConnect.onHandshakeClientSuccess"),this.__connected=!0,e()}).catch(a=>{this.__debug("SocketIOClient.onConnect.onHandshakeClientError",a.message),r(a)})}),this.__io.connect()})}),this.io.catch(t=>{this.__debug("SocketIOClient Error",t.message)})),this.io}async disconnect(){this.__io&&await new Promise(t=>{this.__io.once("disconnect",t()),this.__io.disconnect(),this.__io.removeAllListeners(),this.__io=null})}destroy(){this.__io&&(this.__io.removeAllListeners(),this.__io.close())}async __handshakeClient(){return new Promise((t,e)=>{this.__io.emit("handshakeClient",{token:this.__token,homeyId:this.id},(r,a)=>r?e(r):t(a))}).catch(async t=>{if(t.statusCode===401)return this.__debug("Token expired, refreshing..."),await this.logout(),await this.login(),new Promise((e,r)=>{this.__io.emit("handshakeClient",{token:this.__token,homeyId:this.id},(a,o)=>a?r(a):e(o))});throw t}).then(({namespace:t})=>(this.__debug("SocketIOClient.onHandshakeClientSuccess",`Namespace: ${t}`),new Promise((e,r)=>{this.__ioNamespace=this.__io.io.socket(t),this.__ioNamespace.once("connect",()=>{this.__debug(`SocketIOClient.Namespace[${t}].onConnect`),e()}),this.__ioNamespace.once("connect_error",a=>{this.__debug(`SocketIOClient.Namespace[${t}].onConnectError`,a.message),r(a)}),this.__ioNamespace.on("reconnecting",a=>{this.__debug(`SocketIOClient.Namespace[${t}].onReconnecting (Attempt #${a})`)}),this.__ioNamespace.on("reconnect",()=>{this.__debug(`SocketIOClient.Namespace[${t}].onReconnect`)}),this.__ioNamespace.on("reconnect_error",a=>{this.__debug(`SocketIOClient.Namespace[${t}].onReconnectError`,a.message)}),this.__ioNamespace.on("disconnect",a=>{this.__debug(`SocketIOClient.Namespace[${t}].onDisconnect`,a)}),this.__ioNamespace.connect()})))}}return $(HomeyAPIV3,"MANAGERS",{ManagerApps,ManagerDrivers,ManagerDevices,ManagerFlow,ManagerFlowToken,ManagerInsights}),HomeyAPIV3_1=HomeyAPIV3,HomeyAPIV3_1}const FlowV3=Flow_1$1;let Flow$1=class extends FlowV3{static transformGet(e){return e=super.transformGet(e),e.trigger&&(e.trigger.id=`${e.trigger.uri}:${e.trigger.id}`,delete e.trigger.uri),Array.isArray(e.conditions)&&e.conditions.forEach(r=>{r.id=`${r.uri}:${r.id}`,delete r.uri}),Array.isArray(e.actions)&&e.actions.forEach(r=>{r.id=`${r.uri}:${r.id}`,delete r.uri}),delete e.broken,e}static transformSet(e){return e.trigger&&(e.trigger.uri=e.trigger.id.split(":",3).join(":"),e.trigger.id=e.trigger.id.split(":").reverse()[0]),Array.isArray(e.conditions)&&e.conditions.forEach(r=>{r.uri=r.id.split(":",3).join(":"),r.id=r.id.split(":").reverse()[0]}),Array.isArray(e.actions)&&e.actions.forEach(r=>{r.uri=r.id.split(":",3).join(":"),r.id=r.id.split(":").reverse()[0]}),e}};var Flow_1=Flow$1;const AdvancedFlowV3=AdvancedFlow_1$1;let AdvancedFlow$1=class extends AdvancedFlowV3{static transformGet(e){if(e.cards)for(const r of Object.values(e.cards))r.id=`${r.ownerUri}:${r.id}`;return delete e.broken,e}static transformSet(e){if(e.cards)for(const r of Object.values(e.cards))r.ownerUri=r.id.split(":",3).join(":"),r.id=r.id.split(":").reverse()[0];return e}};var AdvancedFlow_1=AdvancedFlow$1;const FlowCardTriggerV3=FlowCardTrigger_1$1;let FlowCardTrigger$1=class extends FlowCardTriggerV3{static transformGet(e){return e=super.transformGet(e),e.id=`${e.uri}:${e.id}`,e.ownerUri=e.uri,e.ownerId=e.uriObj.id,e.ownerName=e.uriObj.name,e.color=e.uriObj.color,e.iconObj=e.uriObj.iconObj,delete e.uri,delete e.uriObj,e}};var FlowCardTrigger_1=FlowCardTrigger$1;const FlowCardConditionV3=FlowCardCondition_1$1;let FlowCardCondition$1=class extends FlowCardConditionV3{static transformGet(e){return e=super.transformGet(e),e.id=`${e.uri}:${e.id}`,e.ownerUri=e.uri,e.ownerId=e.uriObj.id,e.ownerName=e.uriObj.name,e.color=e.uriObj.color,e.iconObj=e.uriObj.iconObj,delete e.uri,delete e.uriObj,e}};var FlowCardCondition_1=FlowCardCondition$1;const FlowCardActionV3=FlowCardAction_1$1;let FlowCardAction$1=class extends FlowCardActionV3{static transformGet(e){return e=super.transformGet(e),e.id=`${e.uri}:${e.id}`,e.ownerUri=e.uri,e.ownerId=e.uriObj.id,e.ownerName=e.uriObj.name,e.color=e.uriObj.color,e.iconObj=e.uriObj.iconObj,delete e.uri,delete e.uriObj,e}};var FlowCardAction_1=FlowCardAction$1;const ManagerFlowV3=ManagerFlow_1$1,Flow=Flow_1,AdvancedFlow=AdvancedFlow_1,FlowCardTrigger=FlowCardTrigger_1,FlowCardCondition=FlowCardCondition_1,FlowCardAction=FlowCardAction_1,J=class extends ManagerFlowV3{async createFlow({flow:e,...r}){return this.__super__.createFlow({flow:Flow.transformSet(e),...r})}async updateFlow({flow:e,...r}){return this.__super__.updateFlow({flow:Flow.transformSet(e),...r})}async createAdvancedFlow({advancedflow:e,...r}){return this.__super__.createAdvancedFlow({advancedflow:AdvancedFlow.transformSet(e),...r})}async updateAdvancedFlow({advancedflow:e,...r}){return this.__super__.updateAdvancedFlow({advancedflow:AdvancedFlow.transformSet(e),...r})}async getFlowCardTrigger({$cache:e=!0,id:r}){return e===!0&&this.__cache.flowcardtrigger[r]?this.__cache.flowcardtrigger[r]:this.__super__getFlowCardTrigger({id:r.split(":").reverse()[0],uri:r.split(":",3).join(":")})}async getFlowCardCondition({$cache:e=!0,id:r}){return e===!0&&this.__cache.flowcardcondition[r]?this.__cache.flowcardcondition[r]:this.__super__getFlowCardCondition({id:r.split(":").reverse()[0],uri:r.split(":",3).join(":")})}async runFlowCardCondition({id:e,...r}){return this.__super__runFlowCardCondition({id:e.split(":").reverse()[0],uri:e.split(":",3).join(":"),...r})}async getFlowCardAction({$cache:e=!0,id:r}){return e===!0&&this.__cache.flowcardaction[r]?this.__cache.flowcardaction[r]:this.__super__getFlowCardAction({id:r.split(":").reverse()[0],uri:r.split(":",3).join(":")})}async runFlowCardAction({id:e,...r}){return this.__super__runFlowCardAction({id:e.split(":").reverse()[0],uri:e.split(":",3).join(":"),...r})}};let ManagerFlow=J;$(ManagerFlow,"CRUD",{...x(J,J,"CRUD"),Flow,AdvancedFlow,FlowCardTrigger,FlowCardCondition,FlowCardAction});var ManagerFlow_1=ManagerFlow;const FlowTokenV3=FlowToken_1$1;let FlowToken$1=class extends FlowTokenV3{static transformGet(e){return e.ownerUri=e.uri,e.ownerId=e.id,e.id=`${e.ownerUri}:${e.ownerId}`,delete e.ownerName,delete e.uri,delete e.uriObj,e}};var FlowToken_1=FlowToken$1;const ManagerFlowTokenV3=ManagerFlowToken_1$1,FlowToken=FlowToken_1,Z=class extends ManagerFlowTokenV3{async getFlowToken({$cache:e=!0,id:r}){return e===!0&&this.__cache.flowtoken[r]?this.__cache.flowtoken[r]:this.__super__getFlowToken({id:r.split(":").reverse()[0],uri:r.split(":",3).join(":")})}};let ManagerFlowToken=Z;$(ManagerFlowToken,"CRUD",{...x(Z,Z,"CRUD"),FlowToken});var ManagerFlowToken_1=ManagerFlowToken;const CapabilityV3=Capability_1$1;let Capability$1=class extends CapabilityV3{static transformGet(e){return e=super.transformGet(e),e.id=`${e.uri}:${e.id}`,e.ownerUri=e.uri,delete e.uri,e}};var Capability_1=Capability$1;const DeviceV3=Device_1$2;let Device$3=class extends DeviceV3{static transformGet(e){return e.driverId=`${e.driverUri}:${e.driverId}`,e=super.transformGet(e),delete e.driverUri,delete e.zoneName,e}};var Device_1$1=Device$3;const ManagerDevicesV3=ManagerDevices_1$1,Capability=Capability_1,Device$2=Device_1$1,K=class extends ManagerDevicesV3{};let ManagerDevices=K;$(ManagerDevices,"CRUD",{...x(K,K,"CRUD"),Capability,Device:Device$2});var ManagerDevices_1=ManagerDevices;const DriverV3=Driver_1$1;let Driver$1=class extends DriverV3{static transformGet(e){return e=super.transformGet(e),e.ownerId=e.id,e.ownerUri=e.uri,e.ownerName=e.uriObj.name,e.ownerIconObj=e.uriObj.iconObj,e.color=e.uriObj.color,e.id=`${e.uri}:${e.id}`,delete e.uri,delete e.uriObj,e}};var Driver_1=Driver$1;const PairSessionV3=PairSession_1$1;let PairSession$1=class extends PairSessionV3{static transformGet(e){return e=super.transformGet(e),e.driverId=`${e.driverUri}:${e.driverId}`,e.ownerUri=e.driverUri,delete e.driverUri,e}};var PairSession_1=PairSession$1;const ManagerDriversV3=ManagerDrivers_1$1,Driver=Driver_1,PairSession=PairSession_1,Q=class extends ManagerDriversV3{async getDriver({$cache:e=!0,id:r}){return e===!0&&this.__cache.driver[r]?this.__cache.driver[r]:this.__super__getDriver({id:r.split(":").reverse()[0],uri:r.split(":",3).join(":")})}async createPairSession({pairsession:e,...r}){return e.driverId&&(e.driverUri=e.driverId.split(":",3).join(":"),e.driverId=e.driverId.split(":").reverse()[0]),this.__super__createPairSession({pairsession:e,...r})}};let ManagerDrivers=Q;$(ManagerDrivers,"CRUD",{...x(Q,Q,"CRUD"),Driver,PairSession});var ManagerDrivers_1=ManagerDrivers,browser=typeof self=="object"?self.FormData:window.FormData;const HomeyAPIV3Manager=Manager_1$1;let Manager$1=class extends HomeyAPIV3Manager{};var Manager_1=Manager$1;const FormData=browser,Manager=Manager_1;let ManagerDevkit$1=class extends Manager{async runApp({app:e,env:r={},debug:a=!1,clean:o=!1}){const n=new FormData;return n.append("app",e),n.append("env",JSON.stringify(r)),n.append("debug",a?"true":"false"),n.append("purgeSettings",o?"true":"false"),this.homey.call({$timeout:1e3*60*5,method:"POST",path:"/api/manager/devkit/",body:n,json:!1})}};var ManagerDevkit_1$1=ManagerDevkit$1;const ManagerDevkitV3=ManagerDevkit_1$1;class ManagerDevkit extends ManagerDevkitV3{}var ManagerDevkit_1=ManagerDevkit;const LogV3=Log_1$1;let Log$1=class extends LogV3{static transformGet(e){return e=super.transformGet(e),e.ownerId=e.id,e.ownerUri=e.uri,e.id=`${e.uri}:${e.id}`,delete e.uri,delete e.uriObj,e}};var Log_1=Log$1;const ManagerInsightsV3=ManagerInsights_1$1,Log=Log_1,ee=class extends ManagerInsightsV3{async getLog({$cache:e=!0,id:r}){return e===!0&&this.__cache.log[r]?this.__cache.log[r]:this.__super__getLog({id:r.split(":").reverse()[0],uri:r.split(":",3).join(":")})}async getLogEntries({id:e,resolution:r}){return this.__super__getLogEntries({id:e.split(":").reverse()[0],uri:e.split(":",3).join(":"),resolution:r})}async deleteLogEntries({id:e}){return this.__super__deleteLogEntries({id:e.split(":").reverse()[0],uri:e.split(":",3).join(":")})}};let ManagerInsights=ee;$(ManagerInsights,"CRUD",{...x(ee,ee,"CRUD"),Log});var ManagerInsights_1=ManagerInsights,HomeyAPIV2_1,hasRequiredHomeyAPIV2;function requireHomeyAPIV2(){if(hasRequiredHomeyAPIV2)return HomeyAPIV2_1;hasRequiredHomeyAPIV2=1;const t=requireHomeyAPIV3(),e=ManagerFlow_1,r=ManagerFlowToken_1,a=ManagerDevices_1,o=ManagerDrivers_1,n=ManagerDevkit_1,p=ManagerInsights_1,u=class extends t{get platform(){return"local"}get platformVersion(){return 1}};let g=u;return $(g,"MANAGERS",{...x(u,u,"MANAGERS"),ManagerFlow:e,ManagerFlowToken:r,ManagerDevices:a,ManagerDrivers:o,ManagerDevkit:n,ManagerInsights:p}),HomeyAPIV2_1=g,HomeyAPIV2_1}const managers$1={ManagerAlarms:{id:"alarms",idCamelCase:"alarms",items:{Alarm:{id:"alarm",schema:{repetition:{type:"object",properties:{required:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],monday:{type:"boolean"},tuesday:{type:"boolean"},wednesday:{type:"boolean"},thursday:{type:"boolean"},friday:{type:"boolean"},saturday:{type:"boolean"},sunday:{type:"boolean"}}}}}},operations:{getAlarms:{method:"get",path:"/alarm",private:!1,scopes:["homey.alarm.readonly"],crud:{type:"getAll",item:"Alarm"},parameters:{}},getAlarm:{method:"get",path:"/alarm/:id",private:!1,scopes:["homey.alarm.readonly"],crud:{type:"getOne",item:"Alarm"},parameters:{id:{in:"path",type:"string",required:!0}}},createAlarm:{method:"post",path:"/alarm",private:!1,scopes:["homey.alarm"],crud:{type:"createOne",item:"Alarm"},parameters:{alarm:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string"},time:{type:"string"},enabled:{type:"boolean"},repetition:{type:"object"}}}}},updateAlarm:{method:"put",path:"/alarm/:id",private:!1,scopes:["homey.alarm"],crud:{type:"updateOne",item:"Alarm"},parameters:{id:{in:"path",type:"string",required:!0},alarm:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string"},time:{type:"string"},enabled:{type:"boolean"},repetition:{type:"object"}}}}},deleteAlarm:{method:"delete",path:"/alarm/:id",private:!1,scopes:["homey.alarm"],crud:{type:"deleteOne",item:"Alarm"},parameters:{id:{in:"path",type:"string",required:!0}}}}},ManagerApi:{id:"api",idCamelCase:"api",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerApps:{id:"apps",idCamelCase:"apps",items:{App:{id:"app",schema:{type:"object",properties:{id:{type:"string"}}}},AppSettings:{id:"appsettings",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getApps:{method:"get",path:"/app",private:!1,scopes:["homey.app.readonly"],crud:{type:"getAll",item:"App"},parameters:{}},getApp:{method:"get",path:"/app/:id",private:!1,scopes:["homey.app.readonly"],crud:{type:"getOne",item:"App"},parameters:{id:{in:"path",type:"string",required:!0}}},installFromAppStore:{method:"post",path:"/store",private:!1,scopes:["homey.app"],parameters:{id:{in:"body",type:"string",required:!0},channel:{in:"body",type:"string"}}},uninstallApp:{method:"delete",path:"/app/:id",private:!1,scopes:["homey.app"],parameters:{id:{in:"path",type:"string",required:!0}}},getAppSettings:{method:"get",path:"/app/:id/setting",private:!1,scopes:["homey.app.control"],crud:{type:"getOne",item:"AppSettings"},parameters:{id:{in:"path",type:"string",required:!0}}},getAppSetting:{method:"get",path:"/app/:id/setting/:name",private:!1,scopes:["homey.app.control"],parameters:{name:{in:"path",type:"string",required:!0},id:{in:"path",type:"string",required:!0}}},setAppSetting:{method:"put",path:"/app/:id/setting/:name",private:!1,scopes:["homey.app.control"],parameters:{name:{in:"path",type:"string",required:!0},id:{in:"path",type:"string",required:!0},value:{in:"body",required:!0}}},unsetAppSetting:{method:"delete",path:"/app/:id/setting/:name",private:!1,scopes:["homey.app.control"],parameters:{name:{in:"path",type:"string",required:!0},id:{in:"path",type:"string",required:!0}}},getAppStd:{method:"post",path:"/app/:id/crashlog",private:!1,scopes:["homey.app.readonly"],parameters:{id:{in:"path",type:"string",required:!0},message:{in:"body",type:"string",required:!0}}},updateApp:{method:"put",path:"/app/:id",private:!1,scopes:["homey.app"],crud:{type:"updateOne",item:"App"},parameters:{id:{in:"path",type:"string",required:!0},app:{in:"body",type:"object",root:!0,required:!0,properties:{autoupdate:{type:"boolean"}}}}},enableApp:{method:"put",path:"/app/:id/enable",private:!1,scopes:["homey.app"],parameters:{id:{in:"path",type:"string",required:!0}}},disableApp:{method:"put",path:"/app/:id/disable",private:!1,scopes:["homey.app"],parameters:{id:{in:"path",type:"string",required:!0}}},restartApp:{method:"post",path:"/app/:id/restart",private:!1,scopes:["homey.app"],parameters:{id:{in:"path",type:"string",required:!0}}},getAppLocales:{method:"get",path:"/app/:id/locale",private:!1,scopes:["homey.app.readonly"],parameters:{id:{in:"path",type:"string",required:!0}}},getAppUsage:{method:"get",path:"/app/:id/usage",private:!1,scopes:["homey.app.readonly"],parameters:{id:{in:"path",type:"string",required:!0}}}}},ManagerArp:{id:"arp",idCamelCase:"arp",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerBackup:{id:"backup",idCamelCase:"backup",items:{},operations:{getOptionAutomaticBackupsEnabled:{method:"GET",path:"/option/automaticBackupsEnabled",scopes:["homey.system.readonly"]},setOptionAutomaticBackupsEnabled:{method:"PUT",path:"/option/automaticBackupsEnabled",scopes:["homey.system"],parameters:{value:{in:"body",required:!0}}},unsetOptionAutomaticBackupsEnabled:{method:"DELETE",path:"/option/automaticBackupsEnabled",scopes:["homey.system"]},getOptionLastSuccessfulBackup:{method:"GET",path:"/option/lastSuccessfulBackup",scopes:["homey.system.readonly"]},setOptionLastSuccessfulBackup:{method:"PUT",path:"/option/lastSuccessfulBackup",scopes:[],parameters:{value:{in:"body",required:!0}}},unsetOptionLastSuccessfulBackup:{method:"DELETE",path:"/option/lastSuccessfulBackup",scopes:[]},getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},scheduleBackup:{method:"post",path:"/backup",private:!1,scopes:["homey.system"],parameters:{}}}},ManagerBLE:{id:"ble",idCamelCase:"ble",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},runCommand:{method:"post",path:"/command",private:!1,scopes:["homey.system"],parameters:{command:{in:"body",type:"string",required:!0},opts:{in:"body",type:"object"}}}}},ManagerClock:{id:"clock",idCamelCase:"clock",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerCloud:{id:"cloud",idCamelCase:"cloud",items:{Webhook:{id:"webhook",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerCoprocessor:{id:"coprocessor",idCamelCase:"coprocessor",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getBridges:{method:"get",path:"/bridge",private:!1,scopes:["homey.system.readonly"],parameters:{}},pairBridge:{method:"post",path:"/bridge",private:!1,scopes:["homey.system"],parameters:{serialHash:{in:"body",type:"string",required:!0}}},setDebugLogging:{method:"put",path:"/debug",private:!0,scopes:["homey.system"],parameters:{peripheral:{in:"body",type:"string"},enabled:{in:"body",type:"boolean",required:!0}}}}},ManagerCron:{id:"cron",idCamelCase:"cron",items:{Cronjob:{id:"cronjob",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerDashboards:{id:"dashboards",idCamelCase:"dashboards",private:!0,items:{Dashboard:{id:"dashboard",schema:{type:"object",properties:{id:{type:"string",format:"uuid"},name:{type:"string"},widgets:{type:"object",additionalProperties:!1,patternProperties:{"^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$":{type:"object",properties:{type:{type:"string"},x:{type:"number"},y:{type:"number"},width:{type:"number"},height:{type:"number"},settings:{type:"object"}}}}},lines:{type:"object",additionalProperties:!1,patternProperties:{"^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$":{type:"object",properties:{x1:{type:"number"},x2:{type:"number"},y1:{type:"number"},y2:{type:"number"},settings:{type:"object"}}}}}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getDashboards:{method:"get",path:"/dashboard",private:!1,scopes:["homey.dashboard.readonly"],crud:{type:"getAll",item:"Dashboard"},parameters:{}},getDashboard:{method:"get",path:"/dashboard/:id",private:!1,scopes:["homey.dashboard.readonly"],crud:{type:"getOne",item:"Dashboard"},parameters:{id:{in:"path",type:"string",required:!0}}},createDashboard:{method:"post",path:"/dashboard",private:!1,scopes:["homey.dashboard"],crud:{type:"createOne",item:"Dashboard"},parameters:{dashboard:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string",required:!0},widgets:{type:"object",required:!0},lines:{type:"object",required:!0}}}}},updateDashboard:{method:"put",path:"/dashboard/:id",private:!1,scopes:["homey.dashboard"],crud:{type:"updateOne",item:"Dashboard"},parameters:{id:{in:"path",type:"string",required:!0},dashboard:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string"},widgets:{type:"object"},lines:{type:"object"}}}}},deleteDashboard:{method:"delete",path:"/dashboard/:id",private:!1,scopes:["homey.dashboard"],crud:{type:"deleteOne",item:"Dashboard"},parameters:{id:{in:"path",type:"string",required:!0}}}}},ManagerDatabase:{id:"database",idCamelCase:"database",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerDevices:{id:"devices",idCamelCase:"devices",items:{Device:{id:"device",schema:{type:"object",properties:{id:{type:"string",format:"uuid"},name:{type:"string"},note:{type:"string"}}}},Capability:{id:"capability",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getDevice:{method:"get",path:"/device/:id",private:!1,scopes:["homey.device.readonly"],crud:{type:"getOne",item:"Device"},parameters:{id:{in:"path",type:"string",required:!0}}},getDeviceSettingsObj:{method:"get",path:"/device/:id/settings_obj",private:!1,scopes:["homey.device.readonly"],parameters:{id:{in:"path",type:"string",required:!0}}},setDeviceSettings:{method:"put",path:"/device/:id/settings",private:!1,scopes:["homey.device"],parameters:{id:{in:"path",type:"string",required:!0},settings:{in:"body",type:"object",root:!0,required:!0}}},getDevices:{method:"get",path:"/device",private:!1,scopes:["homey.device.readonly"],crud:{type:"getAll",item:"Device"},parameters:{}},updateDevice:{method:"put",path:"/device/:id",private:!1,scopes:["homey.device"],crud:{type:"updateOne",item:"Device"},parameters:{id:{in:"path",type:"string",required:!0},device:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string"},zone:{type:"string"},note:{type:"string"},iconOverride:{type:"string"},virtualClass:{type:"string"},uiIndicator:{type:"string"}}}}},deleteDevice:{method:"delete",path:"/device/:id",private:!1,scopes:["homey.device"],crud:{type:"deleteOne",item:"Device"},parameters:{id:{in:"path",type:"string",required:!0}}},getCapabilityValue:{method:"get",path:"/device/:deviceId/capability/:capabilityId",private:!1,scopes:["homey.device.readonly"],parameters:{capabilityId:{in:"path",type:"string",required:!0},deviceId:{in:"path",type:"string",required:!0}}},setCapabilityValue:{method:"put",path:"/device/:deviceId/capability/:capabilityId",private:!1,scopes:["homey.device.control"],parameters:{capabilityId:{in:"path",type:"string",required:!0},deviceId:{in:"path",type:"string",required:!0},value:{in:"body",type:["string","number","boolean"],required:!0},opts:{in:"body",type:"object"},transactionId:{in:"body",type:"string"}}}}},ManagerDevkit:{id:"devkit",idCamelCase:"devkit",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},installApp:{method:"post",path:"/app",private:!1,scopes:["homey.app"],parameters:{manifest:{in:"body",type:"object",required:!0},clean:{in:"body",type:"boolean"}}},uninstallApp:{method:"delete",path:"/app/:sessionId",private:!1,scopes:["homey.app"],parameters:{sessionId:{in:"path",type:"string",required:!0}}},stopApp:{method:"delete",path:"/:session",private:!1,scopes:["homey.app"],parameters:{session:{in:"path",type:"string",required:!0}}},getAppStdOut:{method:"get",path:"/std/:session",private:!1,scopes:["homey.app"],parameters:{session:{in:"path",type:"string",required:!0}}}}},ManagerDiscovery:{id:"discovery",idCamelCase:"discovery",items:{DiscoveryStrategyMDNSSD:{id:"discoverystrategy-mdnssd",schema:{type:"object",properties:{id:{type:"string"}}}},DiscoveryStrategySSDP:{id:"discoverystrategy-ssdp",schema:{type:"object",properties:{id:{type:"string"}}}},DiscoveryStrategyMAC:{id:"discoverystrategy-mac",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerDrivers:{id:"drivers",idCamelCase:"drivers",items:{Driver:{id:"driver",schema:{type:"object",properties:{id:{type:"string",format:"uuid"},pair:{type:"array",required:!0}}}},PairSession:{id:"pairsession",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getDrivers:{method:"get",path:"/driver",private:!1,scopes:["homey.device.readonly"],crud:{type:"getAll",item:"Driver"},parameters:{}},getPairSession:{method:"get",path:"/pairsession/:id",private:!1,scopes:["homey.device"],crud:{type:"getOne",item:"PairSession"},parameters:{id:{in:"path",type:"string",required:!0}}},createPairSession:{method:"post",path:"/pairsession",private:!1,scopes:["homey.device"],crud:{type:"createOne",item:"PairSession"},parameters:{pairsession:{in:"body",type:"object",root:!0,required:!0,properties:{type:{type:"string",required:!0},driverId:{type:"string",required:!0},deviceId:{type:"string"},zoneId:{type:"string"}}}}},deletePairSession:{method:"delete",path:"/pairsession/:id",private:!1,scopes:["homey.device"],crud:{type:"deleteOne",item:"PairSession"},parameters:{id:{in:"path",type:"string",required:!0}}},emitPairingHeartbeat:{method:"post",path:"/pairsession/:id/heartbeat",private:!1,scopes:["homey.device"],parameters:{id:{in:"path",type:"string",required:!0}}},emitPairingEvent:{method:"post",path:"/pairsession/:id/emit",private:!1,scopes:["homey.device"],parameters:{id:{in:"path",type:"string",required:!0},event:{in:"body",type:"string",required:!0},data:{in:"body"}}},emitPairingCallback:{method:"post",path:"/pairsession/:id/callback",private:!1,scopes:["homey.device"],parameters:{id:{in:"path",type:"string",required:!0},callbackId:{in:"body",type:"string",required:!0},data:{in:"body"}}},createPairSessionDevice:{method:"post",path:"/pairsession/:id/device",private:!1,scopes:["homey.device"],parameters:{id:{in:"path",type:"string",required:!0},device:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string"},data:{required:!0},zone:{type:"string"},store:{type:"object"},capabilities:{type:"array"},capabilitiesOptions:{type:"object"},class:{type:"string"},icon:{type:"string"},iconOverride:{type:"string"},settings:{type:"object"},energy:{type:"object"}}}}},deletePairSessionDevice:{method:"delete",path:"/pairsession/:id/device",private:!1,scopes:["homey.device"],parameters:{id:{in:"path",type:"string",required:!0}}}}},ManagerEnergy:{id:"energy",idCamelCase:"energy",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getLiveReport:{method:"get",path:"/live",private:!1,scopes:["homey.insights.readonly"],parameters:{zone:{in:"query",type:"string"}}}}},ManagerExperiments:{id:"experiments",idCamelCase:"experiments",items:{ExperimentSSH:{id:"experiment-ssh",schema:{type:"object",properties:{id:{type:"string"}}}},ExperimentHomeKit:{id:"experiment-homekit",schema:{type:"object",properties:{id:{type:"string"}}}},ExperimentPowerUser:{id:"experiment-poweruser",schema:{type:"object",properties:{id:{type:"string"}}}},ExperimentVirtualDevices:{id:"experiment-virtualdevices",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getExperiments:{method:"get",path:"/experiment",private:!1,scopes:[],parameters:{}},enableExperiment:{method:"put",path:"/experiment/:experimentId/enable",private:!1,scopes:[],parameters:{experimentId:{in:"path",type:"string",required:!0}}},disableExperiment:{method:"put",path:"/experiment/:experimentId/disable",private:!1,scopes:[],parameters:{experimentId:{in:"path",type:"string",required:!0}}}}},ManagerFlow:{id:"flow",idCamelCase:"flow",items:{Flow:{id:"flow"},FlowFolder:{id:"flowfolder",schema:{type:"object",properties:{id:{type:"string"}}}},FlowCardTrigger:{id:"flowcardtrigger",schema:{type:"object",properties:{id:{type:"string"}}}},FlowCardCondition:{id:"flowcardcondition",schema:{type:"object",properties:{id:{type:"string"}}}},FlowCardAction:{id:"flowcardaction",schema:{type:"object",properties:{id:{type:"string"}}}},AdvancedFlow:{id:"advancedflow",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getFlow:{method:"get",path:"/flow/:id",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getOne",item:"Flow"},parameters:{id:{in:"path",type:"string",required:!0}}},getFlows:{method:"get",path:"/flow",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getAll",item:"Flow"},parameters:{}},createFlow:{method:"post",path:"/flow",private:!1,scopes:["homey.flow"],crud:{type:"createOne",item:"Flow"},parameters:{flow:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string",required:!0},folder:{type:"string"},enabled:{type:"boolean"},trigger:{type:"object",required:!0},conditions:{type:"array",required:!0},actions:{type:"array",required:!0}}}}},updateFlow:{method:"put",path:"/flow/:id",private:!1,scopes:["homey.flow"],crud:{type:"updateOne",item:"Flow"},parameters:{id:{in:"path",type:"string",required:!0},flow:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string"},folder:{type:"string"},enabled:{type:"boolean"},trigger:{type:"object"},conditions:{type:"array"},actions:{type:"array"}}}}},deleteFlow:{method:"delete",path:"/flow/:id",private:!1,scopes:["homey.flow"],crud:{type:"deleteOne",item:"Flow"},parameters:{id:{in:"path",type:"string",required:!0}}},testFlow:{method:"post",path:"/flow/test",private:!1,scopes:["homey.flow"],parameters:{flow:{in:"body",type:"object",required:!0,properties:{trigger:{type:"object",required:!0},conditions:{type:"array",required:!0},actions:{type:"array",required:!0}}},tokens:{in:"body",type:"object",required:!0},sessionId:{in:"body",type:"string",required:!0}}},triggerFlow:{method:"post",path:"/flow/:id/trigger",private:!1,scopes:["homey.flow.start"],parameters:{id:{in:"path",type:"string",required:!0}}},shareFlow:{method:"post",path:"/flow/:id/share",private:!1,scopes:["homey.flow.readonly"],parameters:{id:{in:"path",type:"string",required:!0}}},getFlowFolders:{method:"get",path:"/flowfolder",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getAll",item:"FlowFolder"},parameters:{}},getFlowFolder:{method:"get",path:"/flowfolder/:id",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getOne",item:"FlowFolder"},parameters:{id:{in:"path",type:"string",required:!0}}},createFlowFolder:{method:"post",path:"/flowfolder",private:!1,scopes:["homey.flow"],crud:{type:"createOne",item:"FlowFolder"},parameters:{flowfolder:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string",required:!0},parent:{type:"string"}}}}},updateFlowFolder:{method:"put",path:"/flowfolder/:id",private:!1,scopes:["homey.flow"],crud:{type:"updateOne",item:"FlowFolder"},parameters:{id:{in:"path",type:"string",required:!0},flowfolder:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string"},parent:{type:"string"}}}}},deleteFlowFolder:{method:"delete",path:"/flowfolder/:id",private:!1,scopes:["homey.flow"],crud:{type:"deleteOne",item:"FlowFolder"},parameters:{id:{in:"path",type:"string",required:!0}}},getFlowCardTrigger:{method:"get",path:"/flowcardtrigger/:uri/:id",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getOne",item:"FlowCardTrigger"},parameters:{id:{in:"path",type:"string",required:!0},uri:{in:"path",type:"string",required:!0}}},getFlowCardTriggers:{method:"get",path:"/flowcardtrigger",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getAll",item:"FlowCardTrigger"},parameters:{}},getFlowCardCondition:{method:"get",path:"/flowcardcondition/:uri/:id",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getOne",item:"FlowCardCondition"},parameters:{id:{in:"path",type:"string",required:!0},uri:{in:"path",type:"string",required:!0}}},getFlowCardConditions:{method:"get",path:"/flowcardcondition",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getAll",item:"FlowCardCondition"},parameters:{}},runFlowCardCondition:{method:"post",path:"/flowcardcondition/:uri/:id/run",private:!1,scopes:["homey.flow"],parameters:{id:{in:"path",type:"string",required:!0},uri:{in:"path",type:"string",required:!0},args:{in:"body",type:"object"},tokens:{in:"body",type:"object"},state:{in:"body",type:"object"},droptoken:{in:"body",type:"string"}}},getFlowCardAction:{method:"get",path:"/flowcardaction/:uri/:id",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getOne",item:"FlowCardAction"},parameters:{id:{in:"path",type:"string",required:!0},uri:{in:"path",type:"string",required:!0}}},getFlowCardActions:{method:"get",path:"/flowcardaction",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getAll",item:"FlowCardAction"},parameters:{}},runFlowCardAction:{method:"post",path:"/flowcardaction/:uri/:id/run",private:!1,scopes:["homey.flow"],parameters:{id:{in:"path",type:"string",required:!0},uri:{in:"path",type:"string",required:!0},args:{in:"body",type:"object"},tokens:{in:"body",type:"object"},state:{in:"body",type:"object"},droptoken:{in:"body",type:"string"},duration:{in:"body",type:"number"}}},getFlowCardAutocomplete:{method:"get",path:"/:type/:uri/:id/autocomplete",private:!1,scopes:[],parameters:{id:{in:"path",type:"string",required:!0},uri:{in:"path",type:"string",required:!0},type:{in:"path",type:"string",required:!0},name:{in:"query",type:"string",required:!0},query:{in:"query",type:"string",required:!0},args:{in:"query",type:"object"}}},getAdvancedFlow:{method:"get",path:"/advancedflow/:id",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getOne",item:"AdvancedFlow"},parameters:{id:{in:"path",type:"string",required:!0}}},getAdvancedFlows:{method:"get",path:"/advancedflow",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getAll",item:"AdvancedFlow"},parameters:{}},createAdvancedFlow:{method:"post",path:"/advancedflow",private:!1,scopes:["homey.flow"],crud:{type:"createOne",item:"AdvancedFlow"},parameters:{advancedflow:{in:"body",root:!0,required:!0}}},updateAdvancedFlow:{method:"put",path:"/advancedflow/:id",private:!1,scopes:["homey.flow"],crud:{type:"updateOne",item:"AdvancedFlow"},parameters:{id:{in:"path",type:"string",required:!0},advancedflow:{in:"body",root:!0,required:!0}}},deleteAdvancedFlow:{method:"delete",path:"/advancedflow/:id",private:!1,scopes:["homey.flow"],crud:{type:"deleteOne",item:"AdvancedFlow"},parameters:{id:{in:"path",type:"string",required:!0}}},triggerAdvancedFlow:{method:"post",path:"/advancedflow/:id/trigger",private:!1,scopes:["homey.flow.start"],parameters:{id:{in:"path",type:"string",required:!0}}}}},ManagerFlowToken:{id:"flowtoken",idCamelCase:"flowtoken",items:{FlowToken:{id:"flowtoken",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getFlowTokens:{method:"get",path:"/flowtoken",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getAll",item:"FlowToken"},parameters:{}},getFlowToken:{method:"get",path:"/flowtoken/:id",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getOne",item:"FlowToken"},parameters:{id:{in:"path",type:"string",required:!0}}},getFlowTokenValue:{method:"get",path:"/flowtoken/:id/value",private:!1,scopes:["homey.flow.readonly"],parameters:{id:{in:"path",type:"string",required:!0}}}}},ManagerGeolocation:{id:"geolocation",idCamelCase:"geolocation",items:{},operations:{getOptionAddress:{method:"GET",path:"/option/address",scopes:["homey.geolocation.readonly"]},setOptionAddress:{method:"PUT",path:"/option/address",scopes:["homey.geolocation"],parameters:{value:{in:"body",required:!0}}},unsetOptionAddress:{method:"DELETE",path:"/option/address",scopes:["homey.geolocation"]},getOptionLocation:{method:"GET",path:"/option/location",scopes:["homey.geolocation.readonly"]},setOptionLocation:{method:"PUT",path:"/option/location",scopes:["homey.geolocation"],parameters:{value:{in:"body",required:!0}}},unsetOptionLocation:{method:"DELETE",path:"/option/location",scopes:["homey.geolocation"]},getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerGoogleAssistant:{id:"google-assistant",idCamelCase:"googleAssistant",items:{},operations:{getOptionEnabled:{method:"GET",path:"/option/enabled",scopes:["homey.system"]},setOptionEnabled:{method:"PUT",path:"/option/enabled",scopes:["homey.system"],parameters:{value:{in:"body",required:!0}}},unsetOptionEnabled:{method:"DELETE",path:"/option/enabled",scopes:["homey.system"]},getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},sync:{method:"post",path:"/sync",private:!1,scopes:["homey.system"],parameters:{}}}},ManagerI18n:{id:"i18n",idCamelCase:"i18n",items:{},operations:{getOptionLanguage:{method:"GET",path:"/option/language",scopes:["homey.system.readonly"]},setOptionLanguage:{method:"PUT",path:"/option/language",scopes:["homey.system"],parameters:{value:{in:"body",required:!0}}},unsetOptionLanguage:{method:"DELETE",path:"/option/language",scopes:["homey.system"]},getOptionUnits:{method:"GET",path:"/option/units",scopes:["homey.system.readonly"]},setOptionUnits:{method:"PUT",path:"/option/units",scopes:["homey.system"],parameters:{value:{in:"body",required:!0}}},unsetOptionUnits:{method:"DELETE",path:"/option/units",scopes:["homey.system"]},getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerIcons:{id:"icons",idCamelCase:"icons",items:{Icon:{id:"icon",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerImages:{id:"images",idCamelCase:"images",items:{Image:{id:"image",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getImages:{method:"get",path:"/image",private:!1,scopes:["homey.device.readonly"],crud:{type:"getAll",item:"Image"},parameters:{}}}},ManagerInsights:{id:"insights",idCamelCase:"insights",items:{Log:{id:"log",schema:{type:"object",properties:{id:{type:"string"}}}},LogEntryBoolean:{id:"logentryboolean",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getLog:{method:"get",path:"/log/:id",private:!1,scopes:["homey.insights.readonly"],crud:{type:"getOne",item:"Log"},parameters:{id:{in:"path",type:"string",required:!0}}},getLogs:{method:"get",path:"/log",private:!1,scopes:["homey.insights.readonly"],crud:{type:"getAll",item:"Log"},parameters:{}},getLogEntries:{method:"get",path:"/log/:uri/:id/entry",private:!1,scopes:["homey.insights.readonly"],parameters:{id:{in:"path",type:"string",required:!0},uri:{in:"path",type:"string",required:!0},resolution:{in:"query",type:"string"}}},deleteLog:{method:"delete",path:"/log/:uri/:id",private:!1,scopes:["homey.insights"],crud:{type:"deleteOne",item:"Log"},parameters:{id:{in:"path",type:"string",required:!0},uri:{in:"path",type:"string",required:!0}}},deleteLogEntries:{method:"delete",path:"/log/:uri/:id/entry",private:!1,scopes:["homey.insights"],parameters:{id:{in:"path",type:"string",required:!0},uri:{in:"path",type:"string",required:!0}}}}},ManagerLedring:{id:"ledring",idCamelCase:"ledring",items:{},operations:{getOptionScreensaver:{method:"GET",path:"/option/screensaver",scopes:["homey.system.readonly"]},setOptionScreensaver:{method:"PUT",path:"/option/screensaver",scopes:["homey.system"],parameters:{value:{in:"body",required:!0}}},unsetOptionScreensaver:{method:"DELETE",path:"/option/screensaver",scopes:["homey.system"]},getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getScreensavers:{method:"get",path:"/screensaver",private:!1,scopes:[],parameters:{}}}},ManagerLogic:{id:"logic",idCamelCase:"logic",items:{Variable:{id:"variable",schema:{type:"object",properties:{id:{type:"string"},name:{type:"string"},type:{type:"string",enum:["n","u","m","b","e","r"]},value:{description:"Should be the same type as defined in the `type` property."}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getVariable:{method:"get",path:"/variable/:id",private:!1,scopes:["homey.logic.readonly"],crud:{type:"getOne",item:"Variable"},parameters:{id:{in:"path",type:"string",required:!0}}},getVariables:{method:"get",path:"/variable",private:!1,scopes:["homey.logic.readonly"],crud:{type:"getAll",item:"Variable"},parameters:{}},createVariable:{method:"post",path:"/variable",private:!1,scopes:["homey.logic"],crud:{type:"createOne",item:"Variable"},parameters:{variable:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string",required:!0},type:{type:"string",required:!0},value:{type:["string","number","boolean"],required:!0}}}}},updateVariable:{method:"put",path:"/variable/:id",private:!1,scopes:["homey.logic"],crud:{type:"updateOne",item:"Variable"},parameters:{id:{in:"path",type:"string",required:!0},variable:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string"},value:{type:["string","number","boolean"]}}}}},deleteVariable:{method:"delete",path:"/variable/:id",private:!1,scopes:["homey.logic"],crud:{type:"deleteOne",item:"Variable"},parameters:{id:{in:"path",type:"string",required:!0}}}}},ManagerMatter:{id:"matter",idCamelCase:"matter",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerMobile:{id:"mobile",idCamelCase:"mobile",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerNotifications:{id:"notifications",idCamelCase:"notifications",items:{Notification:{id:"notification",schema:{type:"object",properties:{id:{type:"string"},ownerUri:{type:"string"},dateCreated:{type:"string"},excerpt:{type:"string"},meta:{type:"object"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getNotifications:{method:"get",path:"/notification",private:!1,scopes:["homey.notifications.readonly"],crud:{type:"getAll",item:"Notification"},parameters:{}},deleteNotification:{method:"delete",path:"/notification/:id",private:!1,scopes:["homey.notifications"],crud:{type:"deleteOne",item:"Notification"},parameters:{id:{in:"path",type:"string",required:!0}}},deleteNotifications:{method:"delete",path:"/notification",private:!1,scopes:["homey.notifications"],parameters:{ownerUri:{in:"query",type:"string"}}},getOwners:{method:"get",path:"/owner",private:!1,scopes:["homey.notifications.readonly"],parameters:{}},setOwnerEnabled:{method:"put",path:"/owner/:uri/enabled",private:!1,scopes:["homey.notifications"],parameters:{uri:{in:"path",type:"string",required:!0},enabled:{in:"body",type:"boolean",required:!0}}},setOwnerPush:{method:"put",path:"/owner/:uri/push",private:!1,scopes:["homey.notifications"],parameters:{uri:{in:"path",type:"string",required:!0},push:{in:"body",type:"boolean",required:!0}}}}},ManagerPresence:{id:"presence",idCamelCase:"presence",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},setPresentMe:{method:"put",path:"/me/present",private:!1,scopes:["homey.presence.self"],parameters:{value:{in:"body",type:"boolean"},opts:{in:"body",type:"object",properties:{forceFlowTrigger:{type:"boolean"}}}}},setPresent:{method:"put",path:"/:id/present",private:!1,scopes:["homey.presence"],parameters:{id:{in:"path",type:"string",required:!0},value:{in:"body",type:"boolean"}}},getPresent:{method:"get",path:"/:id/present",private:!1,scopes:["homey.presence.readonly"],parameters:{id:{in:"path",type:"string",required:!0}}},setAsleepMe:{method:"put",path:"/me/asleep",private:!1,scopes:["homey.presence.self"],parameters:{value:{in:"body",type:"boolean"},opts:{in:"body",type:"object",properties:{forceFlowTrigger:{type:"boolean"}}}}},setAsleep:{method:"put",path:"/:id/asleep",private:!1,scopes:["homey.presence"],parameters:{id:{in:"path",type:"string",required:!0},value:{in:"body",type:"boolean"}}},getAsleep:{method:"get",path:"/:id/asleep",private:!1,scopes:["homey.presence.readonly"],parameters:{id:{in:"path",type:"string",required:!0}}}}},ManagerRF:{id:"rf",idCamelCase:"rf",items:{Signal:{id:"signal",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},record:{method:"post",path:"/record",private:!1,scopes:["homey.system"],parameters:{frequency:{in:"body",type:"string"},timeout:{in:"body",type:"number"}}},replay:{method:"post",path:"/replay",private:!1,scopes:["homey.system"],parameters:{frequency:{in:"body",type:"string",required:!0},data:{in:"body",type:"array",required:!0}}},emulate:{method:"post",path:"/:frequency/emulate",private:!1,scopes:["homey.system"],parameters:{frequency:{in:"path",type:"string",required:!0},data:{in:"body",type:"array",root:!0,required:!0}}},set433MHzConfig:{method:"post",path:"/mhz433/config",private:!1,scopes:["homey.system"],parameters:{modulation:{in:"body",type:"string"},carrier:{in:"body",type:"number"},deviation:{in:"body",type:"number"},channelSpacing:{in:"body",type:"number"},filterBandwidth:{in:"body",type:"number"},baudrate:{in:"body",type:"number"},power:{in:"body",type:"number"}}},txInfraredProntohex:{method:"post",path:"/ir/prontohex",private:!1,scopes:["homey.system"],parameters:{payload:{in:"body",type:"string",required:!0},repetitions:{in:"body",type:"number"}}}}},ManagerSafety:{id:"safety",idCamelCase:"safety",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerSatellites:{id:"satellites",idCamelCase:"satellites",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerSecurity:{id:"security",idCamelCase:"security",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerSessions:{id:"sessions",idCamelCase:"sessions",items:{Session:{id:"session",schema:{type:"object",properties:{id:{type:"string",format:"uuid"},type:{type:"string",enum:["OAUTH","APP","PAT"]},scopes:{description:"These are the requested scopes",type:"array",items:{type:"string"}},intersectedScopes:{description:"These are the actual available scopes. This is an intersection between the requested scopes and the user's scopes.",type:"array",items:{type:"string"}}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getSessionMe:{method:"get",path:"/session/me",private:!1,scopes:[],parameters:{}}}},ManagerSystem:{id:"system",idCamelCase:"system",items:{},operations:{getOptionForwardedPort:{method:"GET",path:"/option/forwardedPort",scopes:["homey.system.readonly"]},setOptionForwardedPort:{method:"PUT",path:"/option/forwardedPort",scopes:["homey.system"],parameters:{value:{in:"body",required:!0}}},unsetOptionForwardedPort:{method:"DELETE",path:"/option/forwardedPort",scopes:["homey.system"]},getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},ping:{method:"get",path:"/ping",private:!1,scopes:[],parameters:{}},getInfo:{method:"get",path:"/",private:!1,scopes:["homey.system.readonly"],parameters:{}},getSystemName:{method:"get",path:"/name",private:!1,scopes:["homey.system.readonly"],parameters:{}},setSystemName:{method:"put",path:"/name",private:!1,scopes:["homey.system"],parameters:{name:{in:"body",type:"string",required:!0}}},reboot:{method:"post",path:"/reboot",private:!1,scopes:["homey.system"],parameters:{}},sendLog:{method:"post",path:"/journalctl",private:!1,scopes:["homey.system.readonly"],parameters:{append:{in:"body",type:"string"}}},getMemoryInfo:{method:"get",path:"/memory",private:!1,scopes:["homey.system.readonly"],parameters:{}},getStorageInfo:{method:"get",path:"/storage",private:!1,scopes:["homey.system.readonly"],parameters:{}},rebootOTA:{method:"post",path:"/reboot-ota",private:!1,scopes:["homey.system"],parameters:{}},setDebug:{method:"put",path:"/debug",private:!1,scopes:["homey.system"],parameters:{namespace:{in:"body",type:"string",required:!0}}}}},ManagerThread:{id:"thread",idCamelCase:"thread",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerUpdates:{id:"updates",idCamelCase:"updates",items:{},operations:{getOptionChannel:{method:"GET",path:"/option/channel",scopes:["homey.system.readonly"]},setOptionChannel:{method:"PUT",path:"/option/channel",scopes:["homey.system"],parameters:{value:{in:"body",required:!0}}},unsetOptionChannel:{method:"DELETE",path:"/option/channel",scopes:["homey.system"]},getOptionAutoupdate:{method:"GET",path:"/option/autoupdate",scopes:["homey.system.readonly"]},setOptionAutoupdate:{method:"PUT",path:"/option/autoupdate",scopes:["homey.system"],parameters:{value:{in:"body",required:!0}}},unsetOptionAutoupdate:{method:"DELETE",path:"/option/autoupdate",scopes:["homey.system"]},getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getUpdates:{method:"get",path:"/update",private:!1,scopes:["homey.updates.readonly"],parameters:{}},installUpdate:{method:"post",path:"/update",private:!1,scopes:["homey.updates"],parameters:{reboot:{in:"body",type:"boolean"},silent:{in:"body",type:"boolean"}}},abortInstallUpdate:{method:"delete",path:"/update",private:!1,scopes:[],parameters:{}}}},ManagerUsers:{id:"users",idCamelCase:"users",items:{User:{id:"user",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},login:{method:"post",path:"/login",private:!1,scopes:[],parameters:{token:{in:"body",type:"string",required:!0}}},getUserMe:{method:"get",path:"/user/me",private:!1,scopes:["homey.user.self"],parameters:{}},updateUserMe:{method:"put",path:"/user/me",private:!1,scopes:["homey.user.self"],parameters:{name:{in:"body",type:"string"}}},deleteUserMe:{method:"delete",path:"/user/me",private:!1,scopes:["homey.user.self"],parameters:{}},getUsers:{method:"get",path:"/user",private:!1,scopes:["homey.user.readonly"],crud:{type:"getAll",item:"User"},parameters:{}},getUser:{method:"get",path:"/user/:id",private:!1,scopes:["homey.user.readonly"],crud:{type:"getOne",item:"User"},parameters:{id:{in:"path",type:"string",required:!0}}},createUser:{method:"post",path:"/user",private:!1,scopes:["homey.user"],crud:{type:"createOne",item:"User"},parameters:{user:{in:"body",type:"object",root:!0,required:!0,properties:{role:{type:"string",required:!0}}}}},updateUser:{method:"put",path:"/user/:id",private:!1,scopes:["homey.user"],crud:{type:"updateOne",item:"User"},parameters:{id:{in:"path",type:"string",required:!0},user:{in:"body",type:"object",root:!0,required:!0,properties:{role:{type:"string"},enabled:{type:"boolean"}}}}},deleteUser:{method:"delete",path:"/user/:id",private:!1,scopes:["homey.user"],crud:{type:"deleteOne",item:"User"},parameters:{id:{in:"path",type:"string",required:!0}}},updateUserMeProperties:{method:"put",path:"/user/me/properties/:id",private:!1,scopes:["homey.user.self"],parameters:{id:{in:"path",type:"string",required:!0},value:{in:"body",type:"object",required:!0}}},deleteUserMeProperties:{method:"delete",path:"/user/me/properties/:id",private:!1,scopes:["homey.user.self"],parameters:{id:{in:"path",type:"string",required:!0}}},swapOwner:{method:"post",path:"/swap-owner",private:!1,scopes:[],parameters:{newOwnerUserId:{in:"body",type:"string",required:!0}}},getPersonalAccessTokens:{method:"get",path:"/pat",private:!1,scopes:[],parameters:{}},createPersonalAccessToken:{method:"post",path:"/pat",private:!1,scopes:[],parameters:{name:{in:"body",type:"string",required:!0},scopes:{in:"body",type:"array",required:!0}}},deletePersonalAccessToken:{method:"delete",path:"/pat/:id",private:!1,scopes:[],parameters:{id:{in:"path",type:"string",required:!0}}}}},ManagerVirtualDevice:{id:"vdevice",idCamelCase:"vdevice",items:{VirtualDriverDummySocket:{id:"virtualdriverdummysocket",schema:{type:"object",properties:{id:{type:"string"}}}},VirtualDeviceDummySocket:{id:"virtualdevicedummysocket",schema:{type:"object",properties:{id:{type:"string"}}}},VirtualDriverZwave:{id:"virtualdriverzwave",schema:{type:"object",properties:{id:{type:"string"}}}},VirtualDeviceZwave:{id:"virtualdevicezwave",schema:{type:"object",properties:{id:{type:"string"}}}},VirtualDriverZigbee:{id:"virtualdriverzigbee",schema:{type:"object",properties:{id:{type:"string"}}}},VirtualDeviceZigbee:{id:"virtualdevicezigbee",schema:{type:"object",properties:{id:{type:"string"}}}},VirtualDriverInfrared:{id:"virtualdriverinfrared",schema:{type:"object",properties:{id:{type:"string"}}}},VirtualDeviceInfrared:{id:"virtualdeviceinfrared",schema:{type:"object",properties:{id:{type:"string"}}}},VirtualDriverHomeyBridge:{id:"virtualdriverbridge",schema:{type:"object",properties:{id:{type:"string"}}}},VirtualDeviceHomeyBridge:{id:"virtualdevicebridge",schema:{type:"object",properties:{id:{type:"string"}}}},VirtualDriverVirtualSocket:{id:"virtualdrivervirtualsocket",schema:{type:"object",properties:{id:{type:"string"}}}},VirtualDeviceVirtualSocket:{id:"virtualdevicevirtualsocket",schema:{type:"object",properties:{id:{type:"string"}}}},VirtualDriverVirtualButton:{id:"virtualdrivervirtualbutton",schema:{type:"object",properties:{id:{type:"string"}}}},VirtualDeviceVirtualButton:{id:"virtualdevicevirtualbutton",schema:{type:"object",properties:{id:{type:"string"}}}},VirtualDriverVirtualIPCamera:{id:"virtualdrivervirtualipcamera",schema:{type:"object",properties:{id:{type:"string"}}}},VirtualDeviceVirtualIPCamera:{id:"virtualdevicevirtualipcamera",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerWeather:{id:"weather",idCamelCase:"weather",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getWeather:{method:"get",path:"/weather",private:!1,scopes:["homey.geolocation.readonly"],parameters:{}}}},ManagerWebserver:{id:"webserver",idCamelCase:"webserver",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerZigbee:{id:"zigbee",idCamelCase:"zigbee",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},flashFirmware:{method:"put",path:"/flash-firmware",private:!0,scopes:["homey.system"],parameters:{}},runCommand:{method:"post",path:"/command",private:!1,scopes:["homey.system"],parameters:{command:{in:"body",type:"string",required:!0},opts:{in:"body",type:"object"}}}}},ManagerZones:{id:"zones",idCamelCase:"zones",items:{Zone:{id:"zone",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getZones:{method:"get",path:"/zone",private:!1,scopes:["homey.zone.readonly"],crud:{type:"getAll",item:"Zone"},parameters:{}},getZone:{method:"get",path:"/zone/:id",private:!1,scopes:["homey.zone.readonly"],crud:{type:"getOne",item:"Zone"},parameters:{id:{in:"path",type:"string",required:!0}}},createZone:{method:"post",path:"/zone",private:!1,scopes:["homey.zone"],crud:{type:"createOne",item:"Zone"},parameters:{zone:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string",required:!0},icon:{type:"string",required:!0},parent:{type:"string",required:!0}}}}},updateZone:{method:"put",path:"/zone/:id",private:!1,scopes:["homey.zone"],crud:{type:"updateOne",item:"Zone"},parameters:{id:{in:"path",type:"string",required:!0},zone:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string"},icon:{type:"string"},parent:{type:"string"}}}}},deleteZone:{method:"delete",path:"/zone/:id",private:!1,scopes:["homey.zone"],crud:{type:"deleteOne",item:"Zone"},parameters:{id:{in:"path",type:"string",required:!0}}}}},ManagerZwave:{id:"zwave",idCamelCase:"zwave",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},runCommand:{method:"post",path:"/command",private:!1,scopes:["homey.system"],parameters:{command:{in:"body",type:"string",required:!0},opts:{in:"body",type:"object"}}},flashFirmware:{method:"put",path:"/flash-firmware",private:!0,scopes:["homey.system"],parameters:{}},getLog:{method:"get",path:"/log",private:!1,scopes:["homey.system"],parameters:{}},setLogEnabled:{method:"put",path:"/log",private:!1,scopes:["homey.system"],parameters:{enabled:{in:"body",type:"boolean",required:!0}}}}}},require$$2={managers:managers$1};var HomeyAPIV3Local_1,hasRequiredHomeyAPIV3Local;function requireHomeyAPIV3Local(){if(hasRequiredHomeyAPIV3Local)return HomeyAPIV3Local_1;hasRequiredHomeyAPIV3Local=1;const t=requireHomeyAPIV3(),e=ManagerDevkit_1$1;class r extends t{get platform(){return"local"}get platformVersion(){return 2}getSpecification(){return require$$2}}return $(r,"MANAGERS",{...t.MANAGERS,ManagerDevkit:e}),HomeyAPIV3Local_1=r,HomeyAPIV3Local_1}const managers={ManagerApi:{id:"api",idCamelCase:"api",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerApps:{id:"apps",idCamelCase:"apps",items:{App:{id:"app",schema:{type:"object",properties:{id:{type:"string"}}}},AppSettings:{id:"appsettings",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getApps:{method:"get",path:"/app",private:!1,scopes:["homey.app.readonly"],crud:{type:"getAll",item:"App"},parameters:{}},getApp:{method:"get",path:"/app/:id",private:!1,scopes:["homey.app.readonly"],crud:{type:"getOne",item:"App"},parameters:{id:{in:"path",type:"string",required:!0}}},installFromAppStore:{method:"post",path:"/store",private:!1,scopes:["homey.app"],parameters:{id:{in:"body",type:"string",required:!0},channel:{in:"body",type:"string"}}},uninstallApp:{method:"delete",path:"/app/:id",private:!1,scopes:["homey.app"],parameters:{id:{in:"path",type:"string",required:!0}}},getAppSettings:{method:"get",path:"/app/:id/setting",private:!1,scopes:["homey.app.control"],crud:{type:"getOne",item:"AppSettings"},parameters:{id:{in:"path",type:"string",required:!0}}},getAppSetting:{method:"get",path:"/app/:id/setting/:name",private:!1,scopes:["homey.app.control"],parameters:{name:{in:"path",type:"string",required:!0},id:{in:"path",type:"string",required:!0}}},setAppSetting:{method:"put",path:"/app/:id/setting/:name",private:!1,scopes:["homey.app.control"],parameters:{name:{in:"path",type:"string",required:!0},id:{in:"path",type:"string",required:!0},value:{in:"body",type:"object",required:!0}}},unsetAppSetting:{method:"delete",path:"/app/:id/setting/:name",private:!1,scopes:["homey.app.control"],parameters:{name:{in:"path",type:"string",required:!0},id:{in:"path",type:"string",required:!0}}},getAppStd:{method:"post",path:"/app/:id/crashlog",private:!1,scopes:["homey.app.readonly"],parameters:{id:{in:"path",type:"string",required:!0},message:{in:"body",type:"string",required:!0}}}}},ManagerBLE:{id:"ble",idCamelCase:"ble",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},runCommand:{method:"post",path:"/command",private:!1,scopes:["homey.system"],parameters:{command:{in:"body",type:"string",required:!0},opts:{in:"body",type:"object"}}}}},ManagerClock:{id:"clock",idCamelCase:"clock",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerCloud:{id:"cloud",idCamelCase:"cloud",items:{Webhook:{id:"webhook",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},emitOAuth2Callback:{method:"post",path:"/oauth2-callback",private:!1,scopes:[],parameters:{app:{in:"query",type:"string"},token:{in:"body",type:"string"},code:{in:"body",type:"string"}}},emitWebhookCallback:{method:"post",path:"/webhook/:id/callback",private:!1,scopes:[],parameters:{id:{in:"path",type:"string",required:!0},args:{in:"body",type:"object"}}}}},ManagerCoprocessor:{id:"coprocessor",idCamelCase:"coprocessor",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getBridges:{method:"get",path:"/bridge",private:!1,scopes:["homey.system.readonly"],parameters:{}},getLog:{method:"get",path:"/bridge/log",private:!1,scopes:["homey.system.readonly"],parameters:{}},pairBridge:{method:"post",path:"/bridge",private:!1,scopes:["homey.system"],parameters:{serialHash:{in:"body",type:"string",required:!0}}}}},ManagerCron:{id:"cron",idCamelCase:"cron",items:{Cronjob:{id:"cronjob",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerDatabase:{id:"database",idCamelCase:"database",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerDashboards:{id:"dashboards",idCamelCase:"dashboards",private:!0,items:{Dashboard:{id:"dashboard",schema:{type:"object",properties:{id:{type:"string",format:"uuid"},name:{type:"string"},widgets:{type:"object",additionalProperties:!1,patternProperties:{"^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$":{type:"object",properties:{type:{type:"string"},x:{type:"number"},y:{type:"number"},width:{type:"number"},height:{type:"number"},settings:{type:"object"}}}}},lines:{type:"object",additionalProperties:!1,patternProperties:{"^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$":{type:"object",properties:{x1:{type:"number"},x2:{type:"number"},y1:{type:"number"},y2:{type:"number"},settings:{type:"object"}}}}}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getDashboards:{method:"get",path:"/dashboard",private:!1,scopes:["homey.dashboard.readonly"],crud:{type:"getAll",item:"Dashboard"},parameters:{}},getDashboard:{method:"get",path:"/dashboard/:id",private:!1,scopes:["homey.dashboard.readonly"],crud:{type:"getOne",item:"Dashboard"},parameters:{id:{in:"path",type:"string",required:!0}}},createDashboard:{method:"post",path:"/dashboard",private:!1,scopes:["homey.dashboard"],crud:{type:"createOne",item:"Dashboard"},parameters:{dashboard:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string",required:!0},widgets:{type:"object",required:!0},lines:{type:"object",required:!0}}}}},updateDashboard:{method:"put",path:"/dashboard/:id",private:!1,scopes:["homey.dashboard"],crud:{type:"updateOne",item:"Dashboard"},parameters:{id:{in:"path",type:"string",required:!0},dashboard:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string"},widgets:{type:"object"},lines:{type:"object"}}}}},deleteDashboard:{method:"delete",path:"/dashboard/:id",private:!1,scopes:["homey.dashboard"],crud:{type:"deleteOne",item:"Dashboard"},parameters:{id:{in:"path",type:"string",required:!0}}}}},ManagerDevices:{id:"devices",idCamelCase:"devices",items:{Device:{id:"device",schema:{type:"object",properties:{id:{type:"string",format:"uuid"},name:{type:"string"},note:{type:"string"}}}},Capability:{id:"capability",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getDevice:{method:"get",path:"/device/:id",private:!1,scopes:["homey.device.readonly"],crud:{type:"getOne",item:"Device"},parameters:{id:{in:"path",type:"string",required:!0}}},getDeviceSettingsObj:{method:"get",path:"/device/:id/settings_obj",private:!1,scopes:["homey.device.readonly"],parameters:{id:{in:"path",type:"string",required:!0}}},setDeviceSettings:{method:"put",path:"/device/:id/settings",private:!1,scopes:["homey.device"],parameters:{id:{in:"path",type:"string",required:!0},settings:{in:"body",type:"object",root:!0,required:!0}}},getDevices:{method:"get",path:"/device",private:!1,scopes:["homey.device.readonly"],crud:{type:"getAll",item:"Device"},parameters:{}},updateDevice:{method:"put",path:"/device/:id",private:!1,scopes:["homey.device"],crud:{type:"updateOne",item:"Device"},parameters:{id:{in:"path",type:"string",required:!0},device:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string"},zone:{type:"string"},note:{type:"string"},iconOverride:{type:"string"},virtualClass:{type:"string"},uiIndicator:{type:"string"}}}}},deleteDevice:{method:"delete",path:"/device/:id",private:!1,scopes:["homey.device"],crud:{type:"deleteOne",item:"Device"},parameters:{id:{in:"path",type:"string",required:!0}}},getCapabilityValue:{method:"get",path:"/device/:deviceId/capability/:capabilityId",private:!1,scopes:["homey.device.readonly"],parameters:{capabilityId:{in:"path",type:"string",required:!0},deviceId:{in:"path",type:"string",required:!0}}},setCapabilityValue:{method:"put",path:"/device/:deviceId/capability/:capabilityId",private:!1,scopes:["homey.device.control"],parameters:{capabilityId:{in:"path",type:"string",required:!0},deviceId:{in:"path",type:"string",required:!0},value:{in:"body",type:["string","number","boolean"],required:!0},opts:{in:"body",type:"object"},transactionId:{in:"body",type:"string"}}}}},ManagerDevkit:{id:"devkit",idCamelCase:"devkit",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},installApp:{method:"post",path:"/app",private:!1,scopes:["homey.app"],parameters:{manifest:{in:"body",type:"object",required:!0},clean:{in:"body",type:"boolean"}}},uninstallApp:{method:"delete",path:"/app/:sessionId",private:!1,scopes:["homey.app"],parameters:{sessionId:{in:"path",type:"string",required:!0}}}}},ManagerDrivers:{id:"drivers",idCamelCase:"drivers",items:{Driver:{id:"driver",schema:{type:"object",properties:{id:{type:"string",format:"uuid"},pair:{type:"array",required:!0}}}},PairSession:{id:"pairsession",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getDrivers:{method:"get",path:"/driver",private:!1,scopes:["homey.device.readonly"],crud:{type:"getAll",item:"Driver"},parameters:{}},getPairSession:{method:"get",path:"/pairsession/:id",private:!1,scopes:["homey.device"],crud:{type:"getOne",item:"PairSession"},parameters:{id:{in:"path",type:"string",required:!0}}},createPairSession:{method:"post",path:"/pairsession",private:!1,scopes:["homey.device"],crud:{type:"createOne",item:"PairSession"},parameters:{pairsession:{in:"body",type:"object",root:!0,required:!0,properties:{type:{type:"string",required:!0},driverId:{type:"string",required:!0},deviceId:{type:"string"},zoneId:{type:"string"}}}}},deletePairSession:{method:"delete",path:"/pairsession/:id",private:!1,scopes:["homey.device"],crud:{type:"deleteOne",item:"PairSession"},parameters:{id:{in:"path",type:"string",required:!0}}},emitPairingHeartbeat:{method:"post",path:"/pairsession/:id/heartbeat",private:!1,scopes:["homey.device"],parameters:{id:{in:"path",type:"string",required:!0}}},emitPairingEvent:{method:"post",path:"/pairsession/:id/emit",private:!1,scopes:["homey.device"],parameters:{id:{in:"path",type:"string",required:!0},event:{in:"body",type:"string",required:!0},data:{in:"body",type:"object"}}},emitPairingCallback:{method:"post",path:"/pairsession/:id/callback",private:!1,scopes:["homey.device"],parameters:{id:{in:"path",type:"string",required:!0},callbackId:{in:"body",type:"string",required:!0},data:{in:"body",type:"object"}}},createPairSessionDevice:{method:"post",path:"/pairsession/:id/device",private:!1,scopes:["homey.device"],parameters:{id:{in:"path",type:"string",required:!0},device:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string"},data:{required:!0},zone:{type:"string"},store:{type:"object"},capabilities:{type:"array"},capabilitiesOptions:{type:"object"},class:{type:"string"},icon:{type:"string"},iconOverride:{type:"string"},settings:{type:"object"},energy:{type:"object"}}}}},deletePairSessionDevice:{method:"delete",path:"/pairsession/:id/device",private:!1,scopes:["homey.device"],parameters:{id:{in:"path",type:"string",required:!0}}}}},ManagerEnergy:{id:"energy",idCamelCase:"energy",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getLiveReport:{method:"get",path:"/live",private:!1,scopes:["homey.insights.readonly"],parameters:{zone:{in:"query",type:"string"}}}}},ManagerFlow:{id:"flow",idCamelCase:"flow",items:{Flow:{id:"flow"},FlowFolder:{id:"flowfolder",schema:{type:"object",properties:{id:{type:"string"}}}},FlowCardTrigger:{id:"flowcardtrigger",schema:{type:"object",properties:{id:{type:"string"}}}},FlowCardCondition:{id:"flowcardcondition",schema:{type:"object",properties:{id:{type:"string"}}}},FlowCardAction:{id:"flowcardaction",schema:{type:"object",properties:{id:{type:"string"}}}},AdvancedFlow:{id:"advancedflow",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getFlow:{method:"get",path:"/flow/:id",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getOne",item:"Flow"},parameters:{id:{in:"path",type:"string",required:!0}}},getFlows:{method:"get",path:"/flow",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getAll",item:"Flow"},parameters:{}},createFlow:{method:"post",path:"/flow",private:!1,scopes:["homey.flow"],crud:{type:"createOne",item:"Flow"},parameters:{flow:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string",required:!0},folder:{type:"string"},enabled:{type:"boolean"},trigger:{type:"object",required:!0},conditions:{type:"array",required:!0},actions:{type:"array",required:!0}}}}},updateFlow:{method:"put",path:"/flow/:id",private:!1,scopes:["homey.flow"],crud:{type:"updateOne",item:"Flow"},parameters:{id:{in:"path",type:"string",required:!0},flow:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string"},folder:{type:"string"},enabled:{type:"boolean"},trigger:{type:"object"},conditions:{type:"array"},actions:{type:"array"}}}}},deleteFlow:{method:"delete",path:"/flow/:id",private:!1,scopes:["homey.flow"],crud:{type:"deleteOne",item:"Flow"},parameters:{id:{in:"path",type:"string",required:!0}}},testFlow:{method:"post",path:"/flow/test",private:!1,scopes:["homey.flow"],parameters:{flow:{in:"body",type:"object",required:!0,properties:{trigger:{type:"object",required:!0},conditions:{type:"array",required:!0},actions:{type:"array",required:!0}}},tokens:{in:"body",type:"object",required:!0},sessionId:{in:"body",type:"string",required:!0}}},triggerFlow:{method:"post",path:"/flow/:id/trigger",private:!1,scopes:["homey.flow.start"],parameters:{id:{in:"path",type:"string",required:!0}}},shareFlow:{method:"post",path:"/flow/:id/share",private:!1,scopes:["homey.flow.readonly"],parameters:{id:{in:"path",type:"string",required:!0}}},getFlowFolders:{method:"get",path:"/flowfolder",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getAll",item:"FlowFolder"},parameters:{}},getFlowFolder:{method:"get",path:"/flowfolder/:id",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getOne",item:"FlowFolder"},parameters:{id:{in:"path",type:"string",required:!0}}},createFlowFolder:{method:"post",path:"/flowfolder",private:!1,scopes:["homey.flow"],crud:{type:"createOne",item:"FlowFolder"},parameters:{flowfolder:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string",required:!0},parent:{type:"string"}}}}},updateFlowFolder:{method:"put",path:"/flowfolder/:id",private:!1,scopes:["homey.flow"],crud:{type:"updateOne",item:"FlowFolder"},parameters:{id:{in:"path",type:"string",required:!0},flowfolder:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string"},parent:{type:"string"}}}}},deleteFlowFolder:{method:"delete",path:"/flowfolder/:id",private:!1,scopes:["homey.flow"],crud:{type:"deleteOne",item:"FlowFolder"},parameters:{id:{in:"path",type:"string",required:!0}}},getFlowCardTriggers:{method:"get",path:"/flowcardtrigger",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getAll",item:"FlowCardTrigger"},parameters:{}},getFlowCardConditions:{method:"get",path:"/flowcardcondition",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getAll",item:"FlowCardCondition"},parameters:{}},runFlowCardCondition:{method:"post",path:"/flowcardcondition/:uri/:id/run",private:!1,scopes:["homey.flow.start"],parameters:{id:{in:"path",type:"string",required:!0},uri:{in:"path",type:"string",required:!0},args:{in:"body",type:"object"},tokens:{in:"body",type:"object"},state:{in:"body",type:"object"},droptoken:{in:"body",type:"string"}}},getFlowCardActions:{method:"get",path:"/flowcardaction",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getAll",item:"FlowCardAction"},parameters:{}},runFlowCardAction:{method:"post",path:"/flowcardaction/:uri/:id/run",private:!1,scopes:["homey.flow.start"],parameters:{id:{in:"path",type:"string",required:!0},uri:{in:"path",type:"string",required:!0},args:{in:"body",type:"object"},tokens:{in:"body",type:"object"},state:{in:"body",type:"object"},droptoken:{in:"body",type:"string"},duration:{in:"body",type:"number"}}},getFlowCardAutocomplete:{method:"get",path:"/:type/:uri/:id/autocomplete",private:!1,scopes:[],parameters:{id:{in:"path",type:"string",required:!0},uri:{in:"path",type:"string",required:!0},type:{in:"path",type:"string",required:!0},name:{in:"query",type:"string",required:!0},query:{in:"query",type:"string",required:!0},args:{in:"query",type:"object"}}},getAdvancedFlow:{method:"get",path:"/advancedflow/:id",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getOne",item:"AdvancedFlow"},parameters:{id:{in:"path",type:"string",required:!0}}},getAdvancedFlows:{method:"get",path:"/advancedflow",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getAll",item:"AdvancedFlow"},parameters:{}},createAdvancedFlow:{method:"post",path:"/advancedflow",private:!1,scopes:["homey.flow"],crud:{type:"createOne",item:"AdvancedFlow"},parameters:{advancedflow:{in:"body",root:!0,required:!0}}},updateAdvancedFlow:{method:"put",path:"/advancedflow/:id",private:!1,scopes:["homey.flow"],crud:{type:"updateOne",item:"AdvancedFlow"},parameters:{id:{in:"path",type:"string",required:!0},advancedflow:{in:"body",root:!0,required:!0}}},deleteAdvancedFlow:{method:"delete",path:"/advancedflow/:id",private:!1,scopes:["homey.flow"],crud:{type:"deleteOne",item:"AdvancedFlow"},parameters:{id:{in:"path",type:"string",required:!0}}},triggerAdvancedFlow:{method:"post",path:"/advancedflow/:id/trigger",private:!1,scopes:["homey.flow.start"],parameters:{id:{in:"path",type:"string",required:!0}}}}},ManagerFlowToken:{id:"flowtoken",idCamelCase:"flowtoken",items:{FlowToken:{id:"flowtoken",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getFlowTokens:{method:"get",path:"/flowtoken",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getAll",item:"FlowToken"},parameters:{}}}},ManagerGeolocation:{id:"geolocation",idCamelCase:"geolocation",items:{},operations:{getOptionAddress:{method:"GET",path:"/option/address",scopes:["homey.geolocation.readonly"]},setOptionAddress:{method:"PUT",path:"/option/address",scopes:["homey.geolocation"],parameters:{value:{in:"body",required:!0}}},unsetOptionAddress:{method:"DELETE",path:"/option/address",scopes:["homey.geolocation"]},getOptionLocation:{method:"GET",path:"/option/location",scopes:["homey.geolocation.readonly"]},setOptionLocation:{method:"PUT",path:"/option/location",scopes:["homey.geolocation"],parameters:{value:{in:"body",required:!0}}},unsetOptionLocation:{method:"DELETE",path:"/option/location",scopes:["homey.geolocation"]},getOptionMode:{method:"GET",path:"/option/mode",scopes:["homey.geolocation.readonly"]},setOptionMode:{method:"PUT",path:"/option/mode",scopes:["homey.geolocation"],parameters:{value:{in:"body",required:!0}}},unsetOptionMode:{method:"DELETE",path:"/option/mode",scopes:["homey.geolocation"]},getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerI18n:{id:"i18n",idCamelCase:"i18n",items:{},operations:{getOptionLanguage:{method:"GET",path:"/option/language",scopes:["homey.system.readonly"]},setOptionLanguage:{method:"PUT",path:"/option/language",scopes:["homey.system"],parameters:{value:{in:"body",required:!0}}},unsetOptionLanguage:{method:"DELETE",path:"/option/language",scopes:["homey.system"]},getOptionUnits:{method:"GET",path:"/option/units",scopes:["homey.system.readonly"]},setOptionUnits:{method:"PUT",path:"/option/units",scopes:["homey.system"],parameters:{value:{in:"body",required:!0}}},unsetOptionUnits:{method:"DELETE",path:"/option/units",scopes:["homey.system"]},getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerIcons:{id:"icons",idCamelCase:"icons",items:{Icon:{id:"icon",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerImages:{id:"images",idCamelCase:"images",items:{Image:{id:"image",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getImages:{method:"get",path:"/image",private:!1,scopes:["homey.device.readonly"],crud:{type:"getAll",item:"Image"},parameters:{}}}},ManagerInsights:{id:"insights",idCamelCase:"insights",items:{Log:{id:"log",schema:{type:"object",properties:{id:{type:"string"}}}},LogEntryBoolean:{id:"logentryboolean",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getLog:{method:"get",path:"/log/:id",private:!1,scopes:["homey.insights.readonly"],crud:{type:"getOne",item:"Log"},parameters:{id:{in:"path",type:"string",required:!0}}},getLogs:{method:"get",path:"/log",private:!1,scopes:["homey.insights.readonly"],crud:{type:"getAll",item:"Log"},parameters:{}},getLogEntries:{method:"get",path:"/log/:uri/:id/entry",private:!1,scopes:["homey.insights.readonly"],parameters:{id:{in:"path",type:"string",required:!0},uri:{in:"path",type:"string",required:!0},resolution:{in:"query",type:"string"}}},deleteLog:{method:"delete",path:"/log/:uri/:id",private:!1,scopes:["homey.insights"],crud:{type:"deleteOne",item:"Log"},parameters:{id:{in:"path",type:"string",required:!0},uri:{in:"path",type:"string",required:!0}}},deleteLogEntries:{method:"delete",path:"/log/:uri/:id/entry",private:!1,scopes:["homey.insights"],parameters:{id:{in:"path",type:"string",required:!0},uri:{in:"path",type:"string",required:!0}}}}},ManagerLogic:{id:"logic",idCamelCase:"logic",items:{Variable:{id:"variable",schema:{type:"object",properties:{id:{type:"string"},name:{type:"string"},type:{type:"string",enum:["n","u","m","b","e","r"]},value:{description:"Should be the same type as defined in the `type` property."}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getVariables:{method:"get",path:"/variable",private:!1,scopes:["homey.logic.readonly"],crud:{type:"getAll",item:"Variable"},parameters:{}},createVariable:{method:"post",path:"/variable",private:!1,scopes:["homey.logic"],crud:{type:"createOne",item:"Variable"},parameters:{variable:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string",required:!0},type:{type:"string",required:!0},value:{type:["string","number","boolean"],required:!0}}}}},updateVariable:{method:"put",path:"/variable/:id",private:!1,scopes:["homey.logic"],crud:{type:"updateOne",item:"Variable"},parameters:{id:{in:"path",type:"string",required:!0},variable:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string"},value:{type:["string","number","boolean"]}}}}},deleteVariable:{method:"delete",path:"/variable/:id",private:!1,scopes:["homey.logic"],crud:{type:"deleteOne",item:"Variable"},parameters:{id:{in:"path",type:"string",required:!0}}}}},ManagerMobile:{id:"mobile",idCamelCase:"mobile",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},onMobileEvent:{method:"post",path:"/event",private:!1,scopes:[],parameters:{secret:{in:"body",type:"string",required:!0},userId:{in:"body",type:"string",required:!0},deviceId:{in:"body",type:"string",required:!0},event:{in:"body",type:"string",required:!0},data:{in:"body",required:!0},timestamp:{in:"body",type:"string"}}}}},ManagerNotifications:{id:"notifications",idCamelCase:"notifications",items:{Notification:{id:"notification",schema:{type:"object",properties:{id:{type:"string"},ownerUri:{type:"string"},dateCreated:{type:"string"},excerpt:{type:"string"},meta:{type:"object"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getNotifications:{method:"get",path:"/notification",private:!1,scopes:["homey.notifications.readonly"],crud:{type:"getAll",item:"Notification"},parameters:{}},deleteNotification:{method:"delete",path:"/notification/:id",private:!1,scopes:["homey.notifications"],crud:{type:"deleteOne",item:"Notification"},parameters:{id:{in:"path",type:"string",required:!0}}},deleteNotifications:{method:"delete",path:"/notification",private:!1,scopes:["homey.notifications"],parameters:{ownerUri:{in:"query",type:"string"}}},getOwners:{method:"get",path:"/owner",private:!1,scopes:["homey.notifications.readonly"],parameters:{}},setOwnerEnabled:{method:"put",path:"/owner/:uri/enabled",private:!1,scopes:["homey.notifications"],parameters:{uri:{in:"path",type:"string",required:!0},enabled:{in:"body",type:"boolean",required:!0}}},setOwnerPush:{method:"put",path:"/owner/:uri/push",private:!1,scopes:["homey.notifications"],parameters:{uri:{in:"path",type:"string",required:!0},push:{in:"body",type:"boolean",required:!0}}}}},ManagerPremium:{id:"premium",idCamelCase:"premium",items:{},operations:{}},ManagerPresence:{id:"presence",idCamelCase:"presence",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},setPresentMe:{method:"put",path:"/me/present",private:!1,scopes:["homey.presence.self"],parameters:{value:{in:"body",type:"boolean"},opts:{in:"body",type:"object",properties:{forceFlowTrigger:{type:"boolean"}}}}},setPresent:{method:"put",path:"/:id/present",private:!1,scopes:["homey.presence"],parameters:{id:{in:"path",type:"string",required:!0},value:{in:"body",type:"boolean"}}},setAsleepMe:{method:"put",path:"/me/asleep",private:!1,scopes:["homey.presence.self"],parameters:{value:{in:"body",type:"boolean"},opts:{in:"body",type:"object",properties:{forceFlowTrigger:{type:"boolean"}}}}},setAsleep:{method:"put",path:"/:id/asleep",private:!1,scopes:["homey.presence"],parameters:{id:{in:"path",type:"string",required:!0},value:{in:"body",type:"boolean"}}}}},ManagerRF:{id:"rf",idCamelCase:"rf",items:{Signal:{id:"signal",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},record:{method:"post",path:"/record",private:!1,scopes:["homey.system"],parameters:{frequency:{in:"body",type:"string"},timeout:{in:"body",type:"number"}}},replay:{method:"post",path:"/replay",private:!1,scopes:["homey.system"],parameters:{frequency:{in:"body",type:"string",required:!0},data:{in:"body",type:"array",required:!0}}},emulate:{method:"post",path:"/:frequency/emulate",private:!1,scopes:["homey.system"],parameters:{frequency:{in:"path",type:"string",required:!0},data:{in:"body",type:"array",root:!0,required:!0}}},set433MHzConfig:{method:"post",path:"/mhz433/config",private:!1,scopes:["homey.system"],parameters:{modulation:{in:"body",type:"string"},carrier:{in:"body",type:"number"},deviation:{in:"body",type:"number"},channelSpacing:{in:"body",type:"number"},filterBandwidth:{in:"body",type:"number"},baudrate:{in:"body",type:"number"},power:{in:"body",type:"number"}}},txInfraredProntohex:{method:"post",path:"/ir/prontohex",private:!1,scopes:["homey.system"],parameters:{payload:{in:"body",type:"string",required:!0},repetitions:{in:"body",type:"number"}}}}},ManagerSafety:{id:"safety",idCamelCase:"safety",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerSecurity:{id:"security",idCamelCase:"security",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerSessions:{id:"sessions",idCamelCase:"sessions",items:{Session:{id:"session",schema:{type:"object",properties:{id:{type:"string",format:"uuid"},type:{type:"string",enum:["OAUTH","APP"]},scopes:{description:"These are the requested scopes",type:"array",items:{type:"string"}},intersectedScopes:{description:"These are the actual available scopes. This is an intersection between the requested scopes and the user's scopes.",type:"array",items:{type:"string"}}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getSessionMe:{method:"get",path:"/session/me",private:!1,scopes:[],parameters:{}}}},ManagerSystem:{id:"system",idCamelCase:"system",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},ping:{method:"get",path:"/ping",private:!1,scopes:[],parameters:{}},getInfo:{method:"get",path:"/",private:!1,scopes:["homey.system.readonly"],parameters:{}},getSystemName:{method:"get",path:"/name",private:!1,scopes:["homey.system.readonly"],parameters:{}},setSystemName:{method:"put",path:"/name",private:!1,scopes:["homey.system"],parameters:{name:{in:"body",type:"string",required:!0}}},reboot:{method:"post",path:"/reboot",private:!1,scopes:["homey.system"],parameters:{}},sendLog:{method:"post",path:"/journalctl",private:!1,scopes:["homey.system.readonly"],parameters:{append:{in:"body",type:"string"}}},delete:{method:"post",path:"/delete",private:!1,scopes:["homey.system"],parameters:{}},getMemoryInfo:{method:"get",path:"/memory",private:!1,scopes:["homey.system.readonly"],parameters:{}},getStorageInfo:{method:"get",path:"/storage",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerUsers:{id:"users",idCamelCase:"users",items:{User:{id:"user",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},login:{method:"post",path:"/login",private:!1,scopes:[],parameters:{token:{in:"body",type:"string",required:!0}}},getUserMe:{method:"get",path:"/user/me",private:!1,scopes:["homey.user.self"],parameters:{}},updateUserMe:{method:"put",path:"/user/me",private:!1,scopes:["homey.user.self"],parameters:{name:{in:"body",type:"string"}}},deleteUserMe:{method:"delete",path:"/user/me",private:!1,scopes:["homey.user.self"],parameters:{}},getUsers:{method:"get",path:"/user",private:!1,scopes:["homey.user.readonly"],crud:{type:"getAll",item:"User"},parameters:{}},getUser:{method:"get",path:"/user/:id",private:!1,scopes:["homey.user.readonly"],crud:{type:"getOne",item:"User"},parameters:{id:{in:"path",type:"string",required:!0}}},createUser:{method:"post",path:"/user",private:!1,scopes:["homey.user"],crud:{type:"createOne",item:"User"},parameters:{user:{in:"body",type:"object",root:!0,required:!0,properties:{role:{type:"string",required:!0}}}}},updateUser:{method:"put",path:"/user/:id",private:!1,scopes:["homey.user"],crud:{type:"updateOne",item:"User"},parameters:{id:{in:"path",type:"string",required:!0},user:{in:"body",type:"object",root:!0,required:!0,properties:{role:{type:"string"},enabled:{type:"boolean"}}}}},deleteUser:{method:"delete",path:"/user/:id",private:!1,scopes:["homey.user"],crud:{type:"deleteOne",item:"User"},parameters:{id:{in:"path",type:"string",required:!0}}},updateUserMeProperties:{method:"put",path:"/user/me/properties/:id",private:!1,scopes:["homey.user.self"],parameters:{id:{in:"path",type:"string",required:!0},value:{in:"body",type:"object",required:!0}}},deleteUserMeProperties:{method:"delete",path:"/user/me/properties/:id",private:!1,scopes:["homey.user.self"],parameters:{id:{in:"path",type:"string",required:!0}}},acceptSharingInvite:{method:"post",path:"/accept",private:!1,scopes:[],parameters:{secret:{in:"body",type:"string",required:!0},athomId:{in:"body",type:"string",required:!0},inviteToken:{in:"body",type:"string",required:!0},name:{in:"body",type:"string",required:!0}}}}},ManagerVirtualDevice:{id:"vdevice",idCamelCase:"vdevice",items:{VirtualDriverDummySocket:{id:"virtualdriverdummysocket",schema:{type:"object",properties:{id:{type:"string"}}}},VirtualDeviceDummySocket:{id:"virtualdevicedummysocket",schema:{type:"object",properties:{id:{type:"string"}}}},VirtualDriverZwave:{id:"virtualdriverzwave",schema:{type:"object",properties:{id:{type:"string"}}}},VirtualDeviceZwave:{id:"virtualdevicezwave",schema:{type:"object",properties:{id:{type:"string"}}}},VirtualDriverZigbee:{id:"virtualdriverzigbee",schema:{type:"object",properties:{id:{type:"string"}}}},VirtualDeviceZigbee:{id:"virtualdevicezigbee",schema:{type:"object",properties:{id:{type:"string"}}}},VirtualDriverInfrared:{id:"virtualdriverinfrared",schema:{type:"object",properties:{id:{type:"string"}}}},VirtualDeviceInfrared:{id:"virtualdeviceinfrared",schema:{type:"object",properties:{id:{type:"string"}}}},VirtualDriverHomeyBridge:{id:"virtualdriverbridge",schema:{type:"object",properties:{id:{type:"string"}}}},VirtualDeviceHomeyBridge:{id:"virtualdevicebridge",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerWeather:{id:"weather",idCamelCase:"weather",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getWeather:{method:"get",path:"/weather",private:!1,scopes:["homey.geolocation.readonly"],parameters:{}}}},ManagerWebserver:{id:"webserver",idCamelCase:"webserver",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerZones:{id:"zones",idCamelCase:"zones",items:{Zone:{id:"zone",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getZones:{method:"get",path:"/zone",private:!1,scopes:[],crud:{type:"getAll",item:"Zone"},parameters:{}},createZone:{method:"post",path:"/zone",private:!1,scopes:["homey.zone"],crud:{type:"createOne",item:"Zone"},parameters:{zone:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string",required:!0},icon:{type:"string",required:!0},parent:{type:"string",required:!0}}}}},updateZone:{method:"put",path:"/zone/:id",private:!1,scopes:["homey.zone"],crud:{type:"updateOne",item:"Zone"},parameters:{id:{in:"path",type:"string",required:!0},zone:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string"},icon:{type:"string"},parent:{type:"string"}}}}},deleteZone:{method:"delete",path:"/zone/:id",private:!1,scopes:["homey.zone"],crud:{type:"deleteOne",item:"Zone"},parameters:{id:{in:"path",type:"string",required:!0}}}}},ManagerZwave:{id:"zwave",idCamelCase:"zwave",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},runCommand:{method:"post",path:"/command",private:!1,scopes:["homey.system"],parameters:{command:{in:"body",type:"string",required:!0},opts:{in:"body",type:"object"}}}}},ManagerZigbee:{id:"zigbee",idCamelCase:"zigbee",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},runCommand:{method:"post",path:"/command",private:!1,scopes:["homey.system"],parameters:{command:{in:"body",type:"string",required:!0},opts:{in:"body",type:"object"}}}}}},require$$1={managers};var HomeyAPIV3Cloud_1,hasRequiredHomeyAPIV3Cloud;function requireHomeyAPIV3Cloud(){if(hasRequiredHomeyAPIV3Cloud)return HomeyAPIV3Cloud_1;hasRequiredHomeyAPIV3Cloud=1;const t=requireHomeyAPIV3(),r=class extends t{constructor({strategy:o=[r.DISCOVERY_STRATEGIES.CLOUD],...n}){super({strategy:o,...n})}get platform(){return"cloud"}get platformVersion(){return 1}getSpecification(){return require$$1}};let e=r;return $(e,"DISCOVERY_STRATEGIES",{CLOUD:"cloud"}),HomeyAPIV3Cloud_1=e,HomeyAPIV3Cloud_1}var HomeyAPI_1,hasRequiredHomeyAPI;function requireHomeyAPI(){if(hasRequiredHomeyAPI)return HomeyAPI_1;hasRequiredHomeyAPI=1;const t=Util_1;class e{constructor({api:a=null,properties:o={},debug:n=()=>{}}){Object.defineProperty(this,"__debugFunction",{value:n,enumerable:!1,writable:!0}),Object.defineProperty(this,"__api",{value:a,enumerable:!1,writable:!0}),Object.defineProperty(this,"id",{value:o.id??o._id??null,enumerable:!0,writable:!0}),Object.defineProperty(this,"version",{value:o.softwareVersion??null,enumerable:!0,writable:!0}),Object.defineProperty(this,"name",{value:o.name??null,enumerable:!0,writable:!0}),Object.defineProperty(this,"language",{value:o.language??null,enumerable:!0,writable:!0}),Object.defineProperty(this,"role",{value:o.role??null,enumerable:!0,writable:!0}),Object.defineProperty(this,"__properties",{value:o,enumerable:!1,writable:!1})}get _id(){throw new Error("HomeyAPI._id is not supported, please use HomeyAPI.id")}__debug(...a){this.__debugFunction&&this.__debugFunction(...a)}async __getStore(){return this.__api?(await this.__api.__getStore())[`homey-${this.id}`]||{}:{}}async __setStore(a){if(!this.__api)return;const o=await this.__getStore();await this.__api.__setStore({[`homey-${this.id}`]:{...o,...a}})}__(a){if(typeof a=="object"&&a!==null){if(typeof a[this.__properties.language]=="string")return a[this.__properties.language];if(typeof a.en=="string")return a.en}return null}hasRole(a){return this.role===a}static async createAppAPI({homey:a,debug:o=null}={}){if(!a)throw new Error("Invalid Homey");o===!0&&(o=(...p)=>a.app.log("[homey-api]",...p));const n={debug:o??function(){},token:await a.api.getOwnerApiToken(),baseUrl:await a.api.getLocalUrl(),strategy:[],properties:{id:await a.cloud.getHomeyId(),softwareVersion:a.version}};if(a.platform==="local"&&a.platformVersion===1){const p=requireHomeyAPIV2();return new p(n)}if(a.platform==="local"&&a.platformVersion===2){const p=requireHomeyAPIV3Local();return new p(n)}if(a.platform==="cloud"&&a.platformVersion===2){const p=requireHomeyAPIV3Cloud();return new p(n)}throw new Error(`Invalid Homey Platform Version: ${a.platformVersion}`)}static async createLocalAPI({address:a,token:o,debug:n=null}){if(!a)throw new Error("Invalid Address");if(!o)throw new Error("Invalid Token");const p=await t.fetch(`${a}/api/manager/system/ping`);if(!p.headers.has("X-Homey-ID"))throw new Error(`No Homey Found At Address: ${a}`);const g={token:o,debug:n??function(){},baseUrl:a,strategy:[],properties:{id:p.headers.get("X-Homey-ID"),softwareVersion:p.headers.get("X-Homey-Version")}},u=requireHomeyAPIV3Local();return new u(g)}}return $(e,"PLATFORMS",{LOCAL:"local",CLOUD:"cloud"}),$(e,"DISCOVERY_STRATEGIES",{MDNS:"mdns",CLOUD:"cloud",LOCAL:"local",LOCAL_SECURE:"localSecure",REMOTE_FORWARDED:"remoteForwarded"}),HomeyAPI_1=e,HomeyAPI_1}const Util$1=Util_1,APIError$1=APIError_1;var L;let API$1=(L=class{constructor({baseUrl:e,debug:r=!1,secret:a=null}={}){const o=`${Util$1.envKey(this.constructor.name)}_DEBUG`,n=Util$1.env(o);Object.defineProperty(this,"__debugEnabled",{value:n!==null?!!n:!!r,enumerable:!1,writable:!0});const p=`${Util$1.envKey(this.constructor.name)}_SECRET`,g=Util$1.env(p);Object.defineProperty(this,"__secret",{value:g!==null?g:a,enumerable:!1,writable:!1});const u=`${Util$1.envKey(this.constructor.name)}_BASEURL`,c=Util$1.env(u);this.baseUrl=c||e||`https://${this.constructor.SPECIFICATION.host}${this.constructor.SPECIFICATION.basePath}`,this.baseUrl.endsWith("/")&&(this.baseUrl=this.baseUrl.substring(0,this.baseUrl.length-1));for(const[l,f]of Object.entries(this.constructor.SPECIFICATION.operations||{}))this.__registerOperation(l,f)}__registerOperation(e,r){this[e]||(this[e]=async({$validate:a=!0,$timeout:o=1e4,$timeoutMessage:n=null,$body:p={},$query:g={},$headers:u={},$token:c=null,...l}={})=>{let f=r.path,_={...p};const b={...g},P={...u};return Object.entries(r.parameters||{}).forEach(([E,v])=>{let w=l[E];if(E==="secret"&&typeof w>"u"&&typeof this.__secret=="string"&&(w=this.__secret),typeof c=="string"&&(P.Authorization=`Bearer ${c}`),a){if(v.required===!0&&typeof w>"u")throw new Error(`Missing Parameter: ${E}`);if(typeof w<"u"){if(v.type==="string"&&typeof w!="string")throw new Error(`Invalid Parameter Type: ${E}. Got: ${typeof w}. Expected: string`);if(v.type==="number"&&typeof w!="number")throw new Error(`Invalid Parameter Type: ${E}. Got: ${typeof w}. Expected: number`);if(v.type==="boolean"&&typeof w!="boolean")throw new Error(`Invalid Parameter Type: ${E}. Got: ${typeof w}. Expected: boolean`)}}if(typeof w<"u")switch(v.in){case"path":{f=f.replace(`{${E}}`,w);break}case"query":{b[E]=w;break}case"body":{v.unpack?_={..._,...w}:_[E]=w;break}default:throw new Error(`Invalid 'in': ${v.in}`)}}),this.call({method:r.method,headers:P,query:b,body:_,path:f,context:{operation:r},timeout:o,timeoutMessage:n}).catch(E=>{throw typeof this.__secret=="string"&&E.message.includes(this.__secret)&&(E.message=E.message.replace(this.__secret,"<redacted>")),E})})}__debug(...e){this.__debugEnabled&&console.log("[homey-api]",`[${this.constructor.name}]`,...e)}async call(e){e=await this.onCallRequestPrepare({request:e});let r=await this.onCallRequestExecute({request:e});return r=await this.onCallResponse({request:e,response:r}),r}async onCallRequestPrepare({request:e}){return e.context={...e.context},e.method=String(e.method).toUpperCase(),e.headers={...e.headers,...await this.onCallRequestHeaders({request:e})},e.timeout=e.timeout||1e4,e.timeoutMessage=e.timeoutMessage||`Timeout after ${e.timeout}ms`,e.url=`${this.baseUrl}${e.path}`,e.query&&Object.keys(e.query).length&&(e.url+=`?${Util$1.stringifyQuery(e.query)}`),["PUT","POST","DELETE"].includes(e.method)?e.body&&e.bodyJSON!==!1&&(e.headers["Content-Type"]="application/json",e.bodyModified||(e.body=JSON.stringify(e.body),e.bodyModified=!0),delete e.bodyJSON):delete e.body,e}async onCallRequestExecute({request:e}){return this.__debug("onCallRequestExecute",e),Util$1.timeout(Util$1.fetch(e.url,{method:e.method,headers:e.headers,body:e.body}),e.timeout,e.timeoutMessage)}async onCallResponse({request:e,response:r}){const a=r.status,{statusText:o}=r,n=r.ok;if(a===204)return;const p=await this.onCallResponseParseBody({request:e,response:r});return n?this.onCallResponseOK({request:e,body:p,statusCode:a,statusText:o}):this.onCallResponseNotOK({request:e,body:p,statusCode:a,statusText:o})}async onCallRequestHeaders({request:e}){return{}}async onCallResponseParseBody({response:e}){const r=e.headers.get("Content-Type"),a=await e.text();if(r&&r.toLowerCase().includes("application/json"))try{return JSON.parse(a)}catch(o){throw new Error(`Failed to parse response body as JSON: ${o.message}`)}return a}async onCallResponseOK({context:e,body:r,statusCode:a,statusText:o}){return r}async onCallResponseNotOK({context:e,body:r,statusCode:a,statusText:o}){this.__debug("Error:",r);let n=o;throw typeof r.error_description=="string"?n=r.error_description:typeof r.error_message=="string"?n=r.error_message:typeof r.error=="string"?n=r.error:typeof r.message=="string"&&(n=r.message),new APIError$1(n,a)}},$(L,"SPECIFICATION",null),$(L,"SPECIFICATION_URL",null),$(L,"DEFINITION_CLASSES",{}),$(L,"JSDOC_PARAMS",null),$(L,"JSDOC_DESCRIPTION",null),$(L,"JSDOC_PRIVATE",null),$(L,"JSDOC_EXAMPLE",null),L);var API_1=API$1;let APIDefinition$3=class{constructor({api:e=null,properties:r={}}){Object.defineProperty(this,"__api",{value:e,enumerable:!1,writable:!1}),Object.defineProperty(this,"__properties",{value:r,enumerable:!1,writable:!1});for(const a of Object.keys(r))typeof this[a]<"u"||(this[a]=r[a])}__makeClass(e,r){return new e({properties:r,api:this.__api})}};var APIDefinition_1=APIDefinition$3;const HomeyAPI=requireHomeyAPI();let HomeyAPIV1$1=class extends HomeyAPI{constructor({properties:r,...a}){super({properties:r,...a});$(this,"updates",{async getUpdates(){throw new Error("Not Implemented")},async installUpdate(){throw new Error("Not Implemented")},async getState(){throw new Error("Not Implemented")}});const{token:o}=this.__properties;this.token=o}get platform(){return"local"}get platformVersion(){return 1}async login(){if(!this.token)throw new Error("Missing Token")}};var HomeyAPIV1_1=HomeyAPIV1$1;const APIDefinition$2=APIDefinition_1,HomeyAPIV1=HomeyAPIV1_1,HomeyAPIV2=requireHomeyAPIV2(),HomeyAPIV3Local=requireHomeyAPIV3Local(),HomeyAPIV3Cloud=requireHomeyAPIV3Cloud();let Homey$2=class extends APIDefinition$2{get id(){return this._id}async authenticate({strategy:e}={}){const r=(()=>{if(this.apiVersion===1)return HomeyAPIV1;if(this.apiVersion===2)return HomeyAPIV2;if(this.apiVersion===3&&this.platform==="local")return HomeyAPIV3Local;if(this.apiVersion===3&&this.platform==="cloud")return HomeyAPIV3Cloud;throw new Error(`Unsupported Homey API Version: ${this.apiVersion}`)})(),a=new r({strategy:e,api:this.__api,properties:this.__properties,debug:(...o)=>this.__api.__debug(`[${r.name}:${this.__properties.id}]`,...o)});return await a.login(),a}};var Homey_1=Homey$2;const APIDefinition$1=APIDefinition_1;let Device$1=class extends APIDefinition$1{get id(){return this._id}};var Device_1=Device$1;const APIDefinition=APIDefinition_1,Homey$1=Homey_1,Device=Device_1;let User$1=class extends APIDefinition{constructor({...e}){super({...e}),this.homeys=this.homeys.map(r=>this.__makeClass(Homey$1,r)),this.devices=this.devices.map(r=>this.__makeClass(Device,r))}get id(){return this._id}getHomeys(){return this.homeys}getHomeyById(e){const r=this.homeys.find(a=>a.id===e);if(!r)throw new Error(`Homey Not Found: ${e}`);return r}getFirstHomey(){const e=this.homeys[0];if(!e)throw new Error("No Homey Available");return e}hasRole(e){return this.roleIds.includes(e)}};var User_1=User$1;let Token$1=class{constructor({token_type:e,access_token:r,refresh_token:a,expires_in:o,grant_type:n}){this.token_type=e,this.access_token=r,this.refresh_token=a,this.expires_in=o,this.grant_type=n}toJSON(){return{token_type:this.token_type,access_token:this.access_token,refresh_token:this.refresh_token,expires_in:this.expires_in,grant_type:this.grant_type}}};var Token_1=Token$1;let StorageAdapter$3=class{async get(){throw new Error("Not Implemented: StorageAdapter.get()")}async set(e){throw new Error("Not Implemented: StorageAdapter.set()")}};var StorageAdapter_1=StorageAdapter$3;const StorageAdapter$2=StorageAdapter_1;var ie;let StorageAdapterBrowser$1=(ie=class extends StorageAdapter$2{async get(){try{return JSON.parse(window.localStorage.getItem(this.constructor.LOCAL_STORAGE_KEY)||"{}")}catch{return{}}}async set(e){window.localStorage.setItem(this.constructor.LOCAL_STORAGE_KEY,JSON.stringify(e))}},$(ie,"LOCAL_STORAGE_KEY","homey-api"),ie);var StorageAdapterBrowser_1=StorageAdapterBrowser$1;const StorageAdapter$1=StorageAdapter_1;let StorageAdapterMemory$1=class extends StorageAdapter$1{constructor(){super(),this.__store="{}"}async get(){return JSON.parse(this.__store)}async set(e){this.__store=JSON.stringify(e)}};var StorageAdapterMemory_1=StorageAdapterMemory$1;const host="api.athom.com",basePath="/",operations={createDelegationToken:{path:"/delegation/token",method:"post",private:!0,parameters:{audience:{in:"query",type:"string"},meta:{in:"body",type:"object",unpack:!0}}},verifyDelegationToken:{path:"/delegation/verify",method:"get",private:!0,parameters:{token:{in:"query",type:"string"}}},getDelegationTokenKey:{path:"/delegation/key",method:"get",private:!0,parameters:{}},getAccessToken:{path:"/oauth2/token",method:"post",private:!0,parameters:{client_id:{in:"formData",type:"string",required:!0},client_secret:{in:"formData",type:"string",required:!0},grant_type:{in:"formData",type:"string",required:!0},refresh_token:{in:"formData",type:"string"},code:{in:"formData",type:"string"},username:{in:"formData",type:"string"},password:{in:"formData",type:"string"}}},forgotPassword:{path:"/login/password-forgotten",method:"post",private:!0,parameters:{email:{type:"string",in:"body"}}},createUser:{path:"/user",method:"post",private:!0,parameters:{user:{in:"body",type:"object",required:!0,unpack:!0,properties:{firstname:{type:"string"},lastname:{type:"string"},email:{type:"string"},password:{type:"string"},language:{type:"string"}}},newsletter:{in:"query",type:"boolean"},gettingStarted:{in:"query",type:"boolean"}}},getUser:{path:"/user/{id}",method:"get",private:!0,parameters:{id:{in:"path",type:"string",required:!0}}},updateUser:{path:"/user/{id}",method:"put",private:!0,parameters:{id:{in:"path",type:"string",required:!0},user:{in:"body",type:"object",required:!0,unpack:!0,properties:{firstname:{type:"string"},lastname:{type:"string"},email:{type:"string"},language:{type:"string"},roles:{type:"array"},roleIds:{type:"array"},avatar:{},homeys:{type:"array"},devices:{type:"array"}}}}},deleteUser:{path:"/user/{id}",method:"delete",private:!0,parameters:{id:{in:"path",type:"string",required:!0},password:{type:"string",in:"body"}}},createUserDevice:{path:"/user/{userId}/device",method:"post",private:!0,parameters:{userId:{in:"path",type:"string",required:!0},device:{in:"body",type:"object",required:!0,unpack:!0,properties:{name:{type:"string"},platform:{type:"string"},token:{type:"string"},publicKey:{type:"string"},appVersion:{type:"string"},osVersion:{type:"string"},created:{type:"string"},updated:{type:"string"},devmode:{type:"boolean"}}}}},updateUserDevice:{path:"/user/{userId}/device/{deviceId}",method:"put",private:!0,parameters:{userId:{in:"path",type:"string",required:!0},deviceId:{in:"path",type:"string",required:!0},device:{in:"body",type:"object",required:!0,unpack:!0,properties:{name:{type:"string"},platform:{type:"string"},token:{type:"string"},publicKey:{type:"string"},appVersion:{type:"string"},osVersion:{type:"string"},created:{type:"string"},updated:{type:"string"},devmode:{type:"boolean"}}}}},deleteUserDevice:{path:"/user/{userId}/device/{deviceId}",method:"delete",private:!0,parameters:{userId:{in:"path",type:"string",required:!0},deviceId:{in:"path",type:"string",required:!0}}},getUserAddresses:{path:"/user/{userId}/address",method:"get",private:!0,parameters:{userId:{in:"path",type:"string",required:!0}}},addUserAddress:{path:"/user/{userId}/address",method:"post",private:!0,parameters:{userId:{in:"path",type:"string",required:!0},address:{in:"body",type:"object",unpack:!0,properties:{street:{type:"string"},number:{type:"string"},zipcode:{type:"string"},city:{type:"string"},state:{type:"string"},country:{type:"string"},extra:{type:"string"},firstname:{type:"string"},lastname:{type:"string"}}}}},updateUserAddress:{path:"/user/{userId}/address/{addressId}",method:"put",private:!0,parameters:{userId:{in:"path",type:"string",required:!0},addressId:{in:"path",type:"string",required:!0},address:{in:"body",type:"object",unpack:!0,properties:{street:{type:"string"},number:{type:"string"},zipcode:{type:"string"},city:{type:"string"},state:{type:"string"},country:{type:"string"},extra:{type:"string"},firstname:{type:"string"},lastname:{type:"string"}}}}},deleteUserAddress:{path:"/user/{userId}/address/{addressId}",method:"delete",private:!0,parameters:{userId:{in:"path",type:"string",required:!0},addressId:{in:"path",type:"string",required:!0}}},updateUserSubscription:{path:"/user/{userId}/subscription/{subscriptionId}",method:"put",private:!0,parameters:{userId:{in:"path",type:"string",required:!0},subscriptionId:{in:"path",type:"string",required:!0},subscription:{in:"body"}}},deleteUserSubscription:{path:"/user/{userId}/subscription/{subscriptionId}",method:"delete",private:!0,parameters:{userId:{in:"path",type:"string",required:!0},subscriptionId:{in:"path",type:"string",required:!0}}},addRoleAppDeveloperTrusted:{path:"/user/{userId}/role/app_developer_trusted",method:"put",private:!0,parameters:{userId:{in:"path",type:"string",required:!0}}},removeRoleAppDeveloperTrusted:{path:"/user/{userId}/role/app_developer_trusted",method:"delete",private:!0,parameters:{userId:{in:"path",type:"string",required:!0}}},getAuthenticatedUser:{path:"/user/me",method:"get",parameters:{additionalScopes:{in:"query",type:"string"}}},updateAuthenticatedUserPassword:{path:"/user/me/password",method:"post",private:!0,parameters:{password:{type:"string",in:"body"},old_password:{type:"string",in:"body"}}},getUserProfile:{path:"/user/{userId}/profile",method:"get",private:!0,parameters:{userId:{in:"path",type:"string",required:!0}}},getUserSessions:{path:"/user/{userId}/session",method:"get",private:!0,parameters:{userId:{in:"path",type:"string",required:!0}}},deleteUserSession:{path:"/user/{userId}/session/{sessionId}",method:"delete",private:!0,parameters:{userId:{in:"path",type:"string",required:!0},sessionId:{in:"path",type:"string",required:!0}}},getBridges:{path:"/bridge/",method:"get",private:!0,parameters:{serial:{in:"query",type:"string"},serialHash:{in:"query",type:"string"}}},createBridge:{path:"/bridge/",method:"post",private:!0,parameters:{bridge:{in:"body",type:"object",unpack:!0,properties:{serial:{type:"string"},build:{type:"number"},zwaveCalibration:{type:"array"},manufacturedAt:{type:"string"},activationHistory:{type:"array"}}}}},getBridge:{path:"/bridge/{serial}",method:"get",private:!0,parameters:{serial:{in:"path",type:"string",required:!0}}},updateBridge:{path:"/bridge/{serial}",method:"put",private:!0,parameters:{serial:{in:"path",type:"string",required:!0},bridge:{in:"body",type:"object",unpack:!0,properties:{serial:{type:"string"},build:{type:"number"},zwaveCalibration:{type:"array"},manufacturedAt:{type:"string"},activationHistory:{type:"array"}}}}},activateBridge:{path:"/bridge/{serial}/activate",method:"post",private:!0,parameters:{serial:{in:"path",type:"string",required:!0},homeyId:{type:"string",in:"body"},userId:{type:"string",in:"body"}}},getHomeys:{path:"/homey/",method:"get",private:!0,parameters:{serial:{in:"query",type:"string"},softwareVersion:{in:"query",type:"string"},search:{in:"query",type:"string"},page:{in:"query",type:"string"}}},createHomey:{path:"/homey/",method:"post",private:!0,parameters:{data:{in:"body",type:"object",unpack:!0,properties:{name:{type:"string"},ipInternal:{type:"string"},ipExternal:{type:"string"},ipExternalCountry:{type:"string"},ipExternalPort:{type:"number"},localUrl:{type:"string"},localUrlSecure:{type:"string"},remoteUrl:{type:"string"},apiVersion:{type:"number"},softwareVersion:{type:"string"},language:{type:"string"},state:{type:"string"},geolocation:{type:"object"},users:{type:"array"},role:{type:"string"},token:{type:"string"},apps:{type:"array"},devices:{type:"array"}}}}},getHomey:{path:"/homey/{id}",method:"get",private:!0,parameters:{id:{in:"path",type:"string",required:!0}}},updateHomey:{path:"/homey/{id}",method:"put",private:!0,parameters:{id:{in:"path",type:"string",required:!0},homey:{in:"body",type:"object",required:!0,unpack:!0,properties:{name:{type:"string"},ipInternal:{type:"string"},ipExternal:{type:"string"},ipExternalCountry:{type:"string"},ipExternalPort:{type:"number"},localUrl:{type:"string"},localUrlSecure:{type:"string"},remoteUrl:{type:"string"},apiVersion:{type:"number"},softwareVersion:{type:"string"},language:{type:"string"},state:{type:"string"},geolocation:{type:"object"},users:{type:"array"},role:{type:"string"},token:{type:"string"},apps:{type:"array"},devices:{type:"array"}}}}},deleteHomey:{path:"/homey/{id}",method:"delete",private:!0,parameters:{id:{in:"path",type:"string",required:!0}}},activateHomey:{path:"/homey/{id}/activate",method:"post",private:!0,parameters:{id:{in:"path",type:"string",required:!0},userId:{type:"string",in:"body"}}},addHomeyLicense:{path:"/homey/{homeyId}/license/{license}",method:"post",private:!0,parameters:{homeyId:{in:"path",type:"string",required:!0},license:{in:"path",type:"string",required:!0}}},createHomeyUser:{path:"/homey/{homeyId}/user",method:"post",private:!0,parameters:{homeyId:{in:"path",type:"string",required:!0},user:{type:"string",in:"body"},role:{type:"string",in:"body"},token:{type:"string",in:"body"}}},deleteHomeyUser:{path:"/homey/{homeyId}/user/{userId}",method:"delete",private:!0,parameters:{homeyId:{in:"path",type:"string",required:!0},userId:{in:"path",type:"string",required:!0}}},resetHomeyUsers:{path:"/homey/{homeyId}/user/reset",method:"post",private:!0,parameters:{homeyId:{in:"path",type:"string",required:!0}}},getAllHomeyMetadata:{path:"/homey/{homeyId}/metadata",method:"get",private:!0,parameters:{homeyId:{in:"path",type:"string",required:!0}}},getHomeyMetadata:{path:"/homey/{homeyId}/metadata/{key}",method:"get",private:!0,parameters:{homeyId:{in:"path",type:"string",required:!0},key:{in:"path",type:"string",required:!0}}},createHomeyMetadata:{path:"/homey/{homeyId}/metadata/{key}",method:"post",private:!0,parameters:{homeyId:{in:"path",type:"string",required:!0},key:{in:"path",type:"string",required:!0},value:{type:"object",in:"body"}}},updateHomeyMetadata:{path:"/homey/{homeyId}/metadata/{key}",method:"put",private:!0,parameters:{homeyId:{in:"path",type:"string",required:!0},key:{in:"path",type:"string",required:!0},value:{type:"object",in:"body"}}},deleteHomeyMetadata:{path:"/homey/{homeyId}/metadata/{key}",method:"delete",private:!0,parameters:{homeyId:{in:"path",type:"string",required:!0},key:{in:"path",type:"string",required:!0}}},sendFormattedEmail:{path:"/mail/formatted",method:"post",private:!0,parameters:{to:{type:"string",in:"body"},toHomeyOwner:{type:"string",in:"body"},from:{type:"string",in:"body"},subject:{type:"string",in:"body"},body:{type:"string",in:"body"},replyTo:{type:"string",in:"body"},header:{type:"object",in:"body"},button:{type:"object",in:"body"}}},subscribeUserToMailChimp:{path:"/mail/mailchimp",method:"post",private:!0,parameters:{listId:{type:"string",in:"body"},userId:{type:"string",in:"body"}}},getAppInstallsStatistics:{path:"/stats/app-installs",method:"get",private:!0,parameters:{}},getAppDriversStatistics:{path:"/stats/app-drivers",method:"get",private:!0,parameters:{}},getLocationStatistics:{path:"/stats/locations",method:"get",private:!0,parameters:{}},getVersionStatistics:{path:"/stats/homey-software-versions",method:"get",private:!0,parameters:{}},getProductionStatistics:{path:"/stats/homey-production-speed",method:"get",private:!0,parameters:{min:{in:"query",type:"string"},max:{in:"query",type:"string"}}},getHomeyOwnerContactDetails:{path:"/stats/homey-owner-data",method:"get",private:!0,parameters:{softwareVersion:{in:"query",type:"string"},homeyId:{in:"query",type:"string"},homeySn:{in:"query",type:"string"},barcodeMin:{in:"query",type:"string"},barcodeMax:{in:"query",type:"string"},appId:{in:"query",type:"string"},appChannel:{in:"query",type:"string"},appVersion:{in:"query",type:"string"},page:{in:"query",type:"number"}}}},require$$9={host,basePath,operations},API=API_1,APIError=APIError_1,Util=Util_1,User=User_1,Homey=Homey_1,Token=Token_1,StorageAdapter=StorageAdapter_1,StorageAdapterBrowser=StorageAdapterBrowser_1,StorageAdapterMemory=StorageAdapterMemory_1;class AthomCloudAPI extends API{constructor({clientId:e,clientSecret:r,redirectUrl:a,autoRefreshTokens:o=!0,token:n=null,store:p=Util.isBrowser()?new StorageAdapterBrowser:new StorageAdapterMemory,...g}={}){if(super({...g}),this.__clientId=e,this.__clientSecret=r,this.__redirectUrl=a,this.__autoRefreshTokens=o,!(p instanceof StorageAdapter))throw new Error("Invalid `store`. Must extend AthomCloudAPI/StorageAdapter.");if(this.__store=p,n&&!(n instanceof Token))throw new Error("Invalid `token`. Must extend AthomCloudAPI/Token.");this.__token=n,this.__user=null}async isLoggedIn(){const e=await this.__getStore();if(!e.token||!e.token.access_token)return!1;try{return this.__user=await this.getAuthenticatedUser({$cache:!1}),!0}catch{return!1}}async getAuthenticatedUser({$cache:e=!0}={}){return e===!0&&this.__user instanceof User?this.__user:(this.__user=new User({api:this,properties:await this.call({method:"get",path:"/user/me"})}),this.__user)}hasAuthorizationCode(){return!!(Util.isBrowser()&&Util.getSearchParameter("code"))}getLoginUrl({state:e,scopes:r}={}){if(!this.__redirectUrl)throw new Error("Missing Redirect URL");const a=new URLSearchParams;return a.append("client_id",this.__clientId),a.append("redirect_uri",this.__redirectUrl),a.append("response_type","code"),typeof e=="string"&&a.append("state",e),Array.isArray(r)&&a.append("scope",r.join(",")),`${this.baseUrl}/oauth2/authorise?${a.toString()}`}async logout(){this.__user=null,await this.__resetStore(),this.__token=null}async __getStore(){return this.__store?this.__store.get():{}}async __setStore(e){if(!this.__store)return;const r=await this.__store.get();await this.__store.set({...r,...e})}async __resetStore(){this.__store&&await this.__store.set({})}async onCallRequestHeaders({request:e}){if(!this.__token){const r=await this.__getStore();r.token&&(this.__token=new Token(r.token))}return this.__token&&this.__token.access_token?{Authorization:`Bearer ${this.__token.access_token}`}:{}}async onCallResponseNotOK({request:e,body:r,statusCode:a,...o}){if(a===401&&r.error==="invalid_token"&&this.__autoRefreshTokens&&!e.context.retryAfterRefresh)return this.__debug("Refreshing token..."),await this.authenticateWithRefreshToken(),this.__debug("Token refreshed. Retrying call..."),this.call({...e,context:{...e.context,retryAfterRefresh:!0}});if(typeof r.error_description=="object"&&r.error_description!==null){const n=Object.entries(r.error_description).map(([p,g])=>`${p}: ${g}`).join(", ");throw new APIError(n,a)}return super.onCallResponseNotOK({body:r,statusCode:a,...o})}async authenticateWithClientCredentials(){if(!this.__clientId)throw new Error("Missing Client ID");if(!this.__clientSecret)throw new Error("Missing Client Secret");const e=new URLSearchParams;e.append("grant_type","client_credentials");const r=await Util.fetch(`${this.baseUrl}/oauth2/token`,{body:e.toString(),method:"post",headers:{Authorization:`Basic ${Util.base64(`${this.__clientId}:${this.__clientSecret}`)}`,"Content-Type":"application/x-www-form-urlencoded"}}),a=await r.json();if(!r.ok)throw new APIError(a.error_description||a.error,r.status);return this.__token=new Token({token_type:a.token_type,access_token:a.access_token,refresh_token:a.refresh_token,expires_in:a.expires_in,grant_type:"client_credentials"}),this.__setStore({token:this.__token}),this.__token}async authenticateWithAuthorizationCode({code:e,removeCodeFromHistory:r=!0}={}){if(!e&&Util.isBrowser()&&(e=Util.getSearchParameter("code")),!e)throw new Error("Missing Code");if(!this.__clientId)throw new Error("Missing Client ID");if(!this.__clientSecret)throw new Error("Missing Client Secret");const a=new URLSearchParams;a.append("grant_type","authorization_code"),a.append("code",e);const o=await Util.fetch(`${this.baseUrl}/oauth2/token`,{body:a.toString(),method:"post",headers:{Authorization:`Basic ${Util.base64(`${this.__clientId}:${this.__clientSecret}`)}`,"Content-Type":"application/x-www-form-urlencoded"}}),n=await o.json();if(!o.ok)throw new APIError(n.error_description||n.error,o.status);if(this.__token=new Token({token_type:n.token_type,access_token:n.access_token,refresh_token:n.refresh_token,expires_in:n.expires_in,grant_type:"authorization_code"}),this.__setStore({token:this.__token}),Util.isBrowser()&&r){const p=new URL(window.location.href);p.searchParams.delete("code"),window.history.pushState(void 0,void 0,p.toString())}return this.__token}async authenticateWithPassword(e,r){if(!e)throw new Error("Missing Username");if(!r)throw new Error("Missing Password");if(!this.__clientId)throw new Error("Missing Client ID");if(!this.__clientSecret)throw new Error("Missing Client Secret");const a=new URLSearchParams;a.append("grant_type","password"),a.append("username",e),a.append("password",r);const o=await Util.fetch(`${this.baseUrl}/oauth2/token`,{body:a.toString(),method:"post",headers:{Authorization:`Basic ${Util.base64(`${this.__clientId}:${this.__clientSecret}`)}`,"Content-Type":"application/x-www-form-urlencoded"}}),n=await o.json();if(!o.ok)throw new APIError(n.error_description||n.error,o.status);return this.__token=new Token({token_type:n.token_type,access_token:n.access_token,refresh_token:n.refresh_token,expires_in:n.expires_in,grant_type:"password"}),this.__setStore({token:this.__token}),this.__token}async authenticateWithRefreshToken(){return this.__refreshTokenPromise||(this.__refreshTokenPromise=Promise.resolve().then(async()=>{if(!this.__token)throw new Error("Missing Token");if(!this.__token.refresh_token)throw new Error("Missing Refresh Token");const e=new URLSearchParams;e.append("grant_type","refresh_token"),e.append("refresh_token",this.__token.refresh_token);const r=await Util.fetch(`${this.baseUrl}/oauth2/token`,{body:e.toString(),method:"post",headers:{Authorization:`Basic ${Util.base64(`${this.__clientId}:${this.__clientSecret}`)}`,"Content-Type":"application/x-www-form-urlencoded"}}),a=await r.json();if(!r.ok)throw new APIError(a.error_description||a.error,r.status);return this.__token=new Token({token_type:a.token_type,access_token:a.access_token,refresh_token:a.refresh_token,expires_in:a.expires_in,grant_type:this.__token.grant_type}),this.__setStore({token:this.__token}),this.__token}),this.__refreshTokenPromise.catch(()=>{}).finally(()=>{this.__refreshTokenPromise=null})),this.__refreshTokenPromise}async updateUserMe({firstname:e,lastname:r,email:a}){const o=await this.getAuthenticatedUser();return this.updateUser({id:o._id,user:{firstname:e,lastname:r,email:a}})}async updateUserMeAvatar(e,r){if(!Buffer.isBuffer(e))throw new Error("Invalid Image. Expected Buffer.");if(!r)throw new Error("Missing Image Type");if(!["jpg","png","gif"].includes(r))throw new Error(`Invalid Image Type: ${r}`);r==="jpg"&&(r="jpeg");const a=await this.getAuthenticatedUser(),o=Buffer.concat([Buffer.from(`--__X_HOMEY_BOUNDARY__\r
Content-Disposition: form-data; name="avatar"; filename="avatar"\r
Content-Type: image/${r}\r
\r
`),Buffer.from(e),Buffer.from(`\r
--__X_HOMEY_BOUNDARY__--\r
`)]);return this.call({method:"POST",path:`/user/${a._id}/avatar`,headers:{"Content-Type":'multipart/form-data; boundary="__X_HOMEY_BOUNDARY__"',"Content-Length":o.length},body:o,bodyJSON:!1})}}$(AthomCloudAPI,"User",User),$(AthomCloudAPI,"Homey",Homey),$(AthomCloudAPI,"Token",Token),$(AthomCloudAPI,"StorageAdapter",StorageAdapter),$(AthomCloudAPI,"StorageAdapterBrowser",StorageAdapterBrowser),$(AthomCloudAPI,"StorageAdapterMemory",StorageAdapterMemory),$(AthomCloudAPI,"SPECIFICATION",require$$9),$(AthomCloudAPI,"SPECIFICATION_URL","https://api.athom.com/specification.json"),$(AthomCloudAPI,"DEFINITION_CLASSES",{User,Homey}),$(AthomCloudAPI,"JSDOC_DESCRIPTION",`
The AthomCloudAPI class can be used to authenticate a user with your client,
and login on that user's Homey.`),$(AthomCloudAPI,"JSDOC_EXAMPLE",`
const AthomCloudAPI = require('homey-api/lib/AthomCloudAPI');

// Create an AthomCloudAPI instance
const cloudApi = new {@link AthomCloudAPI AthomCloudAPI}({
  clientId: '5a8d4ca6eb9f7a2c9d6ccf6d',
  clientSecret: 'e3ace394af9f615857ceaa61b053f966ddcfb12a',
  redirectUrl: 'http://localhost',
});

// Check if we're logged in
// If not, redirect the user to the OAuth2 dialog
const loggedIn = await {@link AthomCloudAPI cloudApi}.{@link AthomCloudAPI#isLoggedIn isLoggedIn}();
if (!loggedIn) {
  if ({@link AthomCloudAPI cloudApi}.{@link AthomCloudAPI#hasAuthorizationCode hasAuthorizationCode}()) {
    const token = await  {@link AthomCloudAPI cloudApi}.{@link AthomCloudAPI#authenticateWithAuthorizationCode authenticateWithAuthorizationCode}();
  } else {
    window.location.href =  {@link AthomCloudAPI cloudApi}.{@link AthomCloudAPI#getLoginUrl getLoginUrl}();
    return;
  }
}

// Get the logged in user
const user = await {@link AthomCloudAPI cloudApi}.{@link AthomCloudAPI#getAuthenticatedUser getAuthenticatedUser}();

// Get the first Homey of the logged in user
const homey = await {@link AthomCloudAPI.User user}.{@link AthomCloudAPI.User#getFirstHomey getFirstHomey}();

// Create a session on this Homey
const homeyApi = await {@link AthomCloudAPI.Homey homey}.{@link AthomCloudAPI.Homey#authenticate authenticate}();

// Get all Zones from ManagerZones
const zones = await {@link HomeyAPIV2 homeyApi}.{@link HomeyAPIV2.ManagerZones zones}.{@link HomeyAPIV2.ManagerZones#getZones getZones}();

// Get all Devices from ManagerDevices
const devices = await {@link HomeyAPIV2 homeyApi}.{@link HomeyAPIV2.ManagerDevices devices}.{@link HomeyAPIV2.ManagerDevices#getDevices getDevices}();

// Turn all devices on
for(const {@link HomeyAPIV2.ManagerDevices.Device device} of Object.values(devices)) {
  // Turn device on
  await {@link HomeyAPIV2.ManagerDevices.Device device}.{@link HomeyAPIV2.ManagerDevices.Device#setCapabilityValue setCapabilityValue}({
    capabilityId: 'onoff',
    value: true,
  });
}`),$(AthomCloudAPI,"JSDOC_PARAMS",`
@param {string} opts.clientId
@param {string} opts.clientSecret
@param {string} opts.redirectUrl
@param {boolean} [opts.autoRefreshTokens=true]
@param {AthomCloudAPI.Token} [opts.token=null]
@param {AthomCloudAPI.StorageAdapter} [opts.store={@link AthomCloudAPI.StorageAdapterBrowser} or {@link AthomCloudAPI.StorageAdapterMemory}]`);var AthomCloudAPI_1=AthomCloudAPI;const AthomCloudAPI$1=getDefaultExportFromCjs(AthomCloudAPI_1);export{AthomCloudAPI$1 as A,advancedFlows as a,basicFlows as b,session as c,devices as d,baseUrl as e,AthomCloudAPI_1 as f,goto as g,homey as h,getDefaultExportFromCjs as i,requireHomeyAPI as r,scopes as s};
