var U=Object.defineProperty;var x=Object.getPrototypeOf;var L=Reflect.get;var B=(o,t,s)=>t in o?U(o,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[t]=s;var E=(o,t,s)=>(B(o,typeof t!="symbol"?t+"":t,s),s);var D=(o,t,s)=>L(x(o),s,t);import{j as client_method,k as derived,w as writable}from"./singletons.1831f9bd.js";import{p as page}from"./stores.21a04188.js";const goto=client_method("goto");function createBaseUrl(){return derived(page,(o,t)=>{let s=o.url.origin;({}).VITE_HOMEY_URL&&(s={}.VITE_HOMEY_URL),t(s)})}function createDevices(){const{subscribe:o,set:t,update:s}=writable({});return{subscribe:o,set:t,onCapability:(e,p)=>s(n=>onCapability(n,e,p))}}function onCapability(o,t,s){const p=o[t].capabilitiesObj[s.capabilityId];return p.value=s.value,p.lastUpdated.setUTCMilliseconds(s.transactionTime),{...o}}function createBasicFlows(){const{subscribe:o,set:t,update:s}=writable({});return{subscribe:o,set:t,onCreate:e=>s(p=>({...p})),onDelete:e=>s(p=>{const n={...p};return delete n[e.id],n})}}function createAdvancedFlows(){const{subscribe:o,set:t,update:s}=writable({});return{subscribe:o,set:t,onCreate:e=>s(p=>({...p})),onDelete:e=>s(p=>{const n={...p};return delete n[e.id],n})}}const baseUrl=createBaseUrl(),homey=writable(void 0),session=writable(void 0),scopes=derived(session,o=>o==null?void 0:o.scopes,void 0),devices=createDevices(),basicFlows=createBasicFlows(),advancedFlows=createAdvancedFlows();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function getAugmentedNamespace(o){if(o.__esModule)return o;var t=o.default;if(typeof t=="function"){var s=function e(){if(this instanceof e){var p=[null];p.push.apply(p,arguments);var n=Function.bind.apply(t,p);return new n}return t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(o).forEach(function(e){var p=Object.getOwnPropertyDescriptor(o,e);Object.defineProperty(s,e,p.get?p:{enumerable:!0,get:function(){return o[e]}})}),s}let APIError$3=class extends Error{constructor(t,s){super(t),this.statusCode=s}};var APIError_1=APIError$3;const APIError$2=APIError_1;let APIErrorTimeout$1=class extends APIError$2{constructor(t,s=408){super(t,s)}};var APIErrorTimeout_1=APIErrorTimeout$1,browser$5={exports:{}},hasRequiredBrowser$5;function requireBrowser$5(){return hasRequiredBrowser$5||(hasRequiredBrowser$5=1,function(o,t){var s=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof commonjsGlobal<"u")return commonjsGlobal;throw new Error("unable to locate global object")},e=s();o.exports=t=e.fetch,e.fetch&&(t.default=e.fetch.bind(e)),t.Headers=e.Headers,t.Request=e.Request,t.Response=e.Response}(browser$5,browser$5.exports)),browser$5.exports}const APIErrorTimeout=APIErrorTimeout_1;let Util$2=class{static async fetch(...t){if(this.isReactNative())return fetch(...t);if(this.isBrowser())return window.fetch(...t);if(this.isNodeJS())return requireBrowser$5()(...t);if(typeof fetch<"u")return fetch(...t)}static async wait(t){return new Promise(s=>{setTimeout(s,t)})}static async timeout(t,s=5e3,e=`Timeout after ${s}ms`){const p=new APIErrorTimeout(e);let n;return Promise.race([t,new Promise((d,c)=>{n=setTimeout(()=>{c(p)},s)})]).finally(()=>{clearTimeout(n)})}static benchmark(){const t=new Date;return()=>new Date-t}static isHTTPUnsecureSupported(){return typeof window>"u"?!0:typeof window.location>"u"?!1:window.location.protocol==="http:"}static isReactNative(){return typeof navigator<"u"&&navigator.product==="ReactNative"}static isBrowser(){return this.isReactNative()?!1:typeof document<"u"&&typeof window.document<"u"}static isNodeJS(){return this.isReactNative()?!1:typeof process<"u"}static getSearchParameter(t){return this.isBrowser()&&new URLSearchParams(window.location.search).get(t)||null}static stringifyQuery(t){const s=new URLSearchParams;for(const[e,p]of Object.entries(t))s.append(e,p);return s.toString()}static base64(t){function s(n){if(n>=0&&n<64)return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[n]}if(typeof t!="string")throw new Error("Invalid Input");let e;for(e=0;e<t.length;e++)if(t.charCodeAt(e)>255)return null;let p="";for(e=0;e<t.length;e+=3){const n=[void 0,void 0,void 0,void 0];n[0]=t.charCodeAt(e)>>2,n[1]=(t.charCodeAt(e)&3)<<4,t.length>e+1&&(n[1]|=t.charCodeAt(e+1)>>4,n[2]=(t.charCodeAt(e+1)&15)<<2),t.length>e+2&&(n[2]|=t.charCodeAt(e+2)>>6,n[3]=t.charCodeAt(e+2)&63);for(let d=0;d<n.length;d++)typeof n[d]>"u"?p+="=":p+=s(n[d])}return p}static uuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const s=Math.random()*16|0;return(t==="x"?s:s&3|8).toString(16)})}static env(t){return this.isBrowser()?window.localStorage.getItem(t)||null:this.isNodeJS()?process.env[t]||null:(this.isReactNative(),null)}static envKey(t){return t.replace("Athom","ATHOM_").replace("Homey","HOMEY_").replace("API","_API").toUpperCase()}static async promiseAny(t){if(t.length===0)return;const s=[];return new Promise((e,p)=>{t.forEach((n,d)=>{n.then(c=>e(c)).catch(c=>{s[d]=c,s.length===t.length&&p(s)})})})}};var Util_1=Util$2,lib$1={exports:{}},parseuri,hasRequiredParseuri;function requireParseuri(){if(hasRequiredParseuri)return parseuri;hasRequiredParseuri=1;var o=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,t=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];parseuri=function(n){var d=n,c=n.indexOf("["),u=n.indexOf("]");c!=-1&&u!=-1&&(n=n.substring(0,c)+n.substring(c,u).replace(/:/g,";")+n.substring(u,n.length));for(var r=o.exec(n||""),i={},a=14;a--;)i[t[a]]=r[a]||"";return c!=-1&&u!=-1&&(i.source=d,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=s(i,i.path),i.queryKey=e(i,i.query),i};function s(p,n){var d=/\/{2,9}/g,c=n.replace(d,"/").split("/");return(n.substr(0,1)=="/"||n.length===0)&&c.splice(0,1),n.substr(n.length-1,1)=="/"&&c.splice(c.length-1,1),c}function e(p,n){var d={};return n.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(c,u,r){u&&(d[u]=r)}),d}return parseuri}var browser$4={exports:{}},debug$2={exports:{}},ms$2,hasRequiredMs$2;function requireMs$2(){if(hasRequiredMs$2)return ms$2;hasRequiredMs$2=1;var o=1e3,t=o*60,s=t*60,e=s*24,p=e*365.25;ms$2=function(r,i){i=i||{};var a=typeof r;if(a==="string"&&r.length>0)return n(r);if(a==="number"&&isNaN(r)===!1)return i.long?c(r):d(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function n(r){if(r=String(r),!(r.length>100)){var i=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(r);if(i){var a=parseFloat(i[1]),l=(i[2]||"ms").toLowerCase();switch(l){case"years":case"year":case"yrs":case"yr":case"y":return a*p;case"days":case"day":case"d":return a*e;case"hours":case"hour":case"hrs":case"hr":case"h":return a*s;case"minutes":case"minute":case"mins":case"min":case"m":return a*t;case"seconds":case"second":case"secs":case"sec":case"s":return a*o;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}function d(r){return r>=e?Math.round(r/e)+"d":r>=s?Math.round(r/s)+"h":r>=t?Math.round(r/t)+"m":r>=o?Math.round(r/o)+"s":r+"ms"}function c(r){return u(r,e,"day")||u(r,s,"hour")||u(r,t,"minute")||u(r,o,"second")||r+" ms"}function u(r,i,a){if(!(r<i))return r<i*1.5?Math.floor(r/i)+" "+a:Math.ceil(r/i)+" "+a+"s"}return ms$2}var hasRequiredDebug$2;function requireDebug$2(){return hasRequiredDebug$2||(hasRequiredDebug$2=1,function(o,t){t=o.exports=e.debug=e.default=e,t.coerce=u,t.disable=d,t.enable=n,t.enabled=c,t.humanize=requireMs$2(),t.instances=[],t.names=[],t.skips=[],t.formatters={};function s(r){var i=0,a;for(a in r)i=(i<<5)-i+r.charCodeAt(a),i|=0;return t.colors[Math.abs(i)%t.colors.length]}function e(r){var i;function a(){if(a.enabled){var l=a,h=+new Date,v=h-(i||h);l.diff=v,l.prev=i,l.curr=h,i=h;for(var g=new Array(arguments.length),y=0;y<g.length;y++)g[y]=arguments[y];g[0]=t.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");var m=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,function(C,b){if(C==="%%")return C;m++;var w=t.formatters[b];if(typeof w=="function"){var _=g[m];C=w.call(l,_),g.splice(m,1),m--}return C}),t.formatArgs.call(l,g);var f=a.log||t.log||console.log.bind(console);f.apply(l,g)}}return a.namespace=r,a.enabled=t.enabled(r),a.useColors=t.useColors(),a.color=s(r),a.destroy=p,typeof t.init=="function"&&t.init(a),t.instances.push(a),a}function p(){var r=t.instances.indexOf(this);return r!==-1?(t.instances.splice(r,1),!0):!1}function n(r){t.save(r),t.names=[],t.skips=[];var i,a=(typeof r=="string"?r:"").split(/[\s,]+/),l=a.length;for(i=0;i<l;i++)a[i]&&(r=a[i].replace(/\*/g,".*?"),r[0]==="-"?t.skips.push(new RegExp("^"+r.substr(1)+"$")):t.names.push(new RegExp("^"+r+"$")));for(i=0;i<t.instances.length;i++){var h=t.instances[i];h.enabled=t.enabled(h.namespace)}}function d(){t.enable("")}function c(r){if(r[r.length-1]==="*")return!0;var i,a;for(i=0,a=t.skips.length;i<a;i++)if(t.skips[i].test(r))return!1;for(i=0,a=t.names.length;i<a;i++)if(t.names[i].test(r))return!0;return!1}function u(r){return r instanceof Error?r.stack||r.message:r}}(debug$2,debug$2.exports)),debug$2.exports}var hasRequiredBrowser$4;function requireBrowser$4(){return hasRequiredBrowser$4||(hasRequiredBrowser$4=1,function(o,t){t=o.exports=requireDebug$2(),t.log=p,t.formatArgs=e,t.save=n,t.load=d,t.useColors=s,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:c(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function s(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(u){try{return JSON.stringify(u)}catch(r){return"[UnexpectedJSONParseError]: "+r.message}};function e(u){var r=this.useColors;if(u[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+u[0]+(r?"%c ":" ")+"+"+t.humanize(this.diff),!!r){var i="color: "+this.color;u.splice(1,0,i,"color: inherit");var a=0,l=0;u[0].replace(/%[a-zA-Z%]/g,function(h){h!=="%%"&&(a++,h==="%c"&&(l=a))}),u.splice(l,0,i)}}function p(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function n(u){try{u==null?t.storage.removeItem("debug"):t.storage.debug=u}catch{}}function d(){var u;try{u=t.storage.debug}catch{}return!u&&typeof process<"u"&&"env"in process&&(u={}.DEBUG),u}t.enable(d());function c(){try{return window.localStorage}catch{}}}(browser$4,browser$4.exports)),browser$4.exports}var url_1,hasRequiredUrl;function requireUrl(){if(hasRequiredUrl)return url_1;hasRequiredUrl=1;var o=requireParseuri(),t=requireBrowser$4()("socket.io-client:url");url_1=s;function s(e,p){var n=e;p=p||typeof location<"u"&&location,e==null&&(e=p.protocol+"//"+p.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=p.protocol+e:e=p.host+e),/^(https?|wss?):\/\//.test(e)||(t("protocol-less url %s",e),typeof p<"u"?e=p.protocol+"//"+e:e="https://"+e),t("parse %s",e),n=o(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";var d=n.host.indexOf(":")!==-1,c=d?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+c+":"+n.port,n.href=n.protocol+"://"+c+(p&&p.port===n.port?"":":"+n.port),n}return url_1}var socket_ioParser={},browser$3={exports:{}},debug$1={exports:{}},ms$1,hasRequiredMs$1;function requireMs$1(){if(hasRequiredMs$1)return ms$1;hasRequiredMs$1=1;var o=1e3,t=o*60,s=t*60,e=s*24,p=e*365.25;ms$1=function(r,i){i=i||{};var a=typeof r;if(a==="string"&&r.length>0)return n(r);if(a==="number"&&isNaN(r)===!1)return i.long?c(r):d(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function n(r){if(r=String(r),!(r.length>100)){var i=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(r);if(i){var a=parseFloat(i[1]),l=(i[2]||"ms").toLowerCase();switch(l){case"years":case"year":case"yrs":case"yr":case"y":return a*p;case"days":case"day":case"d":return a*e;case"hours":case"hour":case"hrs":case"hr":case"h":return a*s;case"minutes":case"minute":case"mins":case"min":case"m":return a*t;case"seconds":case"second":case"secs":case"sec":case"s":return a*o;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}function d(r){return r>=e?Math.round(r/e)+"d":r>=s?Math.round(r/s)+"h":r>=t?Math.round(r/t)+"m":r>=o?Math.round(r/o)+"s":r+"ms"}function c(r){return u(r,e,"day")||u(r,s,"hour")||u(r,t,"minute")||u(r,o,"second")||r+" ms"}function u(r,i,a){if(!(r<i))return r<i*1.5?Math.floor(r/i)+" "+a:Math.ceil(r/i)+" "+a+"s"}return ms$1}var hasRequiredDebug$1;function requireDebug$1(){return hasRequiredDebug$1||(hasRequiredDebug$1=1,function(o,t){t=o.exports=e.debug=e.default=e,t.coerce=u,t.disable=d,t.enable=n,t.enabled=c,t.humanize=requireMs$1(),t.instances=[],t.names=[],t.skips=[],t.formatters={};function s(r){var i=0,a;for(a in r)i=(i<<5)-i+r.charCodeAt(a),i|=0;return t.colors[Math.abs(i)%t.colors.length]}function e(r){var i;function a(){if(a.enabled){var l=a,h=+new Date,v=h-(i||h);l.diff=v,l.prev=i,l.curr=h,i=h;for(var g=new Array(arguments.length),y=0;y<g.length;y++)g[y]=arguments[y];g[0]=t.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");var m=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,function(C,b){if(C==="%%")return C;m++;var w=t.formatters[b];if(typeof w=="function"){var _=g[m];C=w.call(l,_),g.splice(m,1),m--}return C}),t.formatArgs.call(l,g);var f=a.log||t.log||console.log.bind(console);f.apply(l,g)}}return a.namespace=r,a.enabled=t.enabled(r),a.useColors=t.useColors(),a.color=s(r),a.destroy=p,typeof t.init=="function"&&t.init(a),t.instances.push(a),a}function p(){var r=t.instances.indexOf(this);return r!==-1?(t.instances.splice(r,1),!0):!1}function n(r){t.save(r),t.names=[],t.skips=[];var i,a=(typeof r=="string"?r:"").split(/[\s,]+/),l=a.length;for(i=0;i<l;i++)a[i]&&(r=a[i].replace(/\*/g,".*?"),r[0]==="-"?t.skips.push(new RegExp("^"+r.substr(1)+"$")):t.names.push(new RegExp("^"+r+"$")));for(i=0;i<t.instances.length;i++){var h=t.instances[i];h.enabled=t.enabled(h.namespace)}}function d(){t.enable("")}function c(r){if(r[r.length-1]==="*")return!0;var i,a;for(i=0,a=t.skips.length;i<a;i++)if(t.skips[i].test(r))return!1;for(i=0,a=t.names.length;i<a;i++)if(t.names[i].test(r))return!0;return!1}function u(r){return r instanceof Error?r.stack||r.message:r}}(debug$1,debug$1.exports)),debug$1.exports}var hasRequiredBrowser$3;function requireBrowser$3(){return hasRequiredBrowser$3||(hasRequiredBrowser$3=1,function(o,t){t=o.exports=requireDebug$1(),t.log=p,t.formatArgs=e,t.save=n,t.load=d,t.useColors=s,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:c(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function s(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(u){try{return JSON.stringify(u)}catch(r){return"[UnexpectedJSONParseError]: "+r.message}};function e(u){var r=this.useColors;if(u[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+u[0]+(r?"%c ":" ")+"+"+t.humanize(this.diff),!!r){var i="color: "+this.color;u.splice(1,0,i,"color: inherit");var a=0,l=0;u[0].replace(/%[a-zA-Z%]/g,function(h){h!=="%%"&&(a++,h==="%c"&&(l=a))}),u.splice(l,0,i)}}function p(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function n(u){try{u==null?t.storage.removeItem("debug"):t.storage.debug=u}catch{}}function d(){var u;try{u=t.storage.debug}catch{}return!u&&typeof process<"u"&&"env"in process&&(u={}.DEBUG),u}t.enable(d());function c(){try{return window.localStorage}catch{}}}(browser$3,browser$3.exports)),browser$3.exports}var componentEmitter={exports:{}},hasRequiredComponentEmitter;function requireComponentEmitter(){return hasRequiredComponentEmitter||(hasRequiredComponentEmitter=1,function(o){o.exports=t;function t(e){if(e)return s(e)}function s(e){for(var p in t.prototype)e[p]=t.prototype[p];return e}t.prototype.on=t.prototype.addEventListener=function(e,p){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(p),this},t.prototype.once=function(e,p){function n(){this.off(e,n),p.apply(this,arguments)}return n.fn=p,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,p){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var d,c=0;c<n.length;c++)if(d=n[c],d===p||d.fn===p){n.splice(c,1);break}return n.length===0&&delete this._callbacks["$"+e],this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var p=new Array(arguments.length-1),n=this._callbacks["$"+e],d=1;d<arguments.length;d++)p[d-1]=arguments[d];if(n){n=n.slice(0);for(var d=0,c=n.length;d<c;++d)n[d].apply(this,p)}return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}}(componentEmitter)),componentEmitter.exports}var binary={},isarray,hasRequiredIsarray;function requireIsarray(){if(hasRequiredIsarray)return isarray;hasRequiredIsarray=1;var o={}.toString;return isarray=Array.isArray||function(t){return o.call(t)=="[object Array]"},isarray}var isBuffer,hasRequiredIsBuffer;function requireIsBuffer(){if(hasRequiredIsBuffer)return isBuffer;hasRequiredIsBuffer=1,isBuffer=e;var o=typeof Buffer=="function"&&typeof Buffer.isBuffer=="function",t=typeof ArrayBuffer=="function",s=function(p){return typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(p):p.buffer instanceof ArrayBuffer};function e(p){return o&&Buffer.isBuffer(p)||t&&(p instanceof ArrayBuffer||s(p))}return isBuffer}var hasRequiredBinary;function requireBinary(){if(hasRequiredBinary)return binary;hasRequiredBinary=1;var o=requireIsarray(),t=requireIsBuffer(),s=Object.prototype.toString,e=typeof Blob=="function"||typeof Blob<"u"&&s.call(Blob)==="[object BlobConstructor]",p=typeof File=="function"||typeof File<"u"&&s.call(File)==="[object FileConstructor]";binary.deconstructPacket=function(c){var u=[],r=c.data,i=c;return i.data=n(r,u),i.attachments=u.length,{packet:i,buffers:u}};function n(c,u){if(!c)return c;if(t(c)){var r={_placeholder:!0,num:u.length};return u.push(c),r}else if(o(c)){for(var i=new Array(c.length),a=0;a<c.length;a++)i[a]=n(c[a],u);return i}else if(typeof c=="object"&&!(c instanceof Date)){var i={};for(var l in c)i[l]=n(c[l],u);return i}return c}binary.reconstructPacket=function(c,u){return c.data=d(c.data,u),c.attachments=void 0,c};function d(c,u){if(!c)return c;if(c&&c._placeholder===!0){var r=typeof c.num=="number"&&c.num>=0&&c.num<u.length;if(r)return u[c.num];throw new Error("illegal attachments")}else if(o(c))for(var i=0;i<c.length;i++)c[i]=d(c[i],u);else if(typeof c=="object")for(var a in c)c[a]=d(c[a],u);return c}return binary.removeBlobs=function(c,u){function r(l,h,v){if(!l)return l;if(e&&l instanceof Blob||p&&l instanceof File){i++;var g=new FileReader;g.onload=function(){v?v[h]=this.result:a=this.result,--i||u(a)},g.readAsArrayBuffer(l)}else if(o(l))for(var y=0;y<l.length;y++)r(l[y],y,l);else if(typeof l=="object"&&!t(l))for(var m in l)r(l[m],m,l)}var i=0,a=c;r(a),i||u(a)},binary}var hasRequiredSocket_ioParser;function requireSocket_ioParser(){return hasRequiredSocket_ioParser||(hasRequiredSocket_ioParser=1,function(o){var t=requireBrowser$3()("socket.io-parser"),s=requireComponentEmitter(),e=requireBinary(),p=requireIsarray(),n=requireIsBuffer();o.protocol=4,o.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],o.CONNECT=0,o.DISCONNECT=1,o.EVENT=2,o.ACK=3,o.ERROR=4,o.BINARY_EVENT=5,o.BINARY_ACK=6,o.Encoder=d,o.Decoder=a;function d(){}var c=o.ERROR+'"encode error"';d.prototype.encode=function(y,m){if(t("encoding packet %j",y),o.BINARY_EVENT===y.type||o.BINARY_ACK===y.type)i(y,m);else{var f=u(y);m([f])}};function u(y){var m=""+y.type;if((o.BINARY_EVENT===y.type||o.BINARY_ACK===y.type)&&(m+=y.attachments+"-"),y.nsp&&y.nsp!=="/"&&(m+=y.nsp+","),y.id!=null&&(m+=y.id),y.data!=null){var f=r(y.data);if(f!==!1)m+=f;else return c}return t("encoded %j as %s",y,m),m}function r(y){try{return JSON.stringify(y)}catch{return!1}}function i(y,m){function f(C){var b=e.deconstructPacket(C),w=u(b.packet),_=b.buffers;_.unshift(w),m(_)}e.removeBlobs(y,f)}function a(){this.reconstructor=null}s(a.prototype),a.prototype.add=function(y){var m;if(typeof y=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");m=l(y),o.BINARY_EVENT===m.type||o.BINARY_ACK===m.type?(this.reconstructor=new v(m),this.reconstructor.reconPack.attachments===0&&this.emit("decoded",m)):this.emit("decoded",m)}else if(n(y)||y.base64)if(this.reconstructor)m=this.reconstructor.takeBinaryData(y),m&&(this.reconstructor=null,this.emit("decoded",m));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+y)};function l(y){var m=0,f={type:Number(y.charAt(0))};if(o.types[f.type]==null)return g("unknown packet type "+f.type);if(o.BINARY_EVENT===f.type||o.BINARY_ACK===f.type){for(var C=m+1;y.charAt(++m)!=="-"&&m!=y.length;);var b=y.substring(C,m);if(b!=Number(b)||y.charAt(m)!=="-")throw new Error("Illegal attachments");f.attachments=Number(b)}if(y.charAt(m+1)==="/"){for(var C=m+1;++m;){var w=y.charAt(m);if(w===","||m===y.length)break}f.nsp=y.substring(C,m)}else f.nsp="/";var _=y.charAt(m+1);if(_!==""&&Number(_)==_){for(var C=m+1;++m;){var w=y.charAt(m);if(w==null||Number(w)!=w){--m;break}if(m===y.length)break}f.id=Number(y.substring(C,m+1))}if(y.charAt(++m)){var q=h(y.substr(m)),A=q!==!1&&(f.type===o.ERROR||p(q));if(A)f.data=q;else return g("invalid payload")}return t("decoded %s as %j",y,f),f}function h(y){try{return JSON.parse(y)}catch{return!1}}a.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()};function v(y){this.reconPack=y,this.buffers=[]}v.prototype.takeBinaryData=function(y){if(this.buffers.push(y),this.buffers.length===this.reconPack.attachments){var m=e.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),m}return null},v.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]};function g(y){return{type:o.ERROR,data:"parser error: "+y}}}(socket_ioParser)),socket_ioParser}var lib={exports:{}},transports={},hasCors={exports:{}},hasRequiredHasCors;function requireHasCors(){if(hasRequiredHasCors)return hasCors.exports;hasRequiredHasCors=1;try{hasCors.exports=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{hasCors.exports=!1}return hasCors.exports}var globalThis_browser,hasRequiredGlobalThis_browser;function requireGlobalThis_browser(){return hasRequiredGlobalThis_browser||(hasRequiredGlobalThis_browser=1,globalThis_browser=function(){return typeof self<"u"?self:typeof window<"u"?window:Function("return this")()}()),globalThis_browser}var xmlhttprequest_browser,hasRequiredXmlhttprequest_browser;function requireXmlhttprequest_browser(){if(hasRequiredXmlhttprequest_browser)return xmlhttprequest_browser;hasRequiredXmlhttprequest_browser=1;var o=requireHasCors(),t=requireGlobalThis_browser();return xmlhttprequest_browser=function(s){var e=s.xdomain,p=s.xscheme,n=s.enablesXDR;try{if(typeof XMLHttpRequest<"u"&&(!e||o))return new XMLHttpRequest}catch{}try{if(typeof XDomainRequest<"u"&&!p&&n)return new XDomainRequest}catch{}if(!e)try{return new t[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}},xmlhttprequest_browser}var pollingXhr={exports:{}},browser$2={},keys,hasRequiredKeys;function requireKeys(){return hasRequiredKeys||(hasRequiredKeys=1,keys=Object.keys||function(t){var s=[],e=Object.prototype.hasOwnProperty;for(var p in t)e.call(t,p)&&s.push(p);return s}),keys}var hasBinary2,hasRequiredHasBinary2;function requireHasBinary2(){if(hasRequiredHasBinary2)return hasBinary2;hasRequiredHasBinary2=1;var o=requireIsarray(),t=Object.prototype.toString,s=typeof Blob=="function"||typeof Blob<"u"&&t.call(Blob)==="[object BlobConstructor]",e=typeof File=="function"||typeof File<"u"&&t.call(File)==="[object FileConstructor]";hasBinary2=p;function p(n){if(!n||typeof n!="object")return!1;if(o(n)){for(var d=0,c=n.length;d<c;d++)if(p(n[d]))return!0;return!1}if(typeof Buffer=="function"&&Buffer.isBuffer&&Buffer.isBuffer(n)||typeof ArrayBuffer=="function"&&n instanceof ArrayBuffer||s&&n instanceof Blob||e&&n instanceof File)return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return p(n.toJSON(),!0);for(var u in n)if(Object.prototype.hasOwnProperty.call(n,u)&&p(n[u]))return!0;return!1}return hasBinary2}var arraybuffer_slice,hasRequiredArraybuffer_slice;function requireArraybuffer_slice(){return hasRequiredArraybuffer_slice||(hasRequiredArraybuffer_slice=1,arraybuffer_slice=function(o,t,s){var e=o.byteLength;if(t=t||0,s=s||e,o.slice)return o.slice(t,s);if(t<0&&(t+=e),s<0&&(s+=e),s>e&&(s=e),t>=e||t>=s||e===0)return new ArrayBuffer(0);for(var p=new Uint8Array(o),n=new Uint8Array(s-t),d=t,c=0;d<s;d++,c++)n[c]=p[d];return n.buffer}),arraybuffer_slice}var after_1,hasRequiredAfter;function requireAfter(){if(hasRequiredAfter)return after_1;hasRequiredAfter=1,after_1=o;function o(s,e,p){var n=!1;return p=p||t,d.count=s,s===0?e():d;function d(c,u){if(d.count<=0)throw new Error("after called too many times");--d.count,c?(n=!0,e(c),e=p):d.count===0&&!n&&e(null,u)}}function t(){}return after_1}/*! https://mths.be/utf8js v2.1.2 by @mathias */var utf8,hasRequiredUtf8;function requireUtf8(){if(hasRequiredUtf8)return utf8;hasRequiredUtf8=1;var o=String.fromCharCode;function t(h){for(var v=[],g=0,y=h.length,m,f;g<y;)m=h.charCodeAt(g++),m>=55296&&m<=56319&&g<y?(f=h.charCodeAt(g++),(f&64512)==56320?v.push(((m&1023)<<10)+(f&1023)+65536):(v.push(m),g--)):v.push(m);return v}function s(h){for(var v=h.length,g=-1,y,m="";++g<v;)y=h[g],y>65535&&(y-=65536,m+=o(y>>>10&1023|55296),y=56320|y&1023),m+=o(y);return m}function e(h,v){if(h>=55296&&h<=57343){if(v)throw Error("Lone surrogate U+"+h.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function p(h,v){return o(h>>v&63|128)}function n(h,v){if(!(h&4294967168))return o(h);var g="";return h&4294965248?h&4294901760?h&4292870144||(g=o(h>>18&7|240),g+=p(h,12),g+=p(h,6)):(e(h,v)||(h=65533),g=o(h>>12&15|224),g+=p(h,6)):g=o(h>>6&31|192),g+=o(h&63|128),g}function d(h,v){v=v||{};for(var g=v.strict!==!1,y=t(h),m=y.length,f=-1,C,b="";++f<m;)C=y[f],b+=n(C,g);return b}function c(){if(a>=i)throw Error("Invalid byte index");var h=r[a]&255;if(a++,(h&192)==128)return h&63;throw Error("Invalid continuation byte")}function u(h){var v,g,y,m,f;if(a>i)throw Error("Invalid byte index");if(a==i)return!1;if(v=r[a]&255,a++,!(v&128))return v;if((v&224)==192){if(g=c(),f=(v&31)<<6|g,f>=128)return f;throw Error("Invalid continuation byte")}if((v&240)==224){if(g=c(),y=c(),f=(v&15)<<12|g<<6|y,f>=2048)return e(f,h)?f:65533;throw Error("Invalid continuation byte")}if((v&248)==240&&(g=c(),y=c(),m=c(),f=(v&7)<<18|g<<12|y<<6|m,f>=65536&&f<=1114111))return f;throw Error("Invalid UTF-8 detected")}var r,i,a;function l(h,v){v=v||{};var g=v.strict!==!1;r=t(h),i=r.length,a=0;for(var y=[],m;(m=u(g))!==!1;)y.push(m);return s(y)}return utf8={version:"2.1.2",encode:d,decode:l},utf8}var base64Arraybuffer={},hasRequiredBase64Arraybuffer;function requireBase64Arraybuffer(){return hasRequiredBase64Arraybuffer||(hasRequiredBase64Arraybuffer=1,function(o){base64Arraybuffer.encode=function(t){var s=new Uint8Array(t),e,p=s.length,n="";for(e=0;e<p;e+=3)n+=o[s[e]>>2],n+=o[(s[e]&3)<<4|s[e+1]>>4],n+=o[(s[e+1]&15)<<2|s[e+2]>>6],n+=o[s[e+2]&63];return p%3===2?n=n.substring(0,n.length-1)+"=":p%3===1&&(n=n.substring(0,n.length-2)+"=="),n},base64Arraybuffer.decode=function(t){var s=t.length*.75,e=t.length,p,n=0,d,c,u,r;t[t.length-1]==="="&&(s--,t[t.length-2]==="="&&s--);var i=new ArrayBuffer(s),a=new Uint8Array(i);for(p=0;p<e;p+=4)d=o.indexOf(t[p]),c=o.indexOf(t[p+1]),u=o.indexOf(t[p+2]),r=o.indexOf(t[p+3]),a[n++]=d<<2|c>>4,a[n++]=(c&15)<<4|u>>2,a[n++]=(u&3)<<6|r&63;return i}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")),base64Arraybuffer}var blob,hasRequiredBlob;function requireBlob(){if(hasRequiredBlob)return blob;hasRequiredBlob=1;var o=typeof o<"u"?o:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:!1,t=function(){try{var c=new Blob(["hi"]);return c.size===2}catch{return!1}}(),s=t&&function(){try{var c=new Blob([new Uint8Array([1,2])]);return c.size===2}catch{return!1}}(),e=o&&o.prototype.append&&o.prototype.getBlob;function p(c){return c.map(function(u){if(u.buffer instanceof ArrayBuffer){var r=u.buffer;if(u.byteLength!==r.byteLength){var i=new Uint8Array(u.byteLength);i.set(new Uint8Array(r,u.byteOffset,u.byteLength)),r=i.buffer}return r}return u})}function n(c,u){u=u||{};var r=new o;return p(c).forEach(function(i){r.append(i)}),u.type?r.getBlob(u.type):r.getBlob()}function d(c,u){return new Blob(p(c),u||{})}return typeof Blob<"u"&&(n.prototype=Blob.prototype,d.prototype=Blob.prototype),blob=function(){return t?s?Blob:d:e?n:void 0}(),blob}var hasRequiredBrowser$2;function requireBrowser$2(){return hasRequiredBrowser$2||(hasRequiredBrowser$2=1,function(o){var t=requireKeys(),s=requireHasBinary2(),e=requireArraybuffer_slice(),p=requireAfter(),n=requireUtf8(),d;typeof ArrayBuffer<"u"&&(d=requireBase64Arraybuffer());var c=typeof navigator<"u"&&/Android/i.test(navigator.userAgent),u=typeof navigator<"u"&&/PhantomJS/i.test(navigator.userAgent),r=c||u;o.protocol=3;var i=o.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},a=t(i),l={type:"error",data:"parser error"},h=requireBlob();o.encodePacket=function(b,w,_,q){typeof w=="function"&&(q=w,w=!1),typeof _=="function"&&(q=_,_=null);var A=b.data===void 0?void 0:b.data.buffer||b.data;if(typeof ArrayBuffer<"u"&&A instanceof ArrayBuffer)return g(b,w,q);if(typeof h<"u"&&A instanceof h)return m(b,w,q);if(A&&A.base64)return v(b,q);var S=i[b.type];return b.data!==void 0&&(S+=_?n.encode(String(b.data),{strict:!1}):String(b.data)),q(""+S)};function v(b,w){var _="b"+o.packets[b.type]+b.data.data;return w(_)}function g(b,w,_){if(!w)return o.encodeBase64Packet(b,_);var q=b.data,A=new Uint8Array(q),S=new Uint8Array(1+q.byteLength);S[0]=i[b.type];for(var I=0;I<A.length;I++)S[I+1]=A[I];return _(S.buffer)}function y(b,w,_){if(!w)return o.encodeBase64Packet(b,_);var q=new FileReader;return q.onload=function(){o.encodePacket({type:b.type,data:q.result},w,!0,_)},q.readAsArrayBuffer(b.data)}function m(b,w,_){if(!w)return o.encodeBase64Packet(b,_);if(r)return y(b,w,_);var q=new Uint8Array(1);q[0]=i[b.type];var A=new h([q.buffer,b.data]);return _(A)}o.encodeBase64Packet=function(b,w){var _="b"+o.packets[b.type];if(typeof h<"u"&&b.data instanceof h){var q=new FileReader;return q.onload=function(){var T=q.result.split(",")[1];w(_+T)},q.readAsDataURL(b.data)}var A;try{A=String.fromCharCode.apply(null,new Uint8Array(b.data))}catch{for(var S=new Uint8Array(b.data),I=new Array(S.length),O=0;O<S.length;O++)I[O]=S[O];A=String.fromCharCode.apply(null,I)}return _+=btoa(A),w(_)},o.decodePacket=function(b,w,_){if(b===void 0)return l;if(typeof b=="string"){if(b.charAt(0)==="b")return o.decodeBase64Packet(b.substr(1),w);if(_&&(b=f(b),b===!1))return l;var A=b.charAt(0);return Number(A)!=A||!a[A]?l:b.length>1?{type:a[A],data:b.substring(1)}:{type:a[A]}}var q=new Uint8Array(b),A=q[0],S=e(b,1);return h&&w==="blob"&&(S=new h([S])),{type:a[A],data:S}};function f(b){try{b=n.decode(b,{strict:!1})}catch{return!1}return b}o.decodeBase64Packet=function(b,w){var _=a[b.charAt(0)];if(!d)return{type:_,data:{base64:!0,data:b.substr(1)}};var q=d.decode(b.substr(1));return w==="blob"&&h&&(q=new h([q])),{type:_,data:q}},o.encodePayload=function(b,w,_){typeof w=="function"&&(_=w,w=null);var q=s(b);if(w&&q)return h&&!r?o.encodePayloadAsBlob(b,_):o.encodePayloadAsArrayBuffer(b,_);if(!b.length)return _("0:");function A(I){return I.length+":"+I}function S(I,O){o.encodePacket(I,q?w:!1,!1,function(T){O(null,A(T))})}C(b,S,function(I,O){return _(O.join(""))})};function C(b,w,_){for(var q=new Array(b.length),A=p(b.length,_),S=function(O,T,P){w(T,function(F,k){q[O]=k,P(F,q)})},I=0;I<b.length;I++)S(I,b[I],A)}o.decodePayload=function(b,w,_){if(typeof b!="string")return o.decodePayloadAsBinary(b,w,_);typeof w=="function"&&(_=w,w=null);var q;if(b==="")return _(l,0,1);for(var A="",S,I,O=0,T=b.length;O<T;O++){var P=b.charAt(O);if(P!==":"){A+=P;continue}if(A===""||A!=(S=Number(A))||(I=b.substr(O+1,S),A!=I.length))return _(l,0,1);if(I.length){if(q=o.decodePacket(I,w,!1),l.type===q.type&&l.data===q.data)return _(l,0,1);var F=_(q,O+S,T);if(F===!1)return}O+=S,A=""}if(A!=="")return _(l,0,1)},o.encodePayloadAsArrayBuffer=function(b,w){if(!b.length)return w(new ArrayBuffer(0));function _(q,A){o.encodePacket(q,!0,!0,function(S){return A(null,S)})}C(b,_,function(q,A){var S=A.reduce(function(T,P){var F;return typeof P=="string"?F=P.length:F=P.byteLength,T+F.toString().length+F+2},0),I=new Uint8Array(S),O=0;return A.forEach(function(T){var P=typeof T=="string",F=T;if(P){for(var $=new Uint8Array(T.length),k=0;k<T.length;k++)$[k]=T.charCodeAt(k);F=$.buffer}P?I[O++]=0:I[O++]=1;for(var M=F.byteLength.toString(),k=0;k<M.length;k++)I[O++]=parseInt(M[k]);I[O++]=255;for(var $=new Uint8Array(F),k=0;k<$.length;k++)I[O++]=$[k]}),w(I.buffer)})},o.encodePayloadAsBlob=function(b,w){function _(q,A){o.encodePacket(q,!0,!0,function(S){var I=new Uint8Array(1);if(I[0]=1,typeof S=="string"){for(var O=new Uint8Array(S.length),T=0;T<S.length;T++)O[T]=S.charCodeAt(T);S=O.buffer,I[0]=0}for(var P=S instanceof ArrayBuffer?S.byteLength:S.size,F=P.toString(),k=new Uint8Array(F.length+1),T=0;T<F.length;T++)k[T]=parseInt(F[T]);if(k[F.length]=255,h){var M=new h([I.buffer,k.buffer,S]);A(null,M)}})}C(b,_,function(q,A){return w(new h(A))})},o.decodePayloadAsBinary=function(b,w,_){typeof w=="function"&&(_=w,w=null);for(var q=b,A=[];q.byteLength>0;){for(var S=new Uint8Array(q),I=S[0]===0,O="",T=1;S[T]!==255;T++){if(O.length>310)return _(l,0,1);O+=S[T]}q=e(q,2+O.length),O=parseInt(O);var P=e(q,0,O);if(I)try{P=String.fromCharCode.apply(null,new Uint8Array(P))}catch{var F=new Uint8Array(P);P="";for(var T=0;T<F.length;T++)P+=String.fromCharCode(F[T])}A.push(P),q=e(q,O)}var k=A.length;A.forEach(function(M,$){_(o.decodePacket(M,w,!0),$,k)})}}(browser$2)),browser$2}var transport,hasRequiredTransport;function requireTransport(){if(hasRequiredTransport)return transport;hasRequiredTransport=1;var o=requireBrowser$2(),t=requireComponentEmitter();transport=s;function s(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.isReactNative=e.isReactNative,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}return t(s.prototype),s.prototype.onError=function(e,p){var n=new Error(e);return n.type="TransportError",n.description=p,this.emit("error",n),this},s.prototype.open=function(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this},s.prototype.close=function(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this},s.prototype.send=function(e){if(this.readyState==="open")this.write(e);else throw new Error("Transport not open")},s.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},s.prototype.onData=function(e){var p=o.decodePacket(e,this.socket.binaryType);this.onPacket(p)},s.prototype.onPacket=function(e){this.emit("packet",e)},s.prototype.onClose=function(){this.readyState="closed",this.emit("close")},transport}var parseqs={},hasRequiredParseqs;function requireParseqs(){return hasRequiredParseqs||(hasRequiredParseqs=1,parseqs.encode=function(o){var t="";for(var s in o)o.hasOwnProperty(s)&&(t.length&&(t+="&"),t+=encodeURIComponent(s)+"="+encodeURIComponent(o[s]));return t},parseqs.decode=function(o){for(var t={},s=o.split("&"),e=0,p=s.length;e<p;e++){var n=s[e].split("=");t[decodeURIComponent(n[0])]=decodeURIComponent(n[1])}return t}),parseqs}var componentInherit,hasRequiredComponentInherit;function requireComponentInherit(){return hasRequiredComponentInherit||(hasRequiredComponentInherit=1,componentInherit=function(o,t){var s=function(){};s.prototype=t.prototype,o.prototype=new s,o.prototype.constructor=o}),componentInherit}var yeast_1,hasRequiredYeast;function requireYeast(){if(hasRequiredYeast)return yeast_1;hasRequiredYeast=1;var o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),t=64,s={},e=0,p=0,n;function d(r){var i="";do i=o[r%t]+i,r=Math.floor(r/t);while(r>0);return i}function c(r){var i=0;for(p=0;p<r.length;p++)i=i*t+s[r.charAt(p)];return i}function u(){var r=d(+new Date);return r!==n?(e=0,n=r):r+"."+d(e++)}for(;p<t;p++)s[o[p]]=p;return u.encode=d,u.decode=c,yeast_1=u,yeast_1}var browser$1={exports:{}},debug={exports:{}},ms,hasRequiredMs;function requireMs(){if(hasRequiredMs)return ms;hasRequiredMs=1;var o=1e3,t=o*60,s=t*60,e=s*24,p=e*365.25;ms=function(r,i){i=i||{};var a=typeof r;if(a==="string"&&r.length>0)return n(r);if(a==="number"&&isNaN(r)===!1)return i.long?c(r):d(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function n(r){if(r=String(r),!(r.length>100)){var i=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(r);if(i){var a=parseFloat(i[1]),l=(i[2]||"ms").toLowerCase();switch(l){case"years":case"year":case"yrs":case"yr":case"y":return a*p;case"days":case"day":case"d":return a*e;case"hours":case"hour":case"hrs":case"hr":case"h":return a*s;case"minutes":case"minute":case"mins":case"min":case"m":return a*t;case"seconds":case"second":case"secs":case"sec":case"s":return a*o;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}function d(r){return r>=e?Math.round(r/e)+"d":r>=s?Math.round(r/s)+"h":r>=t?Math.round(r/t)+"m":r>=o?Math.round(r/o)+"s":r+"ms"}function c(r){return u(r,e,"day")||u(r,s,"hour")||u(r,t,"minute")||u(r,o,"second")||r+" ms"}function u(r,i,a){if(!(r<i))return r<i*1.5?Math.floor(r/i)+" "+a:Math.ceil(r/i)+" "+a+"s"}return ms}var hasRequiredDebug;function requireDebug(){return hasRequiredDebug||(hasRequiredDebug=1,function(o,t){t=o.exports=e.debug=e.default=e,t.coerce=u,t.disable=d,t.enable=n,t.enabled=c,t.humanize=requireMs(),t.instances=[],t.names=[],t.skips=[],t.formatters={};function s(r){var i=0,a;for(a in r)i=(i<<5)-i+r.charCodeAt(a),i|=0;return t.colors[Math.abs(i)%t.colors.length]}function e(r){var i;function a(){if(a.enabled){var l=a,h=+new Date,v=h-(i||h);l.diff=v,l.prev=i,l.curr=h,i=h;for(var g=new Array(arguments.length),y=0;y<g.length;y++)g[y]=arguments[y];g[0]=t.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");var m=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,function(C,b){if(C==="%%")return C;m++;var w=t.formatters[b];if(typeof w=="function"){var _=g[m];C=w.call(l,_),g.splice(m,1),m--}return C}),t.formatArgs.call(l,g);var f=a.log||t.log||console.log.bind(console);f.apply(l,g)}}return a.namespace=r,a.enabled=t.enabled(r),a.useColors=t.useColors(),a.color=s(r),a.destroy=p,typeof t.init=="function"&&t.init(a),t.instances.push(a),a}function p(){var r=t.instances.indexOf(this);return r!==-1?(t.instances.splice(r,1),!0):!1}function n(r){t.save(r),t.names=[],t.skips=[];var i,a=(typeof r=="string"?r:"").split(/[\s,]+/),l=a.length;for(i=0;i<l;i++)a[i]&&(r=a[i].replace(/\*/g,".*?"),r[0]==="-"?t.skips.push(new RegExp("^"+r.substr(1)+"$")):t.names.push(new RegExp("^"+r+"$")));for(i=0;i<t.instances.length;i++){var h=t.instances[i];h.enabled=t.enabled(h.namespace)}}function d(){t.enable("")}function c(r){if(r[r.length-1]==="*")return!0;var i,a;for(i=0,a=t.skips.length;i<a;i++)if(t.skips[i].test(r))return!1;for(i=0,a=t.names.length;i<a;i++)if(t.names[i].test(r))return!0;return!1}function u(r){return r instanceof Error?r.stack||r.message:r}}(debug,debug.exports)),debug.exports}var hasRequiredBrowser$1;function requireBrowser$1(){return hasRequiredBrowser$1||(hasRequiredBrowser$1=1,function(o,t){t=o.exports=requireDebug(),t.log=p,t.formatArgs=e,t.save=n,t.load=d,t.useColors=s,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:c(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function s(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(u){try{return JSON.stringify(u)}catch(r){return"[UnexpectedJSONParseError]: "+r.message}};function e(u){var r=this.useColors;if(u[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+u[0]+(r?"%c ":" ")+"+"+t.humanize(this.diff),!!r){var i="color: "+this.color;u.splice(1,0,i,"color: inherit");var a=0,l=0;u[0].replace(/%[a-zA-Z%]/g,function(h){h!=="%%"&&(a++,h==="%c"&&(l=a))}),u.splice(l,0,i)}}function p(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function n(u){try{u==null?t.storage.removeItem("debug"):t.storage.debug=u}catch{}}function d(){var u;try{u=t.storage.debug}catch{}return!u&&typeof process<"u"&&"env"in process&&(u={}.DEBUG),u}t.enable(d());function c(){try{return window.localStorage}catch{}}}(browser$1,browser$1.exports)),browser$1.exports}var polling,hasRequiredPolling;function requirePolling(){if(hasRequiredPolling)return polling;hasRequiredPolling=1;var o=requireTransport(),t=requireParseqs(),s=requireBrowser$2(),e=requireComponentInherit(),p=requireYeast(),n=requireBrowser$1()("engine.io-client:polling");polling=c;var d=function(){var u=requireXmlhttprequest_browser(),r=new u({xdomain:!1});return r.responseType!=null}();function c(u){var r=u&&u.forceBase64;(!d||r)&&(this.supportsBinary=!1),o.call(this,u)}return e(c,o),c.prototype.name="polling",c.prototype.doOpen=function(){this.poll()},c.prototype.pause=function(u){var r=this;this.readyState="pausing";function i(){n("paused"),r.readyState="paused",u()}if(this.polling||!this.writable){var a=0;this.polling&&(n("we are currently polling - waiting to pause"),a++,this.once("pollComplete",function(){n("pre-pause polling complete"),--a||i()})),this.writable||(n("we are currently writing - waiting to pause"),a++,this.once("drain",function(){n("pre-pause writing complete"),--a||i()}))}else i()},c.prototype.poll=function(){n("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},c.prototype.onData=function(u){var r=this;n("polling got data %s",u);var i=function(a,l,h){if(r.readyState==="opening"&&a.type==="open"&&r.onOpen(),a.type==="close")return r.onClose(),!1;r.onPacket(a)};s.decodePayload(u,this.socket.binaryType,i),this.readyState!=="closed"&&(this.polling=!1,this.emit("pollComplete"),this.readyState==="open"?this.poll():n('ignoring poll - transport state "%s"',this.readyState))},c.prototype.doClose=function(){var u=this;function r(){n("writing close packet"),u.write([{type:"close"}])}this.readyState==="open"?(n("transport open - closing"),r()):(n("transport not open - deferring close"),this.once("open",r))},c.prototype.write=function(u){var r=this;this.writable=!1;var i=function(){r.writable=!0,r.emit("drain")};s.encodePayload(u,this.supportsBinary,function(a){r.doWrite(a,i)})},c.prototype.uri=function(){var u=this.query||{},r=this.secure?"https":"http",i="";this.timestampRequests!==!1&&(u[this.timestampParam]=p()),!this.supportsBinary&&!u.sid&&(u.b64=1),u=t.encode(u),this.port&&(r==="https"&&Number(this.port)!==443||r==="http"&&Number(this.port)!==80)&&(i=":"+this.port),u.length&&(u="?"+u);var a=this.hostname.indexOf(":")!==-1;return r+"://"+(a?"["+this.hostname+"]":this.hostname)+i+this.path+u},polling}var hasRequiredPollingXhr;function requirePollingXhr(){if(hasRequiredPollingXhr)return pollingXhr.exports;hasRequiredPollingXhr=1;var o=requireXmlhttprequest_browser(),t=requirePolling(),s=requireComponentEmitter(),e=requireComponentInherit(),p=requireBrowser$1()("engine.io-client:polling-xhr"),n=requireGlobalThis_browser();pollingXhr.exports=c,pollingXhr.exports.Request=u;function d(){}function c(a){if(t.call(this,a),this.requestTimeout=a.requestTimeout,this.extraHeaders=a.extraHeaders,typeof location<"u"){var l=location.protocol==="https:",h=location.port;h||(h=l?443:80),this.xd=typeof location<"u"&&a.hostname!==location.hostname||h!==a.port,this.xs=a.secure!==l}}e(c,t),c.prototype.supportsBinary=!0,c.prototype.request=function(a){return a=a||{},a.uri=this.uri(),a.xd=this.xd,a.xs=this.xs,a.agent=this.agent||!1,a.supportsBinary=this.supportsBinary,a.enablesXDR=this.enablesXDR,a.withCredentials=this.withCredentials,a.pfx=this.pfx,a.key=this.key,a.passphrase=this.passphrase,a.cert=this.cert,a.ca=this.ca,a.ciphers=this.ciphers,a.rejectUnauthorized=this.rejectUnauthorized,a.requestTimeout=this.requestTimeout,a.extraHeaders=this.extraHeaders,new u(a)},c.prototype.doWrite=function(a,l){var h=typeof a!="string"&&a!==void 0,v=this.request({method:"POST",data:a,isBinary:h}),g=this;v.on("success",l),v.on("error",function(y){g.onError("xhr post error",y)}),this.sendXhr=v},c.prototype.doPoll=function(){p("xhr poll");var a=this.request(),l=this;a.on("data",function(h){l.onData(h)}),a.on("error",function(h){l.onError("xhr poll error",h)}),this.pollXhr=a};function u(a){this.method=a.method||"GET",this.uri=a.uri,this.xd=!!a.xd,this.xs=!!a.xs,this.async=a.async!==!1,this.data=a.data!==void 0?a.data:null,this.agent=a.agent,this.isBinary=a.isBinary,this.supportsBinary=a.supportsBinary,this.enablesXDR=a.enablesXDR,this.withCredentials=a.withCredentials,this.requestTimeout=a.requestTimeout,this.pfx=a.pfx,this.key=a.key,this.passphrase=a.passphrase,this.cert=a.cert,this.ca=a.ca,this.ciphers=a.ciphers,this.rejectUnauthorized=a.rejectUnauthorized,this.extraHeaders=a.extraHeaders,this.create()}if(s(u.prototype),u.prototype.create=function(){var a={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};a.pfx=this.pfx,a.key=this.key,a.passphrase=this.passphrase,a.cert=this.cert,a.ca=this.ca,a.ciphers=this.ciphers,a.rejectUnauthorized=this.rejectUnauthorized;var l=this.xhr=new o(a),h=this;try{p("xhr open %s: %s",this.method,this.uri),l.open(this.method,this.uri,this.async);try{if(this.extraHeaders){l.setDisableHeaderCheck&&l.setDisableHeaderCheck(!0);for(var v in this.extraHeaders)this.extraHeaders.hasOwnProperty(v)&&l.setRequestHeader(v,this.extraHeaders[v])}}catch{}if(this.method==="POST")try{this.isBinary?l.setRequestHeader("Content-type","application/octet-stream"):l.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{l.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in l&&(l.withCredentials=this.withCredentials),this.requestTimeout&&(l.timeout=this.requestTimeout),this.hasXDR()?(l.onload=function(){h.onLoad()},l.onerror=function(){h.onError(l.responseText)}):l.onreadystatechange=function(){if(l.readyState===2)try{var g=l.getResponseHeader("Content-Type");(h.supportsBinary&&g==="application/octet-stream"||g==="application/octet-stream; charset=UTF-8")&&(l.responseType="arraybuffer")}catch{}l.readyState===4&&(l.status===200||l.status===1223?h.onLoad():setTimeout(function(){h.onError(typeof l.status=="number"?l.status:0)},0))},p("xhr data %s",this.data),l.send(this.data)}catch(g){setTimeout(function(){h.onError(g)},0);return}typeof document<"u"&&(this.index=u.requestsCount++,u.requests[this.index]=this)},u.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},u.prototype.onData=function(a){this.emit("data",a),this.onSuccess()},u.prototype.onError=function(a){this.emit("error",a),this.cleanup(!0)},u.prototype.cleanup=function(a){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=d:this.xhr.onreadystatechange=d,a)try{this.xhr.abort()}catch{}typeof document<"u"&&delete u.requests[this.index],this.xhr=null}},u.prototype.onLoad=function(){var a;try{var l;try{l=this.xhr.getResponseHeader("Content-Type")}catch{}l==="application/octet-stream"||l==="application/octet-stream; charset=UTF-8"?a=this.xhr.response||this.xhr.responseText:a=this.xhr.responseText}catch(h){this.onError(h)}a!=null&&this.onData(a)},u.prototype.hasXDR=function(){return typeof XDomainRequest<"u"&&!this.xs&&this.enablesXDR},u.prototype.abort=function(){this.cleanup()},u.requestsCount=0,u.requests={},typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",i);else if(typeof addEventListener=="function"){var r="onpagehide"in n?"pagehide":"unload";addEventListener(r,i,!1)}}function i(){for(var a in u.requests)u.requests.hasOwnProperty(a)&&u.requests[a].abort()}return pollingXhr.exports}var pollingJsonp,hasRequiredPollingJsonp;function requirePollingJsonp(){if(hasRequiredPollingJsonp)return pollingJsonp;hasRequiredPollingJsonp=1;var o=requirePolling(),t=requireComponentInherit(),s=requireGlobalThis_browser();pollingJsonp=c;var e=/\n/g,p=/\\n/g,n;function d(){}function c(u){o.call(this,u),this.query=this.query||{},n||(n=s.___eio=s.___eio||[]),this.index=n.length;var r=this;n.push(function(i){r.onData(i)}),this.query.j=this.index,typeof addEventListener=="function"&&addEventListener("beforeunload",function(){r.script&&(r.script.onerror=d)},!1)}return t(c,o),c.prototype.supportsBinary=!1,c.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),o.prototype.doClose.call(this)},c.prototype.doPoll=function(){var u=this,r=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),r.async=!0,r.src=this.uri(),r.onerror=function(l){u.onError("jsonp poll error",l)};var i=document.getElementsByTagName("script")[0];i?i.parentNode.insertBefore(r,i):(document.head||document.body).appendChild(r),this.script=r;var a=typeof navigator<"u"&&/gecko/i.test(navigator.userAgent);a&&setTimeout(function(){var l=document.createElement("iframe");document.body.appendChild(l),document.body.removeChild(l)},100)},c.prototype.doWrite=function(u,r){var i=this;if(!this.form){var a=document.createElement("form"),l=document.createElement("textarea"),h=this.iframeId="eio_iframe_"+this.index,v;a.className="socketio",a.style.position="absolute",a.style.top="-1000px",a.style.left="-1000px",a.target=h,a.method="POST",a.setAttribute("accept-charset","utf-8"),l.name="d",a.appendChild(l),document.body.appendChild(a),this.form=a,this.area=l}this.form.action=this.uri();function g(){y(),r()}function y(){if(i.iframe)try{i.form.removeChild(i.iframe)}catch(f){i.onError("jsonp polling iframe removal error",f)}try{var m='<iframe src="javascript:0" name="'+i.iframeId+'">';v=document.createElement(m)}catch{v=document.createElement("iframe"),v.name=i.iframeId,v.src="javascript:0"}v.id=i.iframeId,i.form.appendChild(v),i.iframe=v}y(),u=u.replace(p,`\\
`),this.area.value=u.replace(e,"\\n");try{this.form.submit()}catch{}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){i.iframe.readyState==="complete"&&g()}:this.iframe.onload=g},pollingJsonp}const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$6=getAugmentedNamespace(__viteBrowserExternal$1);var websocket,hasRequiredWebsocket;function requireWebsocket(){if(hasRequiredWebsocket)return websocket;hasRequiredWebsocket=1;var o=requireTransport(),t=requireBrowser$2(),s=requireParseqs(),e=requireComponentInherit(),p=requireYeast(),n=requireBrowser$1()("engine.io-client:websocket"),d,c;if(typeof WebSocket<"u"?d=WebSocket:typeof self<"u"&&(d=self.WebSocket||self.MozWebSocket),typeof window>"u")try{c=require$$6}catch{}var u=d||c;websocket=r;function r(i){var a=i&&i.forceBase64;a&&(this.supportsBinary=!1),this.perMessageDeflate=i.perMessageDeflate,this.usingBrowserWebSocket=d&&!i.forceNode,this.protocols=i.protocols,this.usingBrowserWebSocket||(u=c),o.call(this,i)}return e(r,o),r.prototype.name="websocket",r.prototype.supportsBinary=!0,r.prototype.doOpen=function(){if(this.check()){var i=this.uri(),a=this.protocols,l={};this.isReactNative||(l.agent=this.agent,l.perMessageDeflate=this.perMessageDeflate,l.pfx=this.pfx,l.key=this.key,l.passphrase=this.passphrase,l.cert=this.cert,l.ca=this.ca,l.ciphers=this.ciphers,l.rejectUnauthorized=this.rejectUnauthorized),this.extraHeaders&&(l.headers=this.extraHeaders),this.localAddress&&(l.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?a?new u(i,a):new u(i):new u(i,a,l)}catch(h){return this.emit("error",h)}this.ws.binaryType===void 0&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},r.prototype.addEventListeners=function(){var i=this;this.ws.onopen=function(){i.onOpen()},this.ws.onclose=function(){i.onClose()},this.ws.onmessage=function(a){i.onData(a.data)},this.ws.onerror=function(a){i.onError("websocket error",a)}},r.prototype.write=function(i){var a=this;this.writable=!1;for(var l=i.length,h=0,v=l;h<v;h++)(function(y){t.encodePacket(y,a.supportsBinary,function(m){if(!a.usingBrowserWebSocket){var f={};if(y.options&&(f.compress=y.options.compress),a.perMessageDeflate){var C=typeof m=="string"?Buffer.byteLength(m):m.length;C<a.perMessageDeflate.threshold&&(f.compress=!1)}}try{a.usingBrowserWebSocket?a.ws.send(m):a.ws.send(m,f)}catch{n("websocket closed before onclose event")}--l||g()})})(i[h]);function g(){a.emit("flush"),setTimeout(function(){a.writable=!0,a.emit("drain")},0)}},r.prototype.onClose=function(){o.prototype.onClose.call(this)},r.prototype.doClose=function(){typeof this.ws<"u"&&this.ws.close()},r.prototype.uri=function(){var i=this.query||{},a=this.secure?"wss":"ws",l="";this.port&&(a==="wss"&&Number(this.port)!==443||a==="ws"&&Number(this.port)!==80)&&(l=":"+this.port),this.timestampRequests&&(i[this.timestampParam]=p()),this.supportsBinary||(i.b64=1),i=s.encode(i),i.length&&(i="?"+i);var h=this.hostname.indexOf(":")!==-1;return a+"://"+(h?"["+this.hostname+"]":this.hostname)+l+this.path+i},r.prototype.check=function(){return!!u&&!("__initialize"in u&&this.name===r.prototype.name)},websocket}var hasRequiredTransports;function requireTransports(){if(hasRequiredTransports)return transports;hasRequiredTransports=1;var o=requireXmlhttprequest_browser(),t=requirePollingXhr(),s=requirePollingJsonp(),e=requireWebsocket();transports.polling=p,transports.websocket=e;function p(n){var d,c=!1,u=!1,r=n.jsonp!==!1;if(typeof location<"u"){var i=location.protocol==="https:",a=location.port;a||(a=i?443:80),c=n.hostname!==location.hostname||a!==n.port,u=n.secure!==i}if(n.xdomain=c,n.xscheme=u,d=new o(n),"open"in d&&!n.forceJSONP)return new t(n);if(!r)throw new Error("JSONP disabled");return new s(n)}return transports}var indexof,hasRequiredIndexof;function requireIndexof(){if(hasRequiredIndexof)return indexof;hasRequiredIndexof=1;var o=[].indexOf;return indexof=function(t,s){if(o)return t.indexOf(s);for(var e=0;e<t.length;++e)if(t[e]===s)return e;return-1},indexof}var socket$1,hasRequiredSocket$1;function requireSocket$1(){if(hasRequiredSocket$1)return socket$1;hasRequiredSocket$1=1;var o=requireTransports(),t=requireComponentEmitter(),s=requireBrowser$1()("engine.io-client:socket"),e=requireIndexof(),p=requireBrowser$2(),n=requireParseuri(),d=requireParseqs();socket$1=c;function c(r,i){if(!(this instanceof c))return new c(r,i);i=i||{},r&&typeof r=="object"&&(i=r,r=null),r?(r=n(r),i.hostname=r.host,i.secure=r.protocol==="https"||r.protocol==="wss",i.port=r.port,r.query&&(i.query=r.query)):i.host&&(i.hostname=n(i.host).host),this.secure=i.secure!=null?i.secure:typeof location<"u"&&location.protocol==="https:",i.hostname&&!i.port&&(i.port=this.secure?"443":"80"),this.agent=i.agent||!1,this.hostname=i.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=i.port||(typeof location<"u"&&location.port?location.port:this.secure?443:80),this.query=i.query||{},typeof this.query=="string"&&(this.query=d.decode(this.query)),this.upgrade=i.upgrade!==!1,this.path=(i.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!i.forceJSONP,this.jsonp=i.jsonp!==!1,this.forceBase64=!!i.forceBase64,this.enablesXDR=!!i.enablesXDR,this.withCredentials=i.withCredentials!==!1,this.timestampParam=i.timestampParam||"t",this.timestampRequests=i.timestampRequests,this.transports=i.transports||["polling","websocket"],this.transportOptions=i.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=i.policyPort||843,this.rememberUpgrade=i.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=i.onlyBinaryUpgrades,this.perMessageDeflate=i.perMessageDeflate!==!1?i.perMessageDeflate||{}:!1,this.perMessageDeflate===!0&&(this.perMessageDeflate={}),this.perMessageDeflate&&this.perMessageDeflate.threshold==null&&(this.perMessageDeflate.threshold=1024),this.pfx=i.pfx||void 0,this.key=i.key||void 0,this.passphrase=i.passphrase||void 0,this.cert=i.cert||void 0,this.ca=i.ca||void 0,this.ciphers=i.ciphers||void 0,this.rejectUnauthorized=i.rejectUnauthorized===void 0?!0:i.rejectUnauthorized,this.forceNode=!!i.forceNode,this.isReactNative=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",(typeof self>"u"||this.isReactNative)&&(i.extraHeaders&&Object.keys(i.extraHeaders).length>0&&(this.extraHeaders=i.extraHeaders),i.localAddress&&(this.localAddress=i.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}c.priorWebsocketSuccess=!1,t(c.prototype),c.protocol=p.protocol,c.Socket=c,c.Transport=requireTransport(),c.transports=requireTransports(),c.parser=requireBrowser$2(),c.prototype.createTransport=function(r){s('creating transport "%s"',r);var i=u(this.query);i.EIO=p.protocol,i.transport=r;var a=this.transportOptions[r]||{};this.id&&(i.sid=this.id);var l=new o[r]({query:i,socket:this,agent:a.agent||this.agent,hostname:a.hostname||this.hostname,port:a.port||this.port,secure:a.secure||this.secure,path:a.path||this.path,forceJSONP:a.forceJSONP||this.forceJSONP,jsonp:a.jsonp||this.jsonp,forceBase64:a.forceBase64||this.forceBase64,enablesXDR:a.enablesXDR||this.enablesXDR,withCredentials:a.withCredentials||this.withCredentials,timestampRequests:a.timestampRequests||this.timestampRequests,timestampParam:a.timestampParam||this.timestampParam,policyPort:a.policyPort||this.policyPort,pfx:a.pfx||this.pfx,key:a.key||this.key,passphrase:a.passphrase||this.passphrase,cert:a.cert||this.cert,ca:a.ca||this.ca,ciphers:a.ciphers||this.ciphers,rejectUnauthorized:a.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:a.perMessageDeflate||this.perMessageDeflate,extraHeaders:a.extraHeaders||this.extraHeaders,forceNode:a.forceNode||this.forceNode,localAddress:a.localAddress||this.localAddress,requestTimeout:a.requestTimeout||this.requestTimeout,protocols:a.protocols||void 0,isReactNative:this.isReactNative});return l};function u(r){var i={};for(var a in r)r.hasOwnProperty(a)&&(i[a]=r[a]);return i}return c.prototype.open=function(){var r;if(this.rememberUpgrade&&c.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)r="websocket";else if(this.transports.length===0){var i=this;setTimeout(function(){i.emit("error","No transports available")},0);return}else r=this.transports[0];this.readyState="opening";try{r=this.createTransport(r)}catch{this.transports.shift(),this.open();return}r.open(),this.setTransport(r)},c.prototype.setTransport=function(r){s("setting transport %s",r.name);var i=this;this.transport&&(s("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=r,r.on("drain",function(){i.onDrain()}).on("packet",function(a){i.onPacket(a)}).on("error",function(a){i.onError(a)}).on("close",function(){i.onClose("transport close")})},c.prototype.probe=function(r){s('probing transport "%s"',r);var i=this.createTransport(r,{probe:1}),a=!1,l=this;c.priorWebsocketSuccess=!1;function h(){if(l.onlyBinaryUpgrades){var b=!this.supportsBinary&&l.transport.supportsBinary;a=a||b}a||(s('probe transport "%s" opened',r),i.send([{type:"ping",data:"probe"}]),i.once("packet",function(w){if(!a)if(w.type==="pong"&&w.data==="probe"){if(s('probe transport "%s" pong',r),l.upgrading=!0,l.emit("upgrading",i),!i)return;c.priorWebsocketSuccess=i.name==="websocket",s('pausing current transport "%s"',l.transport.name),l.transport.pause(function(){a||l.readyState!=="closed"&&(s("changing transport and sending upgrade packet"),C(),l.setTransport(i),i.send([{type:"upgrade"}]),l.emit("upgrade",i),i=null,l.upgrading=!1,l.flush())})}else{s('probe transport "%s" failed',r);var _=new Error("probe error");_.transport=i.name,l.emit("upgradeError",_)}}))}function v(){a||(a=!0,C(),i.close(),i=null)}function g(b){var w=new Error("probe error: "+b);w.transport=i.name,v(),s('probe transport "%s" failed because of error: %s',r,b),l.emit("upgradeError",w)}function y(){g("transport closed")}function m(){g("socket closed")}function f(b){i&&b.name!==i.name&&(s('"%s" works - aborting "%s"',b.name,i.name),v())}function C(){i.removeListener("open",h),i.removeListener("error",g),i.removeListener("close",y),l.removeListener("close",m),l.removeListener("upgrading",f)}i.once("open",h),i.once("error",g),i.once("close",y),this.once("close",m),this.once("upgrading",f),i.open()},c.prototype.onOpen=function(){if(s("socket open"),this.readyState="open",c.priorWebsocketSuccess=this.transport.name==="websocket",this.emit("open"),this.flush(),this.readyState==="open"&&this.upgrade&&this.transport.pause){s("starting upgrade probes");for(var r=0,i=this.upgrades.length;r<i;r++)this.probe(this.upgrades[r])}},c.prototype.onPacket=function(r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(s('socket receive: type "%s", data "%s"',r.type,r.data),this.emit("packet",r),this.emit("heartbeat"),r.type){case"open":this.onHandshake(JSON.parse(r.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var i=new Error("server error");i.code=r.data,this.onError(i);break;case"message":this.emit("data",r.data),this.emit("message",r.data);break}else s('packet received with socket readyState "%s"',this.readyState)},c.prototype.onHandshake=function(r){this.emit("handshake",r),this.id=r.sid,this.transport.query.sid=r.sid,this.upgrades=this.filterUpgrades(r.upgrades),this.pingInterval=r.pingInterval,this.pingTimeout=r.pingTimeout,this.onOpen(),this.readyState!=="closed"&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},c.prototype.onHeartbeat=function(r){clearTimeout(this.pingTimeoutTimer);var i=this;i.pingTimeoutTimer=setTimeout(function(){i.readyState!=="closed"&&i.onClose("ping timeout")},r||i.pingInterval+i.pingTimeout)},c.prototype.setPing=function(){var r=this;clearTimeout(r.pingIntervalTimer),r.pingIntervalTimer=setTimeout(function(){s("writing ping packet - expecting pong within %sms",r.pingTimeout),r.ping(),r.onHeartbeat(r.pingTimeout)},r.pingInterval)},c.prototype.ping=function(){var r=this;this.sendPacket("ping",function(){r.emit("ping")})},c.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emit("drain"):this.flush()},c.prototype.flush=function(){this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(s("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},c.prototype.write=c.prototype.send=function(r,i,a){return this.sendPacket("message",r,i,a),this},c.prototype.sendPacket=function(r,i,a,l){if(typeof i=="function"&&(l=i,i=void 0),typeof a=="function"&&(l=a,a=null),!(this.readyState==="closing"||this.readyState==="closed")){a=a||{},a.compress=a.compress!==!1;var h={type:r,data:i,options:a};this.emit("packetCreate",h),this.writeBuffer.push(h),l&&this.once("flush",l),this.flush()}},c.prototype.close=function(){if(this.readyState==="opening"||this.readyState==="open"){this.readyState="closing";var r=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?l():i()}):this.upgrading?l():i()}function i(){r.onClose("forced close"),s("socket closing - telling transport to close"),r.transport.close()}function a(){r.removeListener("upgrade",a),r.removeListener("upgradeError",a),i()}function l(){r.once("upgrade",a),r.once("upgradeError",a)}return this},c.prototype.onError=function(r){s("socket error %j",r),c.priorWebsocketSuccess=!1,this.emit("error",r),this.onClose("transport error",r)},c.prototype.onClose=function(r,i){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){s('socket close with reason: "%s"',r);var a=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",r,i),a.writeBuffer=[],a.prevBufferLen=0}},c.prototype.filterUpgrades=function(r){for(var i=[],a=0,l=r.length;a<l;a++)~e(this.transports,r[a])&&i.push(r[a]);return i},socket$1}var hasRequiredLib$1;function requireLib$1(){return hasRequiredLib$1||(hasRequiredLib$1=1,lib.exports=requireSocket$1(),lib.exports.parser=requireBrowser$2()),lib.exports}var socket={exports:{}},toArray_1,hasRequiredToArray;function requireToArray(){if(hasRequiredToArray)return toArray_1;hasRequiredToArray=1,toArray_1=o;function o(t,s){var e=[];s=s||0;for(var p=s||0;p<t.length;p++)e[p-s]=t[p];return e}return toArray_1}var on_1,hasRequiredOn;function requireOn(){if(hasRequiredOn)return on_1;hasRequiredOn=1,on_1=o;function o(t,s,e){return t.on(s,e),{destroy:function(){t.removeListener(s,e)}}}return on_1}var componentBind,hasRequiredComponentBind;function requireComponentBind(){if(hasRequiredComponentBind)return componentBind;hasRequiredComponentBind=1;var o=[].slice;return componentBind=function(t,s){if(typeof s=="string"&&(s=t[s]),typeof s!="function")throw new Error("bind() requires a function");var e=o.call(arguments,2);return function(){return s.apply(t,e.concat(o.call(arguments)))}},componentBind}var hasRequiredSocket;function requireSocket(){return hasRequiredSocket||(hasRequiredSocket=1,function(o,t){var s=requireSocket_ioParser(),e=requireComponentEmitter(),p=requireToArray(),n=requireOn(),d=requireComponentBind(),c=requireBrowser$4()("socket.io-client:socket"),u=requireParseqs(),r=requireHasBinary2();o.exports=l;var i={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},a=e.prototype.emit;function l(h,v,g){this.io=h,this.nsp=v,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},g&&g.query&&(this.query=g.query),this.io.autoConnect&&this.open()}e(l.prototype),l.prototype.subEvents=function(){if(!this.subs){var h=this.io;this.subs=[n(h,"open",d(this,"onopen")),n(h,"packet",d(this,"onpacket")),n(h,"close",d(this,"onclose"))]}},l.prototype.open=l.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.reconnecting||this.io.open(),this.io.readyState==="open"&&this.onopen(),this.emit("connecting"),this)},l.prototype.send=function(){var h=p(arguments);return h.unshift("message"),this.emit.apply(this,h),this},l.prototype.emit=function(h){if(i.hasOwnProperty(h))return a.apply(this,arguments),this;var v=p(arguments),g={type:(this.flags.binary!==void 0?this.flags.binary:r(v))?s.BINARY_EVENT:s.EVENT,data:v};return g.options={},g.options.compress=!this.flags||this.flags.compress!==!1,typeof v[v.length-1]=="function"&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=v.pop(),g.id=this.ids++),this.connected?this.packet(g):this.sendBuffer.push(g),this.flags={},this},l.prototype.packet=function(h){h.nsp=this.nsp,this.io.packet(h)},l.prototype.onopen=function(){if(c("transport is open - connecting"),this.nsp!=="/")if(this.query){var h=typeof this.query=="object"?u.encode(this.query):this.query;c("sending connect packet with query %s",h),this.packet({type:s.CONNECT,query:h})}else this.packet({type:s.CONNECT})},l.prototype.onclose=function(h){c("close (%s)",h),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",h)},l.prototype.onpacket=function(h){var v=h.nsp===this.nsp,g=h.type===s.ERROR&&h.nsp==="/";if(!(!v&&!g))switch(h.type){case s.CONNECT:this.onconnect();break;case s.EVENT:this.onevent(h);break;case s.BINARY_EVENT:this.onevent(h);break;case s.ACK:this.onack(h);break;case s.BINARY_ACK:this.onack(h);break;case s.DISCONNECT:this.ondisconnect();break;case s.ERROR:this.emit("error",h.data);break}},l.prototype.onevent=function(h){var v=h.data||[];c("emitting event %j",v),h.id!=null&&(c("attaching ack callback to event"),v.push(this.ack(h.id))),this.connected?a.apply(this,v):this.receiveBuffer.push(v)},l.prototype.ack=function(h){var v=this,g=!1;return function(){if(!g){g=!0;var y=p(arguments);c("sending ack %j",y),v.packet({type:r(y)?s.BINARY_ACK:s.ACK,id:h,data:y})}}},l.prototype.onack=function(h){var v=this.acks[h.id];typeof v=="function"?(c("calling ack %s with %j",h.id,h.data),v.apply(this,h.data),delete this.acks[h.id]):c("bad ack %s",h.id)},l.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emit("connect")},l.prototype.emitBuffered=function(){var h;for(h=0;h<this.receiveBuffer.length;h++)a.apply(this,this.receiveBuffer[h]);for(this.receiveBuffer=[],h=0;h<this.sendBuffer.length;h++)this.packet(this.sendBuffer[h]);this.sendBuffer=[]},l.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},l.prototype.destroy=function(){if(this.subs){for(var h=0;h<this.subs.length;h++)this.subs[h].destroy();this.subs=null}this.io.destroy(this)},l.prototype.close=l.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:s.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},l.prototype.compress=function(h){return this.flags.compress=h,this},l.prototype.binary=function(h){return this.flags.binary=h,this}}(socket)),socket.exports}var backo2,hasRequiredBacko2;function requireBacko2(){if(hasRequiredBacko2)return backo2;hasRequiredBacko2=1,backo2=o;function o(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}return o.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var s=Math.random(),e=Math.floor(s*this.jitter*t);t=Math.floor(s*10)&1?t+e:t-e}return Math.min(t,this.max)|0},o.prototype.reset=function(){this.attempts=0},o.prototype.setMin=function(t){this.ms=t},o.prototype.setMax=function(t){this.max=t},o.prototype.setJitter=function(t){this.jitter=t},backo2}var manager,hasRequiredManager$2;function requireManager$2(){if(hasRequiredManager$2)return manager;hasRequiredManager$2=1;var o=requireLib$1(),t=requireSocket(),s=requireComponentEmitter(),e=requireSocket_ioParser(),p=requireOn(),n=requireComponentBind(),d=requireBrowser$4()("socket.io-client:manager"),c=requireIndexof(),u=requireBacko2(),r=Object.prototype.hasOwnProperty;manager=i;function i(a,l){if(!(this instanceof i))return new i(a,l);a&&typeof a=="object"&&(l=a,a=void 0),l=l||{},l.path=l.path||"/socket.io",this.nsps={},this.subs=[],this.opts=l,this.reconnection(l.reconnection!==!1),this.reconnectionAttempts(l.reconnectionAttempts||1/0),this.reconnectionDelay(l.reconnectionDelay||1e3),this.reconnectionDelayMax(l.reconnectionDelayMax||5e3),this.randomizationFactor(l.randomizationFactor||.5),this.backoff=new u({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(l.timeout==null?2e4:l.timeout),this.readyState="closed",this.uri=a,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var h=l.parser||e;this.encoder=new h.Encoder,this.decoder=new h.Decoder,this.autoConnect=l.autoConnect!==!1,this.autoConnect&&this.open()}return i.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var a in this.nsps)r.call(this.nsps,a)&&this.nsps[a].emit.apply(this.nsps[a],arguments)},i.prototype.updateSocketIds=function(){for(var a in this.nsps)r.call(this.nsps,a)&&(this.nsps[a].id=this.generateId(a))},i.prototype.generateId=function(a){return(a==="/"?"":a+"#")+this.engine.id},s(i.prototype),i.prototype.reconnection=function(a){return arguments.length?(this._reconnection=!!a,this):this._reconnection},i.prototype.reconnectionAttempts=function(a){return arguments.length?(this._reconnectionAttempts=a,this):this._reconnectionAttempts},i.prototype.reconnectionDelay=function(a){return arguments.length?(this._reconnectionDelay=a,this.backoff&&this.backoff.setMin(a),this):this._reconnectionDelay},i.prototype.randomizationFactor=function(a){return arguments.length?(this._randomizationFactor=a,this.backoff&&this.backoff.setJitter(a),this):this._randomizationFactor},i.prototype.reconnectionDelayMax=function(a){return arguments.length?(this._reconnectionDelayMax=a,this.backoff&&this.backoff.setMax(a),this):this._reconnectionDelayMax},i.prototype.timeout=function(a){return arguments.length?(this._timeout=a,this):this._timeout},i.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()},i.prototype.open=i.prototype.connect=function(a,l){if(d("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;d("opening %s",this.uri),this.engine=o(this.uri,this.opts);var h=this.engine,v=this;this.readyState="opening",this.skipReconnect=!1;var g=p(h,"open",function(){v.onopen(),a&&a()}),y=p(h,"error",function(C){if(d("connect_error"),v.cleanup(),v.readyState="closed",v.emitAll("connect_error",C),a){var b=new Error("Connection error");b.data=C,a(b)}else v.maybeReconnectOnOpen()});if(this._timeout!==!1){var m=this._timeout;d("connect attempt will timeout after %d",m),m===0&&g.destroy();var f=setTimeout(function(){d("connect attempt timed out after %d",m),g.destroy(),h.close(),h.emit("error","timeout"),v.emitAll("connect_timeout",m)},m);this.subs.push({destroy:function(){clearTimeout(f)}})}return this.subs.push(g),this.subs.push(y),this},i.prototype.onopen=function(){d("open"),this.cleanup(),this.readyState="open",this.emit("open");var a=this.engine;this.subs.push(p(a,"data",n(this,"ondata"))),this.subs.push(p(a,"ping",n(this,"onping"))),this.subs.push(p(a,"pong",n(this,"onpong"))),this.subs.push(p(a,"error",n(this,"onerror"))),this.subs.push(p(a,"close",n(this,"onclose"))),this.subs.push(p(this.decoder,"decoded",n(this,"ondecoded")))},i.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},i.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},i.prototype.ondata=function(a){this.decoder.add(a)},i.prototype.ondecoded=function(a){this.emit("packet",a)},i.prototype.onerror=function(a){d("error",a),this.emitAll("error",a)},i.prototype.socket=function(a,l){var h=this.nsps[a];if(!h){h=new t(this,a,l),this.nsps[a]=h;var v=this;h.on("connecting",g),h.on("connect",function(){h.id=v.generateId(a)}),this.autoConnect&&g()}function g(){~c(v.connecting,h)||v.connecting.push(h)}return h},i.prototype.destroy=function(a){var l=c(this.connecting,a);~l&&this.connecting.splice(l,1),!this.connecting.length&&this.close()},i.prototype.packet=function(a){d("writing packet %j",a);var l=this;a.query&&a.type===0&&(a.nsp+="?"+a.query),l.encoding?l.packetBuffer.push(a):(l.encoding=!0,this.encoder.encode(a,function(h){for(var v=0;v<h.length;v++)l.engine.write(h[v],a.options);l.encoding=!1,l.processPacketQueue()}))},i.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var a=this.packetBuffer.shift();this.packet(a)}},i.prototype.cleanup=function(){d("cleanup");for(var a=this.subs.length,l=0;l<a;l++){var h=this.subs.shift();h.destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},i.prototype.close=i.prototype.disconnect=function(){d("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,this.readyState==="opening"&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},i.prototype.onclose=function(a){d("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",a),this._reconnection&&!this.skipReconnect&&this.reconnect()},i.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var a=this;if(this.backoff.attempts>=this._reconnectionAttempts)d("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var l=this.backoff.duration();d("will wait %dms before reconnect attempt",l),this.reconnecting=!0;var h=setTimeout(function(){a.skipReconnect||(d("attempting reconnect"),a.emitAll("reconnect_attempt",a.backoff.attempts),a.emitAll("reconnecting",a.backoff.attempts),!a.skipReconnect&&a.open(function(v){v?(d("reconnect attempt error"),a.reconnecting=!1,a.reconnect(),a.emitAll("reconnect_error",v.data)):(d("reconnect success"),a.onreconnect())}))},l);this.subs.push({destroy:function(){clearTimeout(h)}})}},i.prototype.onreconnect=function(){var a=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",a)},manager}var hasRequiredLib;function requireLib(){return hasRequiredLib||(hasRequiredLib=1,function(o,t){var s=requireUrl(),e=requireSocket_ioParser(),p=requireManager$2(),n=requireBrowser$4()("socket.io-client");o.exports=t=c;var d=t.managers={};function c(u,r){typeof u=="object"&&(r=u,u=void 0),r=r||{};var i=s(u),a=i.source,l=i.id,h=i.path,v=d[l]&&h in d[l].nsps,g=r.forceNew||r["force new connection"]||r.multiplex===!1||v,y;return g?(n("ignoring socket cache for %s",a),y=p(a,r)):(d[l]||(n("new io instance for %s",a),d[l]=p(a,r)),y=d[l]),i.query&&!r.query&&(r.query=i.query),y.socket(i.path,r)}t.protocol=e.protocol,t.connect=c,t.Manager=requireManager$2(),t.Socket=requireSocket()}(lib$1,lib$1.exports)),lib$1.exports}var APIErrorHomeyOffline_1,hasRequiredAPIErrorHomeyOffline;function requireAPIErrorHomeyOffline(){if(hasRequiredAPIErrorHomeyOffline)return APIErrorHomeyOffline_1;hasRequiredAPIErrorHomeyOffline=1;const o=APIError_1;class t extends o{constructor(e){e instanceof Error?super(`Homey Offline (${e.message||e.toString()})`,500):super("Homey Offline",500)}}return APIErrorHomeyOffline_1=t,APIErrorHomeyOffline_1}var HomeyAPIError_1,hasRequiredHomeyAPIError;function requireHomeyAPIError(){if(hasRequiredHomeyAPIError)return HomeyAPIError_1;hasRequiredHomeyAPIError=1;const o=APIError_1;class t extends o{constructor({error:e,error_description:p=null,stack:n=null},d){super(p||e,d),this.description=p,this.stack=n}}return HomeyAPIError_1=t,HomeyAPIError_1}var EventEmitter_1,hasRequiredEventEmitter;function requireEventEmitter(){if(hasRequiredEventEmitter)return EventEmitter_1;hasRequiredEventEmitter=1;class o{constructor(){Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}emit(s,...e){const p=this.__listeners[s];return Array.isArray(p)&&p.forEach(n=>{n(...e)}),this}addListener(s,e){return this.on(s,e)}on(s,e){return this.__listeners[s]=this.__listeners[s]||[],this.__listeners[s].push(e),this}once(s,e){const p=(...n)=>{this.__listeners[s]=this.__listeners[s].filter(d=>d!==p),e(...n)};return this.__listeners[s]=this.__listeners[s]||[],this.__listeners[s].push(p),this}off(s,e){return this.__listeners[s]=this.__listeners[s].filter(p=>p!==e),this}removeListener(s,e){return this.off(s,e)}removeAllListeners(s){return this.__listeners[s]=[],this}}return EventEmitter_1=o,EventEmitter_1}var Item_1,hasRequiredItem;function requireItem(){if(hasRequiredItem)return Item_1;hasRequiredItem=1;const o=requireEventEmitter();class t extends o{constructor({id:e,homey:p,manager:n,properties:d}){super(),Object.defineProperty(this,"__id",{value:e,enumerable:!0,writable:!1}),Object.defineProperty(this,"__homey",{value:p,enumerable:!1,writable:!1}),Object.defineProperty(this,"__manager",{value:n,enumerable:!1,writable:!1}),Object.defineProperty(this,"__connected",{value:!1,enumerable:!1,writable:!0});for(const[c,u]of Object.entries(d))c!=="id"&&Object.defineProperty(this,c,{value:u,enumerable:!0,writable:!0})}get id(){return this.__id}get uri(){return`homey:${this.constructor.ID}:${this.id}`}get manager(){return this.__manager}get homey(){return this.__homey}__debug(...e){this.manager.__debug(`[${this.constructor.name}:${this.id}]`,...e)}__update(e){for(const[p,n]of Object.entries(e))p!=="id"&&(this[p]=n);this.emit("update",e)}__delete(){this.destroy(),this.emit("delete")}async connect(){this.__debug("connect");try{await Promise.resolve(),await this.__disconnectPromise}catch{}this.__connectPromise=Promise.resolve().then(async()=>{this.io||(this.io=this.homey.subscribe(this.uri,{onConnect:()=>{this.__debug("onConnect"),this.__connected=!0,this.onConnect()},onDisconnect:()=>{this.__debug("onDisconnect"),this.__connected=!1,this.onDisconnect()},onReconnect:()=>{this.__debug("onDisconnect"),this.onReconnect()},onEvent:(e,p)=>{this.__debug("onEvent",e,p),this.emit(e,p)}})),await this.io}),this.__connectPromise.catch(()=>{}).finally(()=>{delete this.__connectPromise}),await this.__connectPromise}async disconnect(){this.__debug("disconnect");try{await this.__connectPromise}catch{}this.__disconnectPromise=Promise.resolve().then(async()=>{this.__connected=!1,this.io&&this.io.then(e=>e.unsubscribe()).catch(e=>this.__debug("Error Disconnecting:",e))}),this.__disconnectPromise.catch(()=>{}).finally(()=>{delete this.__disconnectPromise,delete this.io}),await this.__disconnectPromise}onConnect(){}onReconnect(){}onDisconnect(){}destroy(){this.removeAllListeners(),this.disconnect().catch(()=>{})}static transformGet(e){return e}static transformSet(e){return e}}return E(t,"ID",null),Item_1=t,Item_1}var Manager_1$1,hasRequiredManager$1;function requireManager$1(){if(hasRequiredManager$1)return Manager_1$1;hasRequiredManager$1=1;const EventEmitter=requireEventEmitter(),Util=Util_1,HomeyAPIError=requireHomeyAPIError();requireItem();class Manager extends EventEmitter{constructor({homey,items,operations}){super(),Object.defineProperty(this,"__homey",{value:homey,enumerable:!1,writable:!1}),Object.defineProperty(this,"items",{value:Object.entries(items).reduce((obj,[itemName,item])=>{const ItemClass=this.constructor.CRUD[itemName]?this.constructor.CRUD[itemName]:eval(`(class ${itemName} extends Item {})`);return ItemClass.ID=item.id,obj[item.id]=ItemClass,obj},{}),enumerable:!1,writable:!1}),Object.defineProperty(this,"__connected",{value:!1,enumerable:!1,writable:!0}),Object.defineProperty(this,"__cache",{value:Object.values(items).reduce((o,t)=>({...o,[t.id]:{}}),{}),enumerable:!1,writable:!1}),Object.defineProperty(this,"__cacheAllComplete",{value:Object.values(items).reduce((o,t)=>({...o,[t.id]:!1}),{}),enumerable:!1,writable:!1});for(const[o,t]of Object.entries(operations))Object.defineProperty(this,this[o]?`__super__${o}`:o,{value:async({$validate:s=!0,$cache:e=!0,$timeout:p=t.timeout??5e3,$socket:n=t.socket??!0,$body:d={},$query:c={},$headers:u={},...r}={})=>{let{path:i}=t,a={...d};const l={...c},h={...u};if(t.parameters)for(const[y,m]of Object.entries(t.parameters)){const f=r[y];if(s){if(m.required===!0&&typeof f>"u")throw new Error(`Missing Parameter: ${y}`);if(typeof f<"u"){if(m.type==="string"&&typeof f!="string")throw new Error(`Invalid Parameter Type: ${y}. Got: ${typeof f}. Expected: string`);if(m.type==="number"&&typeof f!="number")throw new Error(`Invalid Parameter Type: ${y}. Got: ${typeof f}. Expected: number`);if(m.type==="boolean"&&typeof f!="boolean")throw new Error(`Invalid Parameter Type: ${y}. Got: ${typeof f}. Expected: boolean`);if(m.type==="object"&&typeof f!="object")throw new Error(`Invalid Parameter Type: ${y}. Got: ${typeof f}. Expected: object`);if(m.type==="array"&&!Array.isArray(f))throw new Error(`Invalid Parameter Type: ${y}. Got: ${typeof f}. Expected: array`);Array.isArray(m.type)}}if(typeof f<"u")switch(m.in){case"path":{if(typeof f!="string")throw new Error(`Invalid Parameter Type: ${y}. Got: ${typeof f}. Expected: string`);i=i.replace(`:${y}`,f);break}case"body":{m.root?a=f:a[y]=f;break}case"query":{if(typeof f!="string")throw new Error(`Invalid Parameter Type: ${y}. Got: ${typeof f}. Expected: string`);l[y]=f;break}default:throw new Error(`Invalid 'in': ${m.in}`)}}if(Object.keys(l).length>0){const y=Object.entries(l).map(([m,f])=>`${m}=${encodeURIComponent(f)}`).join("&");i=`${i}?${y}`}let v;const g=Util.benchmark();if(this.isConnected()&&t.crud&&e===!0){const y=items[t.crud.item].id;switch(t.crud.type){case"getOne":{if(this.__cache[y][r.id])return this.__cache[y][r.id];break}case"getAll":{if(this.__cache[y]&&this.__cacheAllComplete[y])return this.__cache[y];break}}}if(this.homey.isConnected()&&n===!0?v=await Util.timeout(new Promise((y,m)=>{this.__debug(`IO ${o}`),this.homey.__ioNamespace.emit("api",{args:r,operation:o,uri:this.uri},(f,C)=>typeof f=="string"?(f=new HomeyAPIError({error:f},500),m(f)):typeof f=="object"&&f!==null?(f=new HomeyAPIError({stack:f.stack,error:f.error,error_description:f.error_description},f.statusCode||500),m(f)):y(C))}),p):v=await this.homey.call({$timeout:p,headers:h,body:a,path:`/api/manager/${this.constructor.ID}${i}`,method:t.method}),t.crud){const y=items[t.crud.item].id,m=this.items[y];switch(t.crud.type){case"getOne":{let f={...v};return f=m.transformGet(f),f=new m({id:f.id,homey:this.homey,manager:this,properties:{...f}}),this.isConnected()&&(this.__cache[y][f.id]=f),f}case"getAll":{const f={};for(let C of Object.values(v))C=m.transformGet(C),this.isConnected()&&this.__cache[y][C.id]?(f[C.id]=this.__cache[y][C.id],f[C.id].__update(C)):(f[C.id]=new m({id:C.id,homey:this.homey,manager:this,properties:{...C}}),this.isConnected()&&(this.__cache[y][C.id]=f[C.id]));if(this.__cache[y])for(const C of Object.values(this.__cache[y]))f[C.id]||delete this.__cache[y][C.id];return this.isConnected()&&(this.__cacheAllComplete[y]=!0),f}case"createOne":case"updateOne":{let f={...v};return f=m.transformGet(f),this.isConnected()&&this.__cache[y][f.id]?(f=this.__cache[y][f.id],f.__update(f)):(f=m.transformGet(f),f=new m({id:f.id,homey:this.homey,manager:this,properties:{...f}}),this.isConnected()&&(this.__cache[y][f.id]=f)),f}case"deleteOne":{this.isConnected()&&this.__cache[y][r.id]&&(this.__cache[y][r.id].destroy(),delete this.__cache[y][r.id]);return}}}return this.__debug(`${o} took ${g()}ms`),v}})}get homey(){return this.__homey}get uri(){return`homey:manager:${this.constructor.ID}`}__debug(...o){this.homey.__debug(`[${this.constructor.name}]`,...o)}isConnected(){return this.__connected===!0}async connect(){this.__debug("connect");try{await this.__disconnectPromise}catch{}this.__connectPromise=Promise.resolve().then(async()=>{this.io||(this.io=this.homey.subscribe(this.uri,{onConnect:()=>{this.__debug("onConnect"),this.__connected=!0},onDisconnect:o=>{this.__debug(`onDisconnect Reason:${o}`),this.__connected=!1;for(const t of Object.keys(this.__cache))this.__cache[t]={},this.__cacheAllComplete[t]=!1},onEvent:(o,t)=>{if(this.__debug("onEvent",o),o.endsWith(".create")||o.endsWith(".update")||o.endsWith(".delete")){const[s,e]=o.split("."),p=this.items[s];switch(e){case"create":{t=p.transformGet(t);const n=new p({id:t.id,homey:this.homey,manager:this,properties:{...t}});return this.__cache[s][t.id]=n,this.emit(o,n)}case"update":{if(t=p.transformGet(t),this.__cache[s][t.id]){const n=this.__cache[s][t.id];return n.__update(t),this.emit(o,n)}break}case"delete":{if(t=p.transformGet(t),this.__cache[s][t.id]){const n=this.__cache[s][t.id];return n.__delete(),delete this.__cache[s][n.id],this.emit(o,{id:n.id})}break}}}this.emit(o,t)}})),await this.io}),this.__connectPromise.catch(()=>{}).finally(()=>{delete this.__connectPromise}),await this.__connectPromise}async disconnect(){this.__debug("disconnect");try{await this.__connectPromise}catch{}this.__disconnectPromise=Promise.resolve().then(async()=>{this.__connected=!1,this.io&&(await this.io.then(o=>o.unsubscribe()).catch(o=>this.__debug("Error Disconnecting:",o)),delete this.io)}),this.__disconnectPromise.catch(()=>{}).finally(()=>{delete this.__disconnectPromise}),await this.__disconnectPromise}destroy(){for(const o of Object.keys(this.__cache))this.__cache[o]={};for(const o of Object.keys(this.__cacheAllComplete))this.__cacheAllComplete[o]=!1;this.removeAllListeners(),this.disconnect().catch(()=>{})}}return E(Manager,"ID",null),E(Manager,"CRUD",{}),Manager_1$1=Manager,Manager_1$1}var App_1,hasRequiredApp;function requireApp(){if(hasRequiredApp)return App_1;hasRequiredApp=1;const o=requireItem();class t extends o{async call({method:e,path:p,body:n}){if(typeof e!="string")throw new Error("Invalid Path");if(typeof p!="string")throw new Error("Invalid Path");return p.startsWith("/")||(p=`/${p}`),this.__debug(e,p),this.homey.call({method:e,path:`/api/app/${this.id}${p}`,body:n})}async get({path:e}){return this.call({path:e,method:"GET"})}async post({path:e,body:p}){return this.call({path:e,body:p,method:"POST"})}async put({path:e,body:p}){return this.call({path:e,body:p,method:"PUT"})}async delete({path:e}){return this.call({path:e,method:"DELETE"})}}return App_1=t,App_1}var ManagerApps_1,hasRequiredManagerApps;function requireManagerApps(){if(hasRequiredManagerApps)return ManagerApps_1;hasRequiredManagerApps=1;const o=requireManager$1(),t=requireApp(),e=class extends o{};let s=e;return E(s,"CRUD",{...D(e,e,"CRUD"),App:t}),ManagerApps_1=s,ManagerApps_1}var Driver_1$1,hasRequiredDriver$1;function requireDriver$1(){if(hasRequiredDriver$1)return Driver_1$1;hasRequiredDriver$1=1;const o=requireItem();class t extends o{}return Driver_1$1=t,Driver_1$1}var PairSession_1$1,hasRequiredPairSession$1;function requirePairSession$1(){if(hasRequiredPairSession$1)return PairSession_1$1;hasRequiredPairSession$1=1;const o=requireItem();class t extends o{}return PairSession_1$1=t,PairSession_1$1}var ManagerDrivers_1$1,hasRequiredManagerDrivers$1;function requireManagerDrivers$1(){if(hasRequiredManagerDrivers$1)return ManagerDrivers_1$1;hasRequiredManagerDrivers$1=1;const o=requireManager$1(),t=requireDriver$1(),s=requirePairSession$1(),p=class extends o{};let e=p;return E(e,"CRUD",{...D(p,p,"CRUD"),Driver:t,PairSession:s}),ManagerDrivers_1$1=e,ManagerDrivers_1$1}var Capability_1$1,hasRequiredCapability$1;function requireCapability$1(){if(hasRequiredCapability$1)return Capability_1$1;hasRequiredCapability$1=1;const o=requireItem();class t extends o{}return Capability_1$1=t,Capability_1$1}var DeviceCapability_1,hasRequiredDeviceCapability;function requireDeviceCapability(){if(hasRequiredDeviceCapability)return DeviceCapability_1;hasRequiredDeviceCapability=1;const o=Util_1,t=requireEventEmitter();class s extends t{constructor({id:p,device:n,listener:d}){super(),this.__onCapabilityValue=this.__onCapabilityValue.bind(this),this.__onDeviceDelete=this.__onDeviceDelete.bind(this),Object.defineProperty(this,"id",{value:p,enumerable:!0,writable:!1}),Object.defineProperty(this,"device",{value:n,enumerable:!1,writable:!1}),Object.defineProperty(this,"__listener",{value:d,enumerable:!1,writable:!1}),Object.defineProperty(this,"__transactionIds",{value:{},enumerable:!1,writable:!1}),Object.defineProperty(this,"__value",{value:n.capabilitiesObj&&n.capabilitiesObj[this.id]?n.capabilitiesObj[this.id].value:null,enumerable:!1,writable:!0}),Object.defineProperty(this,"__lastChanged",{value:n.capabilitiesObj&&n.capabilitiesObj[this.id]?n.capabilitiesObj[this.id].lastUpdated:null,enumerable:!1,writable:!0}),this.device.on("capability",this.__onCapabilityValue),this.device.on("delete",this.__onDeviceDelete)}__debug(...p){this.device.__debug(`[DeviceCapability:${this.id}]`,...p)}destroy(){this.emit("destroy"),this.device.off("capability",this.__onCapabilityValue),this.device.off("delete",this.__onDeviceDelete),this.removeAllListeners()}__onCapabilityValue({capabilityId:p,value:n,transactionId:d,transactionTime:c}){if(p!==this.id)return;if(this.__transactionIds[d]){delete this.__transactionIds[d];return}if(n===this.__value)return;this.__value=n,this.__lastChanged=new Date(c);const u=this.device.capabilitiesObj&&this.device.capabilitiesObj[this.id];u&&(u.value=n,u.lastUpdated=this.__lastChanged),this.__listener(n)}__onDeviceDelete(){this.destroy()}get value(){return typeof this.__value<"u"?this.__value:null}get lastChanged(){return this.__lastChanged instanceof Date?this.__lastChanged:typeof this.__lastChanged=="string"?new Date(this.__lastChanged):null}async setValue(p,n){const d=`homey-api-${o.uuid()}`,c=Date.now();this.__transactionIds[d]=c,await this.device.setCapabilityValue({value:p,opts:n,transactionId:d,transactionTime:c,capabilityId:this.id}),this.__value=p,this.__lastChanged=new Date;const u=this.device.capabilitiesObj&&this.device.capabilitiesObj[this.id];u&&(u.value=p,u.lastUpdated=this.__lastChanged.toISOString())}}return DeviceCapability_1=s,DeviceCapability_1}var Device_1$2,hasRequiredDevice$1;function requireDevice$1(){if(hasRequiredDevice$1)return Device_1$2;hasRequiredDevice$1=1;const o=Util_1,t=requireItem(),s=requireDeviceCapability();class e extends t{constructor(...n){super(...n),Object.defineProperty(this,"__capabilityInstances",{value:{},enumerable:!1,writable:!0})}makeCapabilityInstance(n,d){this.connect().catch(u=>{this.__debug(u)});const c=new s({listener:d,id:n,device:this});return c.once("destroy",()=>{this.__capabilityInstances[n]=this.__capabilityInstances[n]||[],this.__capabilityInstances[n]=this.__capabilityInstances[n].filter(u=>u!==c),this.__capabilityInstances[n].length===0&&delete this.__capabilityInstances[n],Object.keys(this.__capabilityInstances).length===0&&(this.__debug("No more Capability instances, disconnecting..."),this.disconnect().catch(u=>this.__debug(u)))}),this.__capabilityInstances[n]=this.__capabilityInstances[n]||[],this.__capabilityInstances[n].push(c),c}async setCapabilityValue(n,...d){return typeof n=="string"?this.setCapabilityValueLegacy(n,...d):this.__setCapabilityValue(n)}async __setCapabilityValue({capabilityId:n,value:d,opts:c,transactionId:u=`homey-api-${o.uuid()}`,transactionTime:r=Date.now()}){return this.manager.setCapabilityValue({deviceId:this.id,capabilityId:n,value:d,opts:c,transactionId:u,transactionTime:r})}async setCapabilityValueLegacy(n,d,c){return this.__setCapabilityValue({capabilityId:n,value:d,opts:c})}onReconnect(){Object.keys(this.__capabilityInstances).length>0&&this.manager.getDevice({id:this.id}).then(async n=>{Object.entries(this.__capabilityInstances).forEach(([d,c])=>{const u=n.capabilitiesObj&&typeof n.capabilitiesObj[d]<"u"?n.capabilitiesObj[d].value:null;c.__onCapabilityValue({capabilityId:d,value:u,transactionId:o.uuid()})})}).catch(n=>this.__debug(`Device[${this.id}].onReconnectError:`,n))}async getZone(){return this.homey.zones.getZone({id:this.zone})}async getDriver(){return this.homey.drivers.getDriver({id:this.driverId})}async getLogs(){const n=await this.homey.insights.getLogs();return Object.values(n).filter(d=>d.ownerUri===this.uri).reduce((d,c)=>({...d,[c.id]:c}),{})}async getFlows(){const n=await this.homey.flow.getFlows();return Object.values(n).filter(d=>!!(d.trigger&&d.trigger.id.startsWith(this.uri)||Array.isArray(d.conditions)&&d.conditions.some(c=>c.id.startsWith(this.uri))||Array.isArray(d.actions)&&d.actions.some(c=>c.id.startsWith(this.uri)))).reduce((d,c)=>({...d,[c.id]:c}),{})}async getAdvancedFlows(){const n=await this.homey.flow.getAdvancedFlows();return Object.values(n).filter(d=>Object.values(d.cards).filter(c=>["trigger","condition","action"].includes(c.type)).some(c=>!!c.id.startsWith(this.uri))).reduce((d,c)=>({...d,[c.id]:c}),{})}static transformGet(n){if(n=super.transformGet(n),delete n.driverUri,n.capabilitiesObj)for(const d of Object.values(n.capabilitiesObj))d.lastUpdated&&(d.lastUpdated=new Date(d.lastUpdated));return n}}return Device_1$2=e,Device_1$2}var ManagerDevices_1$1,hasRequiredManagerDevices$1;function requireManagerDevices$1(){if(hasRequiredManagerDevices$1)return ManagerDevices_1$1;hasRequiredManagerDevices$1=1;const o=requireManager$1(),t=requireCapability$1(),s=requireDevice$1(),p=class extends o{};let e=p;return E(e,"CRUD",{...D(p,p,"CRUD"),Capability:t,Device:s}),ManagerDevices_1$1=e,ManagerDevices_1$1}var Flow_1$1,hasRequiredFlow$1;function requireFlow$1(){if(hasRequiredFlow$1)return Flow_1$1;hasRequiredFlow$1=1;const o=requireItem();class t extends o{async isBroken(){const e=this.homey.flow;if(!e.isConnected())throw new Error("Flow.isBroken requires ManagerFlow to be connected.");const p=this.homey.flowtoken;if(!p.isConnected())throw new Error("Flow.isBroken requires ManagerFlowToken to be connected.");const n=[],d=async u=>{if(u.includes("|")){const r=await p.getFlowTokens();for(const i of Object.keys(r))n.push(i);u=u.replace("|",":")}if(!n.includes(u))throw new Error(`Missing Token: ${u}`)},c=async u=>{if(u.droptoken&&await d(u.droptoken),typeof u.args=="object"){for(const r of Object.values(u.args))if(typeof r=="string")for(const[i,a]of r.matchAll(/\[\[(.*?)\]\]/g))await d(a)}};if(this.trigger)try{await e.getFlowCardTriggers();const u=await this.manager.getFlowCardTrigger({id:this.trigger.id});if(await c(this.trigger),Array.isArray(u.tokens))for(const r of Object.keys(u.tokens))n.push(r)}catch(u){return this.__debug(u.message),!0}if(Array.isArray(this.conditions))for(const u of Object.values(this.conditions))try{await e.getFlowCardConditions();const r=await this.manager.getFlowCardCondition({id:u.id});await c(u)}catch(r){return this.__debug(r.message),!0}if(Array.isArray(this.actions))for(const u of Object.values(this.actions))try{await e.getFlowCardActions();const r=await this.manager.getFlowCardAction({id:u.id});await c(u)}catch(r){return this.__debug(r.message),!0}return!1}}return Flow_1$1=t,Flow_1$1}var AdvancedFlow_1$1,hasRequiredAdvancedFlow$1;function requireAdvancedFlow$1(){if(hasRequiredAdvancedFlow$1)return AdvancedFlow_1$1;hasRequiredAdvancedFlow$1=1;const o=requireItem();class t extends o{async isBroken(){const e=this.homey.flow;if(!e.isConnected())throw new Error("Flow.isBroken requires ManagerFlow to be connected.");const p=this.homey.flowtoken;if(!p.isConnected())throw new Error("Flow.isBroken requires ManagerFlowToken to be connected.");const n=[],d=async u=>{if(u.includes("|")){const r=await p.getFlowTokens();for(const i of Object.keys(r))n.push(i);u=u.replace("|",":")}if(!n.includes(u))throw new Error(`Missing Token: ${u}`)},c=async u=>{if(u.droptoken&&await d(u.droptoken),typeof u.args=="object"){for(const r of Object.values(u.args))if(typeof r=="string")for(const[i,a]of r.matchAll(/\[\[(.*?)\]\]/g))await d(a)}};for(const[u,r]of Object.entries(this.cards))switch(r.type){case"trigger":try{await e.getFlowCardTriggers();const i=await this.manager.getFlowCardTrigger({id:r.id});if(Array.isArray(i.tokens))for(const a of Object.values(i.tokens))n.push(`trigger::${u}::${a.id}`);break}catch(i){return this.__debug(i),!0}case"condition":try{await e.getFlowCardConditions();const i=await this.manager.getFlowCardCondition({id:r.id});n.push(`card::${u}::error`);break}catch(i){return this.__debug(i),!0}case"action":try{await e.getFlowCardActions();const i=await this.manager.getFlowCardAction({id:r.id});if(n.push(`card::${u}::error`),Array.isArray(i.tokens))for(const a of Object.values(i.tokens))n.push(`action::${u}::${a.id}`);break}catch(i){return this.__debug(i),!0}}for(const u of Object.values(this.cards))await c(u);return!1}}return AdvancedFlow_1$1=t,AdvancedFlow_1$1}var FlowCard_1,hasRequiredFlowCard;function requireFlowCard(){if(hasRequiredFlowCard)return FlowCard_1;hasRequiredFlowCard=1;const o=requireItem();class t extends o{static transformGet(e){return e=super.transformGet(e),delete e.ownerName,e}}return FlowCard_1=t,FlowCard_1}var FlowCardTrigger_1$1,hasRequiredFlowCardTrigger$1;function requireFlowCardTrigger$1(){if(hasRequiredFlowCardTrigger$1)return FlowCardTrigger_1$1;hasRequiredFlowCardTrigger$1=1;const o=requireFlowCard();class t extends o{}return FlowCardTrigger_1$1=t,FlowCardTrigger_1$1}var FlowCardCondition_1$1,hasRequiredFlowCardCondition$1;function requireFlowCardCondition$1(){if(hasRequiredFlowCardCondition$1)return FlowCardCondition_1$1;hasRequiredFlowCardCondition$1=1;const o=requireFlowCard();class t extends o{}return FlowCardCondition_1$1=t,FlowCardCondition_1$1}var FlowCardAction_1$1,hasRequiredFlowCardAction$1;function requireFlowCardAction$1(){if(hasRequiredFlowCardAction$1)return FlowCardAction_1$1;hasRequiredFlowCardAction$1=1;const o=requireFlowCard();class t extends o{}return FlowCardAction_1$1=t,FlowCardAction_1$1}var ManagerFlow_1$1,hasRequiredManagerFlow$1;function requireManagerFlow$1(){if(hasRequiredManagerFlow$1)return ManagerFlow_1$1;hasRequiredManagerFlow$1=1;const o=requireManager$1(),t=requireFlow$1(),s=requireAdvancedFlow$1(),e=requireFlowCardTrigger$1(),p=requireFlowCardCondition$1(),n=requireFlowCardAction$1(),c=class extends o{};let d=c;return E(d,"CRUD",{...D(c,c,"CRUD"),Flow:t,AdvancedFlow:s,FlowCardTrigger:e,FlowCardCondition:p,FlowCardAction:n}),ManagerFlow_1$1=d,ManagerFlow_1$1}var FlowToken_1$1,hasRequiredFlowToken$1;function requireFlowToken$1(){if(hasRequiredFlowToken$1)return FlowToken_1$1;hasRequiredFlowToken$1=1;const o=requireItem();class t extends o{static transformGet(e){return e=super.transformGet(e),e.uri&&(e.id=`${e.uri}:${e.id}`,delete e.uri),delete e.uriObj,delete e.ownerName,e}}return FlowToken_1$1=t,FlowToken_1$1}var ManagerFlowToken_1$1,hasRequiredManagerFlowToken$1;function requireManagerFlowToken$1(){if(hasRequiredManagerFlowToken$1)return ManagerFlowToken_1$1;hasRequiredManagerFlowToken$1=1;const o=requireManager$1(),t=requireFlowToken$1(),e=class extends o{};let s=e;return E(s,"CRUD",{...D(e,e,"CRUD"),FlowToken:t}),ManagerFlowToken_1$1=s,ManagerFlowToken_1$1}var Log_1$1,hasRequiredLog$1;function requireLog$1(){if(hasRequiredLog$1)return Log_1$1;hasRequiredLog$1=1;const o=requireItem();class t extends o{async getEntries(){return this.manager.getLogEntries({id:this.id})}static transformGet(e){return e=super.transformGet(e),delete e.ownerName,e}}return Log_1$1=t,Log_1$1}var ManagerInsights_1$1,hasRequiredManagerInsights$1;function requireManagerInsights$1(){if(hasRequiredManagerInsights$1)return ManagerInsights_1$1;hasRequiredManagerInsights$1=1;const o=requireManager$1(),t=requireLog$1(),e=class extends o{};let s=e;return E(s,"CRUD",{...D(e,e,"CRUD"),Log:t}),ManagerInsights_1$1=s,ManagerInsights_1$1}const managers$2={ManagerAlarms:{id:"alarms",idCamelCase:"alarms",private:!1,items:{Alarm:{id:"alarm",type:"id",schema:{type:"object",properties:{id:{type:"string",format:"uuid","x-homey-readonly":!0},name:{type:"string"},time:{type:"string"},enabled:{type:"boolean"},nextOccurance:{type:"string",format:"date-time","x-homey-readonly":!0},repetition:{type:"object",required:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],properties:{monday:{type:"boolean"},tuesday:{type:"boolean"},wednesday:{type:"boolean"},thursday:{type:"boolean"},friday:{type:"boolean"},saturday:{type:"boolean"},sunday:{type:"boolean"}}}},"x-realtime-bindings":{read:"getAlarm",create:"alarm.create",update:"alarm.update",delete:"alarm.delete"}}}},operations:{deleteAlarm:{method:"DELETE",path:"/alarm/:id",private:!1,scopes:["homey.alarm"],crud:{type:"deleteOne",item:"Alarm"},parameters:{id:{in:"path",required:!0,type:"string"}}},updateAlarm:{method:"PUT",path:"/alarm/:id",private:!1,scopes:["homey.alarm"],crud:{type:"updateOne",item:"Alarm"},parameters:{id:{in:"path",required:!0,type:"string"},alarm:{in:"body",root:!0,required:!0}}},createAlarm:{method:"POST",path:"/alarm",private:!1,scopes:["homey.alarm"],crud:{type:"createOne",item:"Alarm"},parameters:{alarm:{in:"body",root:!0,required:!0}}},getAlarm:{method:"GET",path:"/alarm/:id",private:!1,scopes:["homey.alarm.readonly"],crud:{type:"getOne",item:"Alarm"},parameters:{id:{in:"path",required:!0,type:"string"}}},getAlarms:{method:"GET",path:"/alarm",private:!1,scopes:["homey.alarm.readonly"],crud:{type:"getAll",item:"Alarm"},parameters:{}}}},ManagerApps:{id:"apps",idCamelCase:"apps",private:!1,items:{App:{id:"app",type:"id",schema:{type:"object",properties:{enabled:{"x-homey-readonly":!0,type:"boolean",default:!0},autoupdate:{type:"boolean",default:!0},id:{"x-homey-readonly":!0,type:"string"},sdk:{"x-homey-readonly":!0,type:"number",enum:[1,2,3]},name:{"x-homey-readonly":!0,type:"string"},origin:{"x-homey-updateable":!1,type:"string",enum:["appstore","devkit_run","devkit_install","unknown"]},channel:{"x-homey-updateable":!1,type:"string",enum:["stable","beta","alpha"]},version:{"x-homey-readonly":!0,type:"string"},compatibility:{"x-homey-readonly":!0,type:"string"},icon:{type:"string"},iconObj:{"x-homey-updateable":!1,type:"object",properties:{id:{type:"string"},url:{type:"string"}}},author:{"x-homey-readonly":!0,type:"object",properties:{name:{type:"string"},email:{type:"string"}}},permissions:{"x-homey-readonly":!0,type:"array",items:{type:"string"}},images:{"x-homey-readonly":!0,type:"object",properties:{small:{type:"string"},large:{type:"string"}}},session:{"x-homey-readonly":!0,type:"string"},ready:{"x-homey-readonly":!0,type:"boolean"},state:{"x-homey-readonly":!0,type:"string",enum:["stopped","stopping","starting","running"]},crashed:{"x-homey-readonly":!0,type:"boolean"},crashedMessage:{"x-homey-readonly":!0,type:"string"},exitCode:{"x-homey-readonly":!0,type:"number"},exitSignal:{"x-homey-readonly":!0,type:"string"},exitCount:{"x-homey-readonly":!0,type:"number"},settings:{"x-homey-readonly":!0,type:"boolean"},brandColor:{"x-homey-readonly":!0,type:"string"},hasDrivers:{"x-homey-readonly":!0,type:"boolean"},usage:{"x-homey-readonly":!0,type:"object",properties:{cpu:{type:"number"},mem:{type:"number"}}},updateAvailable:{type:"object",properties:{version:{type:"string"},permissions:{type:"array",items:{type:"string"}}}}},"x-realtime-bindings":{read:"getApp",create:"app.create",update:"app.update",delete:"app.delete"}}}},operations:{uninstallApp:{method:"DELETE",path:"/app/:id",private:!1,scopes:["homey.app"],parameters:{id:{in:"path",required:!0,type:"string"},purgeSettings:{in:"query",type:"string"}}},installFromAppStore:{method:"POST",path:"/store/",private:!1,scopes:["homey.app"],parameters:{channel:{in:"body",type:"string"},id:{in:"body",type:"string",required:!0}}},getAppLocales:{method:"GET",path:"/app/:id/locale",private:!1,scopes:["homey.app.readonly"],parameters:{id:{in:"path",required:!0,type:"string"}}},disableApp:{method:"PUT",path:"/app/:id/disable",private:!1,scopes:["homey.app"],parameters:{id:{in:"path",required:!0,type:"string"}}},enableApp:{method:"PUT",path:"/app/:id/enable",private:!1,scopes:["homey.app"],parameters:{id:{in:"path",required:!0,type:"string"}}},garbageCollectApp:{method:"POST",path:"/app/:id/gc",private:!1,scopes:["homey.app"],parameters:{id:{in:"path",required:!0,type:"string"}}},restartApp:{method:"POST",path:"/app/:id/restart",private:!1,scopes:["homey.app"],parameters:{id:{in:"path",required:!0,type:"string"}}},unsetAppSetting:{method:"DELETE",path:"/app/:id/setting/:name",private:!1,scopes:["homey.app.control"],parameters:{name:{in:"path",required:!0,type:"string"},id:{in:"path",required:!0,type:"string"}}},setAppSetting:{method:"PUT",path:"/app/:id/setting/:name",private:!1,scopes:["homey.app.control"],parameters:{name:{in:"path",required:!0,type:"string"},id:{in:"path",required:!0,type:"string"},value:{in:"body",required:!0}}},getAppSetting:{method:"GET",path:"/app/:id/setting/:name",private:!1,scopes:["homey.app.control"],parameters:{name:{in:"path",required:!0,type:"string"},id:{in:"path",required:!0,type:"string"}}},getAppSettings:{method:"GET",path:"/app/:id/setting",private:!1,scopes:["homey.app.control"],parameters:{id:{in:"path",required:!0,type:"string"}}},getAppStd:{method:"POST",path:"/app/:id/crashlog",private:!1,scopes:["homey.app.readonly"],parameters:{id:{in:"path",required:!0,type:"string"},message:{in:"body",type:"string"}}},updateApp:{method:"PUT",path:"/app/:id",private:!1,scopes:["homey.app"],crud:{type:"updateOne",item:"App"},parameters:{id:{in:"path",required:!0,type:"string"},app:{in:"body",root:!0,required:!0}}},getApp:{method:"GET",path:"/app/:id",private:!1,scopes:["homey.app.readonly"],crud:{type:"getOne",item:"App"},parameters:{id:{in:"path",required:!0,type:"string"}}},getApps:{method:"GET",path:"/app",private:!1,scopes:["homey.app.readonly"],crud:{type:"getAll",item:"App"},parameters:{}}}},ManagerAudio:{id:"audio",idCamelCase:"audio",private:!1,operations:{getOptionVolume:{method:"GET",path:"/option/volume",scopes:["SYSTEM"]},setOptionVolume:{method:"PUT",path:"/option/volume",scopes:["SYSTEM"],parameters:{value:{in:"body",type:"number",required:!0}}},unsetOptionVolume:{method:"DELETE",path:"/option/volume",scopes:["SYSTEM"]},playVolumeHint:{method:"POST",path:"/volume-hint/",private:!1,scopes:["homey.system"],parameters:{}}}},ManagerBackup:{id:"backup",idCamelCase:"backup",private:!1,operations:{getState:{method:"GET",path:"/state",scopes:["SYSTEM_READONLY"]},getOptionAutomaticBackupsEnabled:{method:"GET",path:"/option/automaticBackupsEnabled",scopes:["SYSTEM"]},setOptionAutomaticBackupsEnabled:{method:"PUT",path:"/option/automaticBackupsEnabled",scopes:["SYSTEM"],parameters:{value:{in:"body",type:"boolean",required:!0}}},unsetOptionAutomaticBackupsEnabled:{method:"DELETE",path:"/option/automaticBackupsEnabled",scopes:["SYSTEM"]},getOptionLastSuccessfulBackup:{method:"GET",path:"/option/lastSuccessfulBackup",scopes:["SYSTEM"]},setOptionLastSuccessfulBackup:{method:"PUT",path:"/option/lastSuccessfulBackup",scopes:[],parameters:{value:{in:"body",type:"string",required:!0}}},unsetOptionLastSuccessfulBackup:{method:"DELETE",path:"/option/lastSuccessfulBackup",scopes:[]},scheduleBackup:{method:"POST",path:"/backup/",private:!1,scopes:["homey.system"],parameters:{}}}},ManagerBLE:{id:"ble",idCamelCase:"ble",private:!1,operations:{getState:{method:"GET",path:"/state",scopes:["SYSTEM_READONLY"]},runCommand:{method:"POST",path:"/command",private:!1,scopes:["homey.system"],parameters:{opts:{in:"body",type:"object"},command:{in:"body",type:"string",required:!0}}}}},ManagerCloud:{id:"cloud",idCamelCase:"cloud",private:!1,operations:{getState:{method:"GET",path:"/state",scopes:["SYSTEM_READONLY"]}}},ManagerCoprocessor:{id:"coprocessor",idCamelCase:"coprocessor",private:!0,operations:{setConfig:{method:"PUT",path:"/:deviceId/config",private:!1,scopes:["homey.system"],parameters:{deviceId:{in:"path",type:"string"},config:{in:"body",type:"object",root:!0}}},setModulation:{method:"PUT",path:"/:deviceId/modulation",private:!1,scopes:["homey.system"],parameters:{deviceId:{in:"path",type:"string"},baudRate:{in:"body",type:"number"},channelSpacing:{in:"body",type:"number"},channelDeviation:{in:"body",type:"number"},carrier:{in:"body",type:"number"},type:{in:"body",type:"string"}}}}},ManagerDatabase:{id:"database",idCamelCase:"database",private:!1,operations:{optimize:{method:"POST",path:"/optimize",private:!1,scopes:["homey.system"],parameters:{}}}},ManagerDevices:{id:"devices",idCamelCase:"devices",private:!1,items:{Device:{id:"device",type:"id",schema:{type:"object",properties:{id:{"x-homey-readonly":!0,type:"string",format:"uuid"},name:{type:"string"},driverUri:{"x-homey-updateable":!1,type:"string"},driverId:{"x-homey-updateable":!1,type:"string"},zone:{type:"string",description:"The id of the device's zone."},data:{"x-homey-updateable":!1,type:"object"},icon:{type:"string"},iconObj:{"x-homey-updateable":!1,type:"object",properties:{id:{type:"string"},url:{type:"string"}}},iconOverride:{type:["string","null"]},settings:{"x-homey-updateable":!1,type:"object"},settingsObj:{"x-homey-updateable":!1,type:"boolean",description:"This property is true when there are settings, getable by the getDeviceSettingsObj method"},class:{"x-homey-updateable":!1,type:"string"},energy:{"x-homey-updateable":!1,type:"object",properties:{approximation:{type:"object",properties:{usageOn:{type:"number"},usageOff:{type:"number"},usageConstant:{type:"number"}}},cumulative:{type:"boolean"},batteries:{type:"array",items:{type:"string"}}}},energyObj:{"x-homey-updateable":!1,type:"object"},virtualClass:{type:["string","null"]},ui:{"x-homey-updateable":!1,type:"object",properties:{quickAction:{type:"string",description:"Optional capabilityId of the quick action"},components:{type:"array",items:{type:"object",properties:{id:{type:"string",description:"ID of the UI component"},capabilities:{type:"array",description:"An array of capabilityIds",items:{type:"string"}}}}}}},uiIndicator:{type:["string","null"]},capabilities:{"x-homey-updateable":!1,type:"array",items:{type:"string"}},capabilitiesObj:{"x-homey-updateable":!1,type:"object",additionalProperties:{type:"object",properties:{id:{type:"string"},uri:{type:"string"},title:{type:"string"},desc:{type:"string"},type:{type:"string",enum:["boolean","number","string","enum"]},getable:{type:"boolean"},setable:{type:"boolean"},chartType:{type:"string",enum:["line","area","stepLine","column","spline","splineArea","scatter"]},decimals:{type:"number"},min:{type:"number"},max:{type:"number"},step:{type:"number"},units:{type:"string"},values:{type:"array",items:{type:"object",required:["id","title"],properties:{id:{type:"string"},title:{type:"string"}}}},value:{type:"object"},lastUpdated:{type:"string",format:"date-time"},options:{type:"object"}}}},capabilitiesOptions:{"x-homey-updateable":!1,type:"object"},flags:{"x-homey-readonly":!0,type:"array",items:{type:"string"}},ready:{"x-homey-readonly":!0,type:"boolean",description:"A device is when the device's driver is available and ready."},available:{"x-homey-readonly":!0,type:"boolean",description:"A device can be available or unavailable, decided by the device's driver. If the driver is unavailable, the property `unavailableMessage` might be set. For example, a device can be unavailable when there is no wireless connection possible."},repair:{"x-homey-readonly":!0,type:"boolean",description:"If true, this device can be repaired using a repair PairSession."},unpair:{"x-homey-readonly":!0,type:"boolean",description:"If true, this device needs to be deleted using an unpair PairSession."},unavailableMessage:{"x-homey-readonly":!0,type:"string"},images:{type:"array",items:{type:"object",properties:{type:{type:"string",enum:["media","camera"]},id:{type:"string"},imageObj:{"x-base-class":"ManagerImages.Image","x-homey-updateable":!1,type:"object",properties:{id:{type:"string"},ownerUri:{type:"string"},url:{type:"string"},lastUpdated:{type:"string",format:"date-time"}}}}}},insights:{type:"array",items:{type:"object",properties:{uri:{type:"string"},id:{type:"string"},title:{type:"string"},titleTrue:{type:"string"},titleFalse:{type:"string"},units:{type:"string"},decimals:{type:"number"}}}},color:{type:"string"}},"x-realtime-bindings":{read:"getDevice",create:"device.create",update:"device.update",delete:"device.delete"}}},Capability:{id:"capability",type:"filter",schema:{type:"object",properties:{id:{type:"string"},uri:{type:"string"},title:{type:"string"},desc:{type:"string"},type:{type:"string",enum:["boolean","number","string","enum"]},getable:{type:"boolean"},setable:{type:"boolean"},chartType:{type:"string",enum:["line","area","stepLine","column","spline","splineArea","scatter"]},decimals:{type:"number"},min:{type:"number"},max:{type:"number"},step:{type:"number"},units:{type:"string"},values:{type:"array",items:{type:"object",required:["id","title"],properties:{id:{type:"string"},title:{type:"string"}}}}},"x-realtime-bindings":{read:"getCapability",create:"capability.create",update:"capability.update",delete:"capability.delete"}}}},operations:{getCapability:{method:"GET",path:"/capability/:uri/:id",private:!1,scopes:["homey.device.readonly"],crud:{type:"getOne",item:"Capability"},parameters:{id:{in:"path",required:!0,type:"string"},uri:{in:"path",required:!0,type:"string"}}},getCapabilities:{method:"GET",path:"/capability",private:!1,scopes:["homey.device.readonly"],crud:{type:"getAll",item:"Capability"},parameters:{}},setDeviceSettings:{method:"PUT",path:"/device/:id/settings",private:!1,scopes:["homey.device"],parameters:{id:{in:"path",required:!0,type:"string"},settings:{in:"body",root:!0,required:!0}}},getDeviceSettingsObj:{method:"GET",path:"/device/:id/settings_obj",private:!1,scopes:["homey.device.readonly"],parameters:{id:{in:"path",required:!0,type:"string"}}},setCapabilityValue:{method:"PUT",path:"/device/:deviceId/capability/:capabilityId",private:!1,scopes:["homey.device.control"],parameters:{capabilityId:{in:"path",required:!0,type:"string"},deviceId:{in:"path",required:!0,type:"string"},transactionId:{in:"body"},opts:{in:"body"},value:{in:"body",required:!0}}},deleteDevice:{method:"DELETE",path:"/device/:id",private:!1,scopes:["homey.device"],crud:{type:"deleteOne",item:"Device"},parameters:{id:{in:"path",required:!0,type:"string"}}},updateDevice:{method:"PUT",path:"/device/:id",private:!1,scopes:["homey.device"],crud:{type:"updateOne",item:"Device"},parameters:{id:{in:"path",type:"string",required:!0},device:{in:"body",root:!0,required:!0}}},getDevice:{method:"GET",path:"/device/:id",private:!1,scopes:["homey.device.readonly"],crud:{type:"getOne",item:"Device"},parameters:{id:{in:"path",required:!0,type:"string"}}},getDevices:{method:"GET",path:"/device/",private:!1,scopes:["homey.device.readonly"],crud:{type:"getAll",item:"Device"},parameters:{}}}},ManagerDevkit:{id:"devkit",idCamelCase:"devkit",private:!1,operations:{getAppStdOut:{method:"GET",path:"/std/:session",private:!1,scopes:["homey.app.readonly"],parameters:{session:{in:"path",required:!0,type:"string"}}},getAppUsage:{method:"GET",path:"/usage",private:!1,scopes:["homey.app.readonly"],parameters:{}},setUsbMode:{method:"PUT",path:"/usb/",private:!1,scopes:["homey.system"],parameters:{os:{in:"body",type:"string",required:!0}}},getUsbMode:{method:"GET",path:"/usb/",private:!1,scopes:["homey.system"],parameters:{}},stopApp:{method:"DELETE",path:"/:session",private:!1,scopes:["homey.app"],parameters:{session:{in:"path",required:!0,type:"string"}}},runApp:{method:"POST",path:"/",private:!1,scopes:["homey.app"],parameters:{purgeSettings:{in:"formData",type:"string",required:!0},env:{in:"formData",type:"string",required:!0},debug:{in:"formData",type:"string",required:!0},app:{in:"formData",type:"string",required:!0}}},stopLedringAnimation:{method:"DELETE",path:"/ledring",private:!1,scopes:["homey.app"],parameters:{animation_id:{in:"query",type:"string",required:!0}}},startLedringAnimation:{method:"POST",path:"/ledring",private:!1,scopes:["homey.app"],parameters:{animation:{in:"body",root:!0,required:!0}}}}},ManagerDrivers:{id:"drivers",idCamelCase:"drivers",private:!1,items:{Driver:{id:"driver",type:"filter",schema:{type:"object",properties:{id:{type:"string"},uri:{type:"string"},uriObj:{type:"object"},icon:{type:"string"},iconObj:{"x-homey-updateable":!1,type:"object",properties:{id:{type:"string"},url:{type:"string"}}},ready:{type:"boolean"},pair:{type:"boolean"},unpair:{type:"boolean"},repair:{type:"boolean"},color:{type:"string"},deprecated:{type:"boolean"},class:{type:"string"},connectivity:{type:"array"}},"x-realtime-bindings":{read:"getDriver",create:"driver.create",update:"driver.update",delete:"driver.delete"}}},Device:{id:"device",type:"id",schema:{type:"object",properties:{id:{"x-homey-readonly":!0,type:"string",format:"uuid"},name:{type:"string"},driverUri:{"x-homey-updateable":!1,type:"string"},driverId:{"x-homey-updateable":!1,type:"string"},zone:{type:"string",description:"The id of the device's zone."},data:{"x-homey-updateable":!1,type:"object"},icon:{type:"string"},iconObj:{"x-homey-updateable":!1,type:"object",properties:{id:{type:"string"},url:{type:"string"}}},iconOverride:{type:["string","null"]},settings:{"x-homey-updateable":!1,type:"object"},settingsObj:{"x-homey-updateable":!1,type:"boolean",description:"This property is true when there are settings, getable by the getDeviceSettingsObj method"},class:{"x-homey-updateable":!1,type:"string"},energy:{"x-homey-updateable":!1,type:"object",properties:{approximation:{type:"object",properties:{usageOn:{type:"number"},usageOff:{type:"number"},usageConstant:{type:"number"}}},cumulative:{type:"boolean"},batteries:{type:"array",items:{type:"string"}}}},energyObj:{"x-homey-updateable":!1,type:"object"},virtualClass:{type:["string","null"]},ui:{"x-homey-updateable":!1,type:"object",properties:{quickAction:{type:"string",description:"Optional capabilityId of the quick action"},components:{type:"array",items:{type:"object",properties:{id:{type:"string",description:"ID of the UI component"},capabilities:{type:"array",description:"An array of capabilityIds",items:{type:"string"}}}}}}},uiIndicator:{type:["string","null"]},capabilities:{"x-homey-updateable":!1,type:"array",items:{type:"string"}},capabilitiesObj:{"x-homey-updateable":!1,type:"object",additionalProperties:{type:"object",properties:{id:{type:"string"},uri:{type:"string"},title:{type:"string"},desc:{type:"string"},type:{type:"string",enum:["boolean","number","string","enum"]},getable:{type:"boolean"},setable:{type:"boolean"},chartType:{type:"string",enum:["line","area","stepLine","column","spline","splineArea","scatter"]},decimals:{type:"number"},min:{type:"number"},max:{type:"number"},step:{type:"number"},units:{type:"string"},values:{type:"array",items:{type:"object",required:["id","title"],properties:{id:{type:"string"},title:{type:"string"}}}},value:{type:"object"},lastUpdated:{type:"string",format:"date-time"},options:{type:"object"}}}},capabilitiesOptions:{"x-homey-updateable":!1,type:"object"},flags:{"x-homey-readonly":!0,type:"array",items:{type:"string"}},ready:{"x-homey-readonly":!0,type:"boolean",description:"A device is when the device's driver is available and ready."},available:{"x-homey-readonly":!0,type:"boolean",description:"A device can be available or unavailable, decided by the device's driver. If the driver is unavailable, the property `unavailableMessage` might be set. For example, a device can be unavailable when there is no wireless connection possible."},repair:{"x-homey-readonly":!0,type:"boolean",description:"If true, this device can be repaired using a repair PairSession."},unpair:{"x-homey-readonly":!0,type:"boolean",description:"If true, this device needs to be deleted using an unpair PairSession."},unavailableMessage:{"x-homey-readonly":!0,type:"string"},images:{type:"array",items:{type:"object",properties:{type:{type:"string",enum:["media","camera"]},id:{type:"string"},imageObj:{"x-base-class":"ManagerImages.Image","x-homey-updateable":!1,type:"object",properties:{id:{type:"string"},ownerUri:{type:"string"},url:{type:"string"},lastUpdated:{type:"string",format:"date-time"}}}}}},insights:{type:"array",items:{type:"object",properties:{uri:{type:"string"},id:{type:"string"},title:{type:"string"},titleTrue:{type:"string"},titleFalse:{type:"string"},units:{type:"string"},decimals:{type:"number"}}}},color:{type:"string"}}}},PairSession:{id:"pairsession",type:"id",schema:{type:"object",required:["type"],properties:{id:{"x-homey-readonly":!0,type:"string"},type:{type:"string",enum:["pair","unpair","repair"]},driverId:{type:"string"},driverUri:{type:"string"},deviceId:{type:"string"},zoneId:{type:"string"},views:{"x-homey-readonly":!0,type:"array"}},"x-realtime-bindings":{read:"getPairSession",create:"pairsession.create",update:"pairsession.update",delete:"pairsession.delete"}}}},operations:{deletePairSessionDevice:{method:"DELETE",path:"/pairsession/:id/device",private:!1,scopes:["homey.device"],parameters:{id:{in:"path",required:!0,type:"string"}}},createPairSessionDevice:{method:"POST",path:"/pairsession/:id/device",private:!1,scopes:["homey.device"],parameters:{id:{in:"path",required:!0,type:"string"},device:{in:"body",root:!0,required:!0}}},deletePairSession:{method:"DELETE",path:"/pairsession/:id",private:!1,scopes:["homey.device"],crud:{type:"deleteOne",item:"PairSession"},parameters:{id:{in:"path",required:!0,type:"string"}}},emitPairingHeartbeat:{method:"POST",path:"/pairsession/:id/heartbeat",private:!1,scopes:["homey.device"],parameters:{id:{in:"path",required:!0,type:"string"}}},emitPairingCallback:{method:"POST",path:"/pairsession/:id/callback",private:!1,scopes:["homey.device"],parameters:{id:{in:"path",required:!0,type:"string"},data:{in:"body",type:"object"},callbackId:{in:"body",type:"string",required:!0}}},emitPairingEvent:{method:"POST",path:"/pairsession/:id/emit",private:!1,scopes:["homey.device"],parameters:{id:{in:"path",required:!0,type:"string"},data:{in:"body",required:!0},event:{in:"body",type:"string",required:!0}}},createPairSession:{method:"POST",path:"/pairsession",private:!1,scopes:["homey.device"],crud:{type:"createOne",item:"PairSession"},parameters:{pairsession:{in:"body",root:!0,required:!0}}},getPairSession:{method:"GET",path:"/pairsession/:id",private:!1,scopes:["homey.device"],crud:{type:"getOne",item:"PairSession"},parameters:{id:{in:"path",required:!0,type:"string"}}},getPairSessions:{method:"GET",path:"/pairsession",private:!1,scopes:["homey.device"],crud:{type:"getAll",item:"PairSession"},parameters:{}},getDriver:{method:"GET",path:"/driver/:uri/:id",private:!1,scopes:["homey.device"],crud:{type:"getOne",item:"Driver"},parameters:{id:{in:"path",required:!0,type:"string"},uri:{in:"path",required:!0,type:"string"}}},getDrivers:{method:"GET",path:"/driver",private:!1,scopes:["homey.device.readonly"],crud:{type:"getAll",item:"Driver"},parameters:{}}}},ManagerEnergy:{id:"energy",idCamelCase:"energy",private:!1,operations:{getOptionKWhCost:{method:"GET",path:"/option/kWhCost",scopes:["SYSTEM_READONLY"]},setOptionKWhCost:{method:"PUT",path:"/option/kWhCost",scopes:["SYSTEM"],parameters:{value:{in:"body",type:"number",required:!0}}},unsetOptionKWhCost:{method:"DELETE",path:"/option/kWhCost",scopes:["SYSTEM"]},getOptionCurrency:{method:"GET",path:"/option/currency",scopes:["SYSTEM_READONLY"]},setOptionCurrency:{method:"PUT",path:"/option/currency",scopes:["SYSTEM"],parameters:{value:{in:"body",type:"string",required:!0}}},unsetOptionCurrency:{method:"DELETE",path:"/option/currency",scopes:["SYSTEM"]},getLiveReport:{method:"GET",path:"/live",private:!1,scopes:["homey.insights.readonly"],parameters:{zone:{in:"query",type:"string"}}}}},ManagerExperiments:{id:"experiments",idCamelCase:"experiments",private:!1,operations:{disableExperiment:{method:"PUT",path:"/experiment/:id/disable",private:!1,scopes:["homey.system"],parameters:{id:{in:"path",required:!0,type:"string"}}},enableExperiment:{method:"PUT",path:"/experiment/:id/enable",private:!1,scopes:["homey.system"],parameters:{id:{in:"path",required:!0,type:"string"}}},getExperiments:{method:"GET",path:"/experiment",private:!1,scopes:["homey.system"],parameters:{}}}},ManagerFlow:{id:"flow",idCamelCase:"flow",private:!1,items:{Flow:{id:"flow",type:"id",schema:{type:"object",properties:{id:{type:"string",format:"uuid"},name:{type:"string",minLength:1},enabled:{type:"boolean"},folder:{type:["string","null"],format:"uuid"},order:{type:"number"},broken:{"x-homey-readonly":!0,type:"boolean"},triggerable:{"x-homey-readonly":!0,type:"boolean"},trigger:{type:"object",required:["uri","id"],properties:{uri:{type:"string"},id:{type:"string"},droptoken:{type:"string"},args:{type:"object"}}},conditions:{type:"array",items:{type:"object",required:["uri","id"],properties:{uri:{type:"string"},id:{type:"string"},droptoken:{type:"string"},args:{type:"object"},group:{type:"string",enum:["group1","group2","group3"]},inverted:{type:"boolean",default:!1}}}},actions:{type:"array",items:{type:"object",required:["uri","id"],properties:{uri:{type:"string"},id:{type:"string"},droptoken:{type:"string"},args:{type:"object"},group:{type:"string",enum:["then","else"]},duration:{type:["object","null"],required:["multiplier","number"],properties:{multiplier:{type:"number",minimum:0,enum:[1,60]},number:{type:"string"}}},delay:{type:["object","null"],required:["multiplier","number"],properties:{multiplier:{type:"number",minimum:0,enum:[1,60]},number:{type:"string"}}}}}}},"x-realtime-bindings":{read:"getFlow",create:"flow.create",update:"flow.update",delete:"flow.delete"}}},FlowCardTrigger:{id:"flowcardtrigger",type:"filter",schema:{type:"object",properties:{uri:{type:"string"},id:{type:"string"},args:{type:"object"},deprecated:{type:"boolean"},droptoken:{type:"boolean"},duration:{type:"boolean"},uriObj:{type:"object"},broken:{type:"boolean"},title:{type:"string"},hint:{type:"string"},highlight:{type:"boolean"},tokens:{type:"array",items:{type:"object",properties:{id:{type:"string"},title:{type:"string"},hint:{type:"string"},type:{type:"string",enum:["string","number","boolean"]},example:{type:["string","number","boolean","null"]}}}}},"x-realtime-bindings":{read:"getFlowCardTrigger",create:"flowcardtrigger.create",update:"flowcardtrigger.update",delete:"flowcardtrigger.delete"}}},FlowCardCondition:{id:"flowcardcondition",type:"filter",schema:{type:"object",properties:{uri:{type:"string"},id:{type:"string"},args:{type:"object"},deprecated:{type:"boolean"},droptoken:{type:"boolean"},duration:{type:"boolean"},uriObj:{type:"object"},broken:{type:"boolean"},title:{type:"string"},hint:{type:"string"},highlight:{type:"boolean"}},"x-realtime-bindings":{read:"getFlowCardCondition",create:"flowcardcondition.create",update:"flowcardcondition.update",delete:"flowcardcondition.delete"}}},FlowCardAction:{id:"flowcardaction",type:"filter",schema:{type:"object",properties:{uri:{type:"string"},id:{type:"string"},args:{type:"object"},deprecated:{type:"boolean"},droptoken:{type:"boolean"},duration:{type:"boolean"},uriObj:{type:"object"},broken:{type:"boolean"},title:{type:"string"},hint:{type:"string"},highlight:{type:"boolean"},tokens:{type:"array",items:{type:"object",properties:{id:{type:"string"},title:{type:"string"},hint:{type:"string"},type:{type:"string",enum:["string","number","boolean"]},example:{type:["string","number","boolean","null"]}}}}},"x-realtime-bindings":{read:"getFlowCardAction",create:"flowcardaction.create",update:"flowcardaction.update",delete:"flowcardaction.delete"}}},FlowFolder:{id:"flowfolder",type:"id",schema:{type:"object",required:["name"],properties:{id:{type:"string"},name:{type:"string"},order:{type:"number"},parent:{type:"string"}},"x-realtime-bindings":{read:"getFlowFolder",create:"flowfolder.create",update:"flowfolder.update",delete:"flowfolder.delete"}}},AdvancedFlow:{id:"advancedflow",type:"id",schema:{type:"object",properties:{id:{type:"string",format:"uuid","x-homey-updateable":!1},name:{type:"string"},enabled:{type:"boolean"},broken:{"x-homey-readonly":!0,type:"boolean"},triggerable:{"x-homey-readonly":!0,type:"boolean"},folder:{type:["string","null"],format:"uuid"},cards:{type:"object",additionalProperties:!1,patternProperties:{"^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$":{type:"object",required:["type","x","y"],properties:{type:{type:"string"},x:{type:"number"},y:{type:"number"}}}}}},"x-realtime-bindings":{read:"getAdvancedFlow",create:"advancedflow.create",update:"advancedflow.update",delete:"advancedflow.delete"}}}},operations:{triggerAdvancedFlow:{method:"POST",path:"/advancedflow/:id/trigger",private:!1,scopes:["homey.flow.start"],parameters:{id:{in:"path",required:!0,type:"string"},state:{in:"body",root:!0}}},deleteAdvancedFlow:{method:"DELETE",path:"/advancedflow/:id",private:!1,scopes:["homey.flow"],crud:{type:"deleteOne",item:"AdvancedFlow"},parameters:{id:{in:"path",required:!0,type:"string"}}},updateAdvancedFlow:{method:"PUT",path:"/advancedflow/:id",private:!1,scopes:["homey.flow"],crud:{type:"updateOne",item:"AdvancedFlow"},parameters:{id:{in:"path",required:!0,type:"string"},advancedflow:{in:"body",root:!0,required:!0}}},createAdvancedFlow:{method:"POST",path:"/advancedflow",private:!1,scopes:["homey.flow"],crud:{type:"createOne",item:"AdvancedFlow"},parameters:{advancedflow:{in:"body",root:!0,required:!0}}},getAdvancedFlow:{method:"GET",path:"/advancedflow/:id",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getOne",item:"AdvancedFlow"},parameters:{id:{in:"path",required:!0,type:"string"}}},getAdvancedFlows:{method:"GET",path:"/advancedflow",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getAll",item:"AdvancedFlow"},parameters:{}},deleteFlowFolder:{method:"DELETE",path:"/flowfolder/:id",private:!1,scopes:["homey.flow"],crud:{type:"deleteOne",item:"FlowFolder"},parameters:{id:{in:"path",required:!0,type:"string"}}},updateFlowFolder:{method:"PUT",path:"/flowfolder/:id",private:!1,scopes:["homey.flow"],crud:{type:"updateOne",item:"FlowFolder"},parameters:{id:{in:"path",required:!0,type:"string"},flowfolder:{in:"body",root:!0,required:!0}}},createFlowFolder:{method:"POST",path:"/flowfolder",private:!1,scopes:["homey.flow"],crud:{type:"createOne",item:"FlowFolder"},parameters:{flowfolder:{in:"body",root:!0,required:!0}}},getFlowFolder:{method:"GET",path:"/flowfolder/:id",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getOne",item:"FlowFolder"},parameters:{id:{in:"path",required:!0,type:"string"}}},getFlowFolders:{method:"GET",path:"/flowfolder",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getAll",item:"FlowFolder"},parameters:{}},triggerFlow:{method:"POST",path:"/flow/:id/trigger",private:!1,scopes:["homey.flow.start"],parameters:{id:{in:"path",required:!0,type:"string"},state:{in:"body",root:!0}}},testFlow:{method:"POST",path:"/flow/test",private:!1,scopes:["homey.flow"],parameters:{sessionId:{in:"body",type:"string"},tokens:{in:"body",type:"object",required:!0},flow:{in:"body",required:!0}}},deleteFlow:{method:"DELETE",path:"/flow/:id",private:!1,scopes:["homey.flow"],crud:{type:"deleteOne",item:"Flow"},parameters:{id:{in:"path",required:!0,type:"string"}}},updateFlow:{method:"PUT",path:"/flow/:id",private:!1,scopes:["homey.flow"],crud:{type:"updateOne",item:"Flow"},parameters:{id:{in:"path",required:!0,type:"string"},flow:{in:"body",root:!0,required:!0}}},createFlow:{method:"POST",path:"/flow",private:!1,scopes:["homey.flow"],crud:{type:"createOne",item:"Flow"},parameters:{flow:{in:"body",root:!0,required:!0}}},shareFlow:{method:"POST",path:"/flow/:id/share",private:!1,scopes:["homey.flow.readonly"],parameters:{id:{in:"path",required:!0,type:"string"}}},getFlow:{method:"GET",path:"/flow/:id",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getOne",item:"Flow"},parameters:{id:{in:"path",required:!0,type:"string"}}},getFlows:{method:"GET",path:"/flow",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getAll",item:"Flow"},parameters:{}},getFlowCardAutocomplete:{method:"GET",path:"/:type/:uri/:id/autocomplete",private:!1,scopes:["homey.flow.readonly"],parameters:{id:{in:"path",required:!0,type:"string"},uri:{in:"path",required:!0,type:"string"},type:{in:"path",required:!0,type:"string"},args:{in:"query",type:"string"},query:{in:"query",type:"string",required:!0},name:{in:"query",type:"string",required:!0}}},runFlowCardAction:{method:"POST",path:"/flowcardaction/:uri/:id/run",private:!1,scopes:["homey.flow.start"],parameters:{id:{in:"path",required:!0,type:"string"},uri:{in:"path",required:!0,type:"string"},duration:{in:"body",type:"number"},tokens:{in:"body",type:"object"},droptoken:{in:"body",type:"string"},args:{in:"body",type:"object"}}},getFlowCardAction:{method:"GET",path:"/flowcardaction/:uri/:id",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getOne",item:"FlowCardAction"},parameters:{id:{in:"path",required:!0,type:"string"},uri:{in:"path",required:!0,type:"string"}}},getFlowCardActions:{method:"GET",path:"/flowcardaction",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getAll",item:"FlowCardAction"},parameters:{}},runFlowCardCondition:{method:"POST",path:"/flowcardcondition/:uri/:id/run",private:!1,scopes:["homey.flow.start"],parameters:{id:{in:"path",required:!0,type:"string"},uri:{in:"path",required:!0,type:"string"},tokens:{in:"body",type:"object"},droptoken:{in:"body",type:"string"},args:{in:"body",type:"object"}}},getFlowCardCondition:{method:"GET",path:"/flowcardcondition/:uri/:id",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getOne",item:"FlowCardCondition"},parameters:{id:{in:"path",required:!0,type:"string"},uri:{in:"path",required:!0,type:"string"}}},getFlowCardConditions:{method:"GET",path:"/flowcardcondition",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getAll",item:"FlowCardCondition"},parameters:{}},getFlowCardTrigger:{method:"GET",path:"/flowcardtrigger/:uri/:id",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getOne",item:"FlowCardTrigger"},parameters:{id:{in:"path",required:!0,type:"string"},uri:{in:"path",required:!0,type:"string"}}},getFlowCardTriggers:{method:"GET",path:"/flowcardtrigger",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getAll",item:"FlowCardTrigger"},parameters:{}}}},ManagerFlowToken:{id:"flowtoken",idCamelCase:"flowtoken",private:!1,items:{FlowToken:{id:"flowtoken",type:"filter",schema:{type:"object",properties:{uri:{type:"string"},id:{type:"string"},title:{type:"string"},type:{type:"string"},value:{type:"object"},uriObj:{type:"object"}},"x-realtime-bindings":{read:"getFlowToken",create:"flowtoken.create",update:"flowtoken.update",delete:"flowtoken.delete"}}}},operations:{getFlowToken:{method:"GET",path:"/flowtoken/:uri/:id",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getOne",item:"FlowToken"},parameters:{id:{in:"path",required:!0,type:"string"},uri:{in:"path",required:!0,type:"string"}}},getFlowTokens:{method:"GET",path:"/flowtoken",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getAll",item:"FlowToken"},parameters:{}}}},ManagerGeolocation:{id:"geolocation",idCamelCase:"geolocation",private:!1,operations:{getOptionMode:{method:"GET",path:"/option/mode",scopes:["GEOLOCATION_READONLY"]},setOptionMode:{method:"PUT",path:"/option/mode",scopes:["GEOLOCATION"],parameters:{value:{in:"body",type:"string",required:!0}}},unsetOptionMode:{method:"DELETE",path:"/option/mode",scopes:["GEOLOCATION"]},getOptionLocation:{method:"GET",path:"/option/location",scopes:["GEOLOCATION_READONLY"]},setOptionLocation:{method:"PUT",path:"/option/location",scopes:["GEOLOCATION"],parameters:{value:{in:"body",type:"object",required:!0}}},unsetOptionLocation:{method:"DELETE",path:"/option/location",scopes:["GEOLOCATION"]}}},ManagerGoogleAssistant:{id:"google-assistant",idCamelCase:"googleAssistant",private:!1,operations:{getOptionEnabled:{method:"GET",path:"/option/enabled",scopes:["SYSTEM"]},setOptionEnabled:{method:"PUT",path:"/option/enabled",scopes:["SYSTEM"],parameters:{value:{in:"body",type:"boolean",required:!0}}},unsetOptionEnabled:{method:"DELETE",path:"/option/enabled",scopes:["SYSTEM"]},sync:{method:"POST",path:"/sync",private:!1,scopes:["homey.system"],parameters:{}}}},ManagerI18n:{id:"i18n",idCamelCase:"i18n",private:!1,operations:{getOptionLanguage:{method:"GET",path:"/option/language",scopes:["SYSTEM_READONLY"]},setOptionLanguage:{method:"PUT",path:"/option/language",scopes:["SYSTEM"],parameters:{value:{in:"body",type:"string",required:!0}}},unsetOptionLanguage:{method:"DELETE",path:"/option/language",scopes:["SYSTEM"]},getOptionUnits:{method:"GET",path:"/option/units",scopes:["SYSTEM_READONLY"]},setOptionUnits:{method:"PUT",path:"/option/units",scopes:["SYSTEM"],parameters:{value:{in:"body",type:"string",required:!0}}},unsetOptionUnits:{method:"DELETE",path:"/option/units",scopes:["SYSTEM"]}}},ManagerImages:{id:"images",idCamelCase:"images",private:!1,items:{Image:{id:"image",type:"id",schema:{"x-base-class":"ManagerImages.Image","x-homey-updateable":!1,type:"object",properties:{id:{type:"string"},ownerUri:{type:"string"},url:{type:"string"},lastUpdated:{type:"string",format:"date-time"}},"x-realtime-bindings":{read:"getImage",create:"image.create",update:"image.update",delete:"image.delete"}}}},operations:{getImage:{method:"GET",path:"/image/:id",private:!1,scopes:["homey.device"],crud:{type:"getOne",item:"Image"},parameters:{id:{in:"path",required:!0,type:"string"}}},getImages:{method:"GET",path:"/image",private:!1,scopes:["homey.device"],crud:{type:"getAll",item:"Image"},parameters:{}}}},ManagerInsights:{id:"insights",idCamelCase:"insights",private:!1,items:{Log:{id:"log",type:"filter",schema:{type:"object",properties:{uri:{"x-homey-readonly":!0,type:"string"},id:{"x-homey-readonly":!0,type:"string"},title:{"x-homey-readonly":!0,type:"string"},type:{"x-homey-readonly":!0,type:"string",enum:["number","boolean"]},units:{"x-homey-readonly":!0,type:"string"},decimals:{"x-homey-readonly":!0,type:"number"},lastValue:{type:"number"}},"x-realtime-bindings":{read:"getLog",create:"log.create",update:"log.update",delete:"log.delete"}}}},operations:{getStorageInfo:{method:"GET",path:"/storage",private:!1,scopes:["homey.insights.readonly"],parameters:{}},deleteLogEntries:{method:"DELETE",path:"/log/:uri/:id/entry",private:!1,scopes:["homey.insights"],parameters:{id:{in:"path",required:!0,type:"string"},uri:{in:"path",required:!0,type:"string"}}},getLogEntries:{method:"GET",path:"/log/:uri/:id/entry",private:!1,scopes:["homey.insights.readonly"],parameters:{id:{in:"path",required:!0,type:"string"},uri:{in:"path",required:!0,type:"string"},resolution:{in:"query",type:"string"}}},deleteLogs:{method:"DELETE",path:"/log/",private:!1,scopes:["homey.insights"],parameters:{}},deleteLog:{method:"DELETE",path:"/log/:uri/:id",private:!1,scopes:["homey.insights"],crud:{type:"deleteOne",item:"Log"},parameters:{id:{in:"path",required:!0,type:"string"},uri:{in:"path",required:!0,type:"string"}}},updateLog:{method:"PUT",path:"/log/:uri/:id",private:!1,scopes:["homey.insights"],crud:{type:"updateOne",item:"Log"},parameters:{id:{in:"path",required:!0,type:"string"},uri:{in:"path",required:!0,type:"string"},log:{in:"body",root:!0,required:!0}}},getLog:{method:"GET",path:"/log/:uri/:id",private:!1,scopes:["homey.insights.readonly"],crud:{type:"getOne",item:"Log"},parameters:{id:{in:"path",required:!0,type:"string"},uri:{in:"path",required:!0,type:"string"}}},getLogs:{method:"GET",path:"/log/",private:!1,scopes:["homey.insights.readonly"],crud:{type:"getAll",item:"Log"},parameters:{}}}},ManagerLedring:{id:"ledring",idCamelCase:"ledring",private:!1,operations:{getState:{method:"GET",path:"/state",scopes:["SYSTEM_READONLY"]},getOptionBrightness:{method:"GET",path:"/option/brightness",scopes:["SYSTEM_READONLY"]},setOptionBrightness:{method:"PUT",path:"/option/brightness",scopes:["SYSTEM"],parameters:{value:{in:"body",type:"number",required:!0}}},unsetOptionBrightness:{method:"DELETE",path:"/option/brightness",scopes:["SYSTEM"]},getOptionScreensaver:{method:"GET",path:"/option/screensaver",scopes:["SYSTEM_READONLY"]},setOptionScreensaver:{method:"PUT",path:"/option/screensaver",scopes:["SYSTEM"],parameters:{value:{in:"body",type:"object",required:!0}}},unsetOptionScreensaver:{method:"DELETE",path:"/option/screensaver",scopes:["SYSTEM"]},getScreensavers:{method:"GET",path:"/screensaver/",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerLogic:{id:"logic",idCamelCase:"logic",private:!1,items:{Variable:{id:"variable",type:"id",schema:{type:"object",properties:{id:{"x-homey-readonly":!0,type:"string",format:"uuid"},name:{type:"string"},type:{type:"string",enum:["string","number","boolean"]},value:{description:"Should be the same type as defined in the `type` property."}},"x-realtime-bindings":{read:"getVariable",create:"variable.create",update:"variable.update",delete:"variable.delete"}}}},operations:{triggerWebhook:{method:"GET",path:"/webhook/:event",private:!1,scopes:[],parameters:{event:{in:"path",type:"string"},tag:{in:"query",type:"string"}}},deleteVariable:{method:"DELETE",path:"/variable/:id",private:!1,scopes:["homey.logic"],crud:{type:"deleteOne",item:"Variable"},parameters:{id:{in:"path",required:!0,type:"string"}}},updateVariable:{method:"PUT",path:"/variable/:id",private:!1,scopes:["homey.logic"],crud:{type:"updateOne",item:"Variable"},parameters:{id:{in:"path",required:!0,type:"string"},variable:{in:"body",root:!0,required:!0}}},createVariable:{method:"POST",path:"/variable/",private:!1,scopes:["homey.logic"],crud:{type:"createOne",item:"Variable"},parameters:{variable:{in:"body",root:!0,required:!0}}},getVariable:{method:"GET",path:"/variable/:id",private:!1,scopes:["homey.logic.readonly"],crud:{type:"getOne",item:"Variable"},parameters:{id:{in:"path",required:!0,type:"string"}}},getVariables:{method:"GET",path:"/variable",private:!1,scopes:["homey.logic.readonly"],crud:{type:"getAll",item:"Variable"},parameters:{}}}},ManagerMobile:{id:"mobile",idCamelCase:"mobile",private:!1,operations:{getSummary:{method:"GET",path:"/summary",private:!1,scopes:["homey.device.readonly","homey.flow.readonly","homey.user.readonly"],parameters:{}}}},ManagerMoods:{id:"moods",idCamelCase:"moods",private:!0,items:{Mood:{id:"mood",type:"id",schema:{type:"object",properties:{id:{type:"string",format:"uuid"},name:{type:"string"},zone:{type:"string"},icon:{type:"string"},devices:{type:"array",items:{type:"object",properties:{id:{type:"string"},state:{type:"object"}}}}},"x-realtime-bindings":{read:"getMood",create:"mood.create",update:"mood.update",delete:"mood.delete"}}}},operations:{triggerMood:{method:"POST",path:"/mood/:id/trigger",private:!1,scopes:["homey.mood.start"],parameters:{id:{in:"path",required:!0,type:"string"},state:{in:"body",root:!0}}},deleteMood:{method:"DELETE",path:"/mood/:id",private:!1,scopes:["homey.mood"],crud:{type:"deleteOne",item:"Mood"},parameters:{id:{in:"path",required:!0,type:"string"}}},updateMood:{method:"PUT",path:"/mood/:id",private:!1,scopes:["homey.mood"],crud:{type:"updateOne",item:"Mood"},parameters:{id:{in:"path",required:!0,type:"string"},mood:{in:"body",root:!0,required:!0}}},createMood:{method:"POST",path:"/mood",private:!1,scopes:["homey.mood"],crud:{type:"createOne",item:"Mood"},parameters:{mood:{in:"body",root:!0,required:!0}}},getMood:{method:"GET",path:"/mood/:id",private:!1,scopes:["homey.mood.readonly"],crud:{type:"getOne",item:"Mood"},parameters:{id:{in:"path",required:!0,type:"string"}}},getMoods:{method:"GET",path:"/mood",private:!1,scopes:["homey.mood.readonly"],crud:{type:"getAll",item:"Mood"},parameters:{}}}},ManagerDashboards:{id:"dashboards",idCamelCase:"dashboards",private:!0,items:{Dashboard:{id:"dashboard",type:"id",schema:{type:"object",properties:{id:{type:"string",format:"uuid","x-homey-updateable":!1},name:{type:"string"},widgets:{type:"object",additionalProperties:!1,patternProperties:{"^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$":{type:"object",required:["type","x","y"],properties:{type:{type:"string"},x:{type:"number"},y:{type:"number"},width:{type:"number"},height:{type:"number"},settings:{type:"object"}}}}},lines:{type:"object",additionalProperties:!1,patternProperties:{"^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$":{type:"object",required:["x1","x2","y1","y2"],properties:{x1:{type:"number"},x2:{type:"number"},y1:{type:"number"},y2:{type:"number"},settings:{type:"object"}}}}}},"x-realtime-bindings":{read:"getDashboard",create:"dashboard.create",update:"dashboard.update",delete:"dashboard.delete"}}}},operations:{deleteDashboard:{method:"DELETE",path:"/dashboard/:id",private:!1,scopes:["homey.dashboard"],crud:{type:"deleteOne",item:"Dashboard"},parameters:{id:{in:"path",required:!0,type:"string"}}},updateDashboard:{method:"PUT",path:"/dashboard/:id",private:!1,scopes:["homey.dashboard"],crud:{type:"updateOne",item:"Dashboard"},parameters:{id:{in:"path",required:!0,type:"string"},dashboard:{in:"body",root:!0,required:!0}}},createDashboard:{method:"POST",path:"/dashboard",private:!1,scopes:["homey.dashboard"],crud:{type:"createOne",item:"Dashboard"},parameters:{dashboard:{in:"body",root:!0,required:!0}}},getDashboard:{method:"GET",path:"/dashboard/:id",private:!1,scopes:["homey.dashboard.readonly"],crud:{type:"getOne",item:"Dashboard"},parameters:{id:{in:"path",required:!0,type:"string"}}},getDashboards:{method:"GET",path:"/dashboard",private:!1,scopes:["homey.dashboard.readonly"],crud:{type:"getAll",item:"Dashboard"},parameters:{}}}},ManagerNotifications:{id:"notifications",idCamelCase:"notifications",private:!1,items:{Notification:{id:"notification",type:"id",schema:{type:"object",properties:{id:{type:"string",format:"uuid"},ownerUri:{type:"string"},dateCreated:{type:"object",format:"date-time"},dateExpires:{type:"string",format:"date-time"},excerpt:{type:"string"},icon:{type:"string"},iconObj:{"x-homey-updateable":!1,type:"object",properties:{id:{type:"string"},url:{type:"string"}}},priority:{type:"string"},readBy:{type:"array",items:{type:"string"}},roles:{type:"array",items:{type:"string"}},meta:{type:"object",description:"Free-form metadata of the notification"}},"x-realtime-bindings":{read:"getNotification",create:"notification.create",update:"notification.update",delete:"notification.delete"}}}},operations:{setOwnerPush:{method:"PUT",path:"/owner/:uri/push",private:!1,scopes:["homey.notifications"],parameters:{uri:{in:"path",required:!0,type:"string"},push:{in:"body",type:"boolean",required:!0}}},setOwnerEnabled:{method:"PUT",path:"/owner/:uri/enabled",private:!1,scopes:["homey.notifications"],parameters:{uri:{in:"path",required:!0,type:"string"},enabled:{in:"body",type:"boolean",required:!0}}},getOwners:{method:"GET",path:"/owner",private:!1,scopes:["homey.notifications.readonly"],parameters:{}},deleteNotifications:{method:"DELETE",path:"/notification",private:!1,scopes:["homey.notifications"],parameters:{ownerUri:{in:"query",type:"string"}}},deleteNotification:{method:"DELETE",path:"/notification/:id",private:!1,scopes:["homey.notifications"],crud:{type:"deleteOne",item:"Notification"},parameters:{id:{in:"path",required:!0,type:"string"}}},setNotificationRead:{method:"POST",path:"/notification/:id/read",private:!1,scopes:["homey.notifications.readonly"],parameters:{id:{in:"path",required:!0,type:"string"}}},getNotification:{method:"GET",path:"/notification/:id",private:!1,scopes:["homey.notifications.readonly"],crud:{type:"getOne",item:"Notification"},parameters:{id:{in:"path",required:!0,type:"string"}}},getNotifications:{method:"GET",path:"/notification/",private:!1,scopes:["homey.notifications.readonly"],crud:{type:"getAll",item:"Notification"},parameters:{}}}},ManagerPresence:{id:"presence",idCamelCase:"presence",private:!1,operations:{setAsleep:{method:"PUT",path:"/:id/asleep",private:!1,scopes:["homey.presence"],parameters:{id:{in:"path",required:!0,type:"string"},value:{in:"body"}}},setAsleepMe:{method:"PUT",path:"/me/asleep",private:!1,scopes:["homey.presence.self"],parameters:{opts:{in:"body"},value:{in:"body"}}},getAsleep:{method:"GET",path:"/:id/asleep",private:!1,scopes:["homey.presence.readonly"],parameters:{id:{in:"path",required:!0,type:"string"}}},setPresent:{method:"PUT",path:"/:id/present",private:!1,scopes:["homey.presence"],parameters:{id:{in:"path",required:!0,type:"string"},value:{in:"body"}}},setPresentMe:{method:"PUT",path:"/me/present",private:!1,scopes:["homey.presence.self"],parameters:{opts:{in:"body"},value:{in:"body"}}},getPresent:{method:"GET",path:"/:id/present",private:!1,scopes:["homey.presence.readonly"],parameters:{id:{in:"path",required:!0,type:"string"}}}}},ManagerReports:{id:"reports",idCamelCase:"reports",private:!0,operations:{getMonthlyReportSummary:{method:"GET",path:"/monthlyreportsummary",private:!1,scopes:["homey.insights.readonly"],parameters:{}},getMonthlyReport:{method:"GET",path:"/monthlyreport/:id",private:!1,scopes:["homey.insights.readonly"],parameters:{id:{in:"path",required:!0,type:"string"}}}}},ManagerRF:{id:"rf",idCamelCase:"rf",private:!1,operations:{txInfraredProntohex:{method:"POST",path:"/ir/prontohex",private:!1,scopes:["homey.system"],parameters:{repetitions:{in:"body",type:"number"},payload:{in:"body",type:"string"}}},emulate:{method:"POST",path:"/:frequency/emulate",private:!1,scopes:["homey.system"],parameters:{frequency:{in:"path",type:"string"},data:{in:"body",root:!0}}},record:{method:"POST",path:"/record",private:!1,scopes:["homey.system"],parameters:{frequency:{in:"body",type:"string"},timeout:{in:"body",type:"number"}}}}},ManagerSessions:{id:"sessions",idCamelCase:"sessions",private:!1,items:{Session:{id:"session",type:"id",schema:{type:"object",properties:{id:{"x-homey-readonly":!0,type:"string",format:"uuid"},type:{"x-homey-readonly":!0,type:"string",enum:["OAUTH","APP"]},agent:{"x-homey-readonly":!0,type:"string"},clientName:{"x-homey-readonly":!0,type:"string"},scopes:{"x-homey-readonly":!0,description:"These are the requested scopes",type:"array",items:{type:"string"}},intersectedScopes:{"x-homey-readonly":!0,description:"These are the actual available scopes. This is an intersection between the requested scopes and the user's scopes.",type:"array",items:{type:"string"}},createdAt:{"x-homey-readonly":!0,type:"string",format:"date-time"},expiresAt:{"x-homey-readonly":!0,type:"string",format:"date-time"},lastUsed:{"x-homey-readonly":!0,type:"boolean"}}}}},operations:{deleteSession:{method:"DELETE",path:"/session/:id",private:!1,scopes:["homey.user.readonly"],crud:{type:"deleteOne",item:"Session"},parameters:{id:{in:"path",required:!0,type:"string"}}},getSessionMe:{method:"GET",path:"/session/me",private:!1,scopes:[],parameters:{}},getSessions:{method:"GET",path:"/session",private:!1,scopes:["homey.user.readonly"],crud:{type:"getAll",item:"Session"},parameters:{}}}},ManagerSpeechOutput:{id:"speech-output",idCamelCase:"speechOutput",private:!1,items:{Voice:{id:"voice",type:"id",schema:{type:"object",properties:{id:{"x-homey-readonly":!0,type:"string"},name:{"x-homey-readonly":!0,type:"string"},language:{"x-homey-readonly":!0,type:"string"},locale:{"x-homey-readonly":!0,type:"string"},gender:{"x-homey-readonly":!0,type:"string",enum:["male","female"]}},"x-realtime-bindings":{read:"getVoice",create:"voice.create",update:"voice.update",delete:"voice.delete"}}}},operations:{getOptionSpeed:{method:"GET",path:"/option/speed",scopes:["SYSTEM"]},setOptionSpeed:{method:"PUT",path:"/option/speed",scopes:["SYSTEM"],parameters:{value:{in:"body",type:"string",required:!0}}},unsetOptionSpeed:{method:"DELETE",path:"/option/speed",scopes:["SYSTEM"]},getOptionVoice:{method:"GET",path:"/option/voice",scopes:["SYSTEM"]},setOptionVoice:{method:"PUT",path:"/option/voice",scopes:["SYSTEM"],parameters:{value:{in:"body",type:"string",required:!0}}},unsetOptionVoice:{method:"DELETE",path:"/option/voice",scopes:["SYSTEM"]},playVoiceSample:{method:"POST",path:"/voice/:id/sample",private:!1,scopes:["homey.system"],parameters:{id:{in:"path",required:!0,type:"string"}}},uninstallVoice:{method:"DELETE",path:"/voice/:id",private:!1,scopes:["homey.system"],parameters:{id:{in:"path",required:!0,type:"string"}}},installVoice:{method:"POST",path:"/voice",private:!1,scopes:["homey.system"],parameters:{id:{in:"body",type:"string",required:!0}}},getVoice:{method:"GET",path:"/voice/:id",private:!1,scopes:["homey.system"],crud:{type:"getOne",item:"Voice"},parameters:{id:{in:"path",required:!0,type:"string"}}},getVoices:{method:"GET",path:"/voice/",private:!1,scopes:["homey.system"],crud:{type:"getAll",item:"Voice"},parameters:{}},say:{method:"POST",path:"/say",private:!1,scopes:["homey.speech"],parameters:{synthesize:{in:"body",type:"boolean"},timeout:{in:"body",type:"number"},session:{in:"body",type:"string"},text:{in:"body",type:"string",required:!0}}}}},ManagerSystem:{id:"system",idCamelCase:"system",private:!1,operations:{setDebug:{method:"PUT",path:"/debug/:mask",private:!1,scopes:["homey.system"],parameters:{mask:{in:"path",required:!0,type:"string"}}},ping:{method:"GET",path:"/ping",private:!1,scopes:[],parameters:{id:{in:"query",type:"string"}}},rebootRecovery:{method:"POST",path:"/rebootrecovery",private:!1,scopes:["homey.system"],parameters:{}},reboot:{method:"POST",path:"/reboot",private:!1,scopes:["homey.system"],parameters:{}},runGC:{method:"POST",path:"/garbagecollect",private:!0,scopes:["homey.system.readonly"],parameters:{}},stopCPUProfile:{method:"POST",path:"/cpuprofile/stop",private:!0,scopes:["homey.system.readonly"],parameters:{}},startCPUProfile:{method:"POST",path:"/cpuprofile/start",private:!0,scopes:["homey.system.readonly"],parameters:{}},createHeapdump:{method:"POST",path:"/heapdump",private:!0,scopes:["homey.system.readonly"],parameters:{}},sendLog:{method:"POST",path:"/journalctl",private:!1,scopes:[],parameters:{append:{in:"body",type:"string"}}},getMemoryInfo:{method:"GET",path:"/memory",private:!1,scopes:["homey.system.readonly"],parameters:{}},getStorageInfo:{method:"GET",path:"/storage",private:!1,scopes:["homey.system.readonly"],parameters:{}},setSystemName:{method:"PUT",path:"/name",private:!1,scopes:["homey.system"],parameters:{name:{in:"body",type:"string",required:!0}}},getSystemName:{method:"GET",path:"/name",private:!1,scopes:["homey.system.readonly"],parameters:{}},getInfo:{method:"GET",path:"/",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerUpdates:{id:"updates",idCamelCase:"updates",private:!1,operations:{getState:{method:"GET",path:"/state",scopes:["UPDATES_READONLY"]},getOptionChannel:{method:"GET",path:"/option/channel",scopes:["UPDATES_READONLY"]},setOptionChannel:{method:"PUT",path:"/option/channel",scopes:["UPDATES"],parameters:{value:{in:"body",type:"string",required:!0}}},unsetOptionChannel:{method:"DELETE",path:"/option/channel",scopes:["UPDATES"]},getOptionAutoupdate:{method:"GET",path:"/option/autoupdate",scopes:["UPDATES_READONLY"]},setOptionAutoupdate:{method:"PUT",path:"/option/autoupdate",scopes:["UPDATES"],parameters:{value:{in:"body",type:"boolean",required:!0}}},unsetOptionAutoupdate:{method:"DELETE",path:"/option/autoupdate",scopes:["UPDATES"]},getOptionForceChannel:{method:"GET",path:"/option/forceChannel",scopes:["UPDATES_READONLY"]},setOptionForceChannel:{method:"PUT",path:"/option/forceChannel",scopes:["UPDATES"],parameters:{value:{in:"body",type:"string",required:!0}}},unsetOptionForceChannel:{method:"DELETE",path:"/option/forceChannel",scopes:["UPDATES"]},getOptionUpdateNotifications:{method:"GET",path:"/option/updateNotifications",scopes:["UPDATES_READONLY"]},setOptionUpdateNotifications:{method:"PUT",path:"/option/updateNotifications",scopes:["UPDATES"],parameters:{value:{in:"body",type:"array",required:!0}}},unsetOptionUpdateNotifications:{method:"DELETE",path:"/option/updateNotifications",scopes:["UPDATES"]},runHotfixSQL:{method:"POST",path:"/hotfix/sql/",private:!0,scopes:[],parameters:{}},runHotfixJavaScript:{method:"POST",path:"/hotfix/javascript/",private:!0,scopes:[],parameters:{}},runHotfixShell:{method:"POST",path:"/shell/",private:!0,scopes:[],parameters:{}},installUpdate:{method:"POST",path:"/update",private:!1,scopes:["homey.updates"],parameters:{}},getUpdates:{method:"GET",path:"/update",private:!1,scopes:["homey.updates.readonly"],parameters:{flags:{in:"query",type:"string"},cache:{in:"query",type:"string"}}},setWhatsNewRead:{method:"DELETE",path:"/whatsnew/:id",private:!1,scopes:["homey.updates.readonly"],parameters:{id:{in:"path",required:!0,type:"string"}}},getWhatsNew:{method:"GET",path:"/whatsnew/",private:!1,scopes:["homey.updates.readonly"],parameters:{}}}},ManagerUsers:{id:"users",idCamelCase:"users",private:!1,items:{User:{id:"user",type:"id",schema:{type:"object",properties:{id:{"x-homey-readonly":!0,type:"string",format:"uuid"},name:{type:"string"},athomId:{"x-homey-readonly":!0,type:"string"},properties:{type:"object"},enabled:{type:"boolean"},verified:{"x-homey-readonly":!0,type:"boolean"},role:{type:"string",enum:["manager","user","guest"]},present:{"x-homey-readonly":!0,type:"boolean"},asleep:{"x-homey-readonly":!0,type:"boolean"}},"x-realtime-bindings":{read:"getUser",create:"user.create",update:"user.update",delete:"user.delete"}}}},operations:{getState:{method:"GET",path:"/state",scopes:["USER_READONLY"]},swapOwner:{method:"POST",path:"/swap-owner",private:!1,scopes:["homey.user"],parameters:{newOwnerUserId:{in:"body",type:"string",required:!0}}},deleteUserMeProperties:{method:"DELETE",path:"/user/me/properties/:id",private:!1,scopes:["homey.user.self"],parameters:{id:{in:"path",required:!0,type:"string"}}},updateUserMeProperties:{method:"PUT",path:"/user/me/properties/:id",private:!1,scopes:["homey.user.self"],parameters:{id:{in:"path",required:!0,type:"string"},value:{in:"body",type:"object",required:!0}}},deleteUser:{method:"DELETE",path:"/user/:id",private:!1,scopes:["homey.user"],crud:{type:"deleteOne",item:"User"},parameters:{id:{in:"path",required:!0,type:"string"}}},deleteUserMe:{method:"DELETE",path:"/user/me",private:!1,scopes:["homey.user.self"],parameters:{}},updateUser:{method:"PUT",path:"/user/:id",private:!1,scopes:["homey.user"],crud:{type:"updateOne",item:"User"},parameters:{id:{in:"path",required:!0,type:"string"},user:{in:"body",root:!0,required:!0}}},updateUserMe:{method:"PUT",path:"/user/me",private:!1,scopes:["homey.user.self"],parameters:{email:{in:"body"},name:{in:"body"}}},createUser:{method:"POST",path:"/user",private:!1,scopes:["homey.user"],crud:{type:"createOne",item:"User"},parameters:{user:{in:"body",root:!0,required:!0}}},getUser:{method:"GET",path:"/user/:id",private:!1,scopes:["homey.user.readonly"],crud:{type:"getOne",item:"User"},parameters:{id:{in:"path",required:!0,type:"string"}}},getUserMe:{method:"GET",path:"/user/me",private:!1,scopes:["homey.user.self"],parameters:{}},getUsers:{method:"GET",path:"/user",private:!1,scopes:["homey.user.readonly"],crud:{type:"getAll",item:"User"},parameters:{}},login:{method:"POST",path:"/login",private:!1,scopes:[],parameters:{token:{in:"body",type:"string"}}}}},ManagerWeather:{id:"weather",idCamelCase:"weather",private:!1,operations:{getWeather:{method:"GET",path:"/weather",private:!1,scopes:["homey.geolocation.readonly"],parameters:{}}}},ManagerZones:{id:"zones",idCamelCase:"zones",private:!1,items:{Zone:{id:"zone",type:"id",schema:{type:"object",required:["name"],properties:{id:{type:"string"},name:{type:"string"},order:{type:"number"},parent:{type:"string"},active:{"x-homey-readonly":!0,type:"boolean"},icon:{type:"string"}},"x-realtime-bindings":{read:"getZone",create:"zone.create",update:"zone.update",delete:"zone.delete"}}}},operations:{deleteZone:{method:"DELETE",path:"/zone/:id",private:!1,scopes:["homey.zone"],crud:{type:"deleteOne",item:"Zone"},parameters:{id:{in:"path",required:!0,type:"string"}}},updateZone:{method:"PUT",path:"/zone/:id",private:!1,scopes:["homey.zone"],crud:{type:"updateOne",item:"Zone"},parameters:{id:{in:"path",required:!0,type:"string"},zone:{in:"body",root:!0,required:!0}}},createZone:{method:"POST",path:"/zone",private:!1,scopes:["homey.zone"],crud:{type:"createOne",item:"Zone"},parameters:{zone:{in:"body",root:!0,required:!0}}},getZone:{method:"GET",path:"/zone/:id",private:!1,scopes:["homey.zone.readonly"],crud:{type:"getOne",item:"Zone"},parameters:{id:{in:"path",required:!0,type:"string"}}},getZones:{method:"GET",path:"/zone",private:!1,scopes:["homey.zone.readonly"],crud:{type:"getAll",item:"Zone"},parameters:{}}}},ManagerZigBee:{id:"zigbee",idCamelCase:"zigbee",private:!1,operations:{getState:{method:"GET",path:"/state",scopes:["SYSTEM_READONLY"]},runCommand:{method:"POST",path:"/command",private:!1,scopes:["homey.system"],parameters:{opts:{in:"body",type:"object"},command:{in:"body",type:"string",required:!0}}}}},ManagerZwave:{id:"zwave",idCamelCase:"zwave",private:!1,operations:{getState:{method:"GET",path:"/state",scopes:["SYSTEM_READONLY"]},updateRegion:{method:"POST",path:"/region",private:!1,scopes:["homey.system"],parameters:{region:{in:"body",type:"string",required:!0}}},getLog:{method:"GET",path:"/log",private:!1,scopes:["homey.system"],parameters:{}},setLogEnabled:{method:"PUT",path:"/log",private:!1,scopes:["homey.system"],parameters:{enabled:{in:"body",type:"boolean",required:!0}}},runCommand:{method:"POST",path:"/command",private:!1,scopes:["homey.system"],parameters:{opts:{in:"body",type:"object"},command:{in:"body",type:"string",required:!0}}}}}},require$$12={managers:managers$2};var HomeyAPIV3_1,hasRequiredHomeyAPIV3;function requireHomeyAPIV3(){if(hasRequiredHomeyAPIV3)return HomeyAPIV3_1;hasRequiredHomeyAPIV3=1;const SocketIOClient=requireLib(),APIErrorHomeyOffline=requireAPIErrorHomeyOffline(),Util=Util_1,HomeyAPI=requireHomeyAPI(),HomeyAPIError=requireHomeyAPIError(),ManagerApps=requireManagerApps(),ManagerDrivers=requireManagerDrivers$1(),ManagerDevices=requireManagerDevices$1(),ManagerFlow=requireManagerFlow$1(),ManagerFlowToken=requireManagerFlowToken$1(),ManagerInsights=requireManagerInsights$1();requireManager$1();class HomeyAPIV3 extends HomeyAPI{constructor({properties:o,strategy:t=[HomeyAPI.DISCOVERY_STRATEGIES.MDNS,HomeyAPI.DISCOVERY_STRATEGIES.CLOUD,HomeyAPI.DISCOVERY_STRATEGIES.LOCAL,HomeyAPI.DISCOVERY_STRATEGIES.LOCAL_SECURE,HomeyAPI.DISCOVERY_STRATEGIES.REMOTE_FORWARDED],baseUrl:s=null,token:e=null,...p}){super({properties:o,...p}),Object.defineProperty(this,"__baseUrl",{value:null,enumerable:!1,writable:!0}),Object.defineProperty(this,"__strategyId",{value:null,enumerable:!1,writable:!0}),Object.defineProperty(this,"__token",{value:e,enumerable:!1,writable:!0}),Object.defineProperty(this,"__strategies",{value:Array.isArray(t)?t:[t],enumerable:!1,writable:!1}),Object.defineProperty(this,"__managers",{value:{},enumerable:!1,writable:!1}),Object.defineProperty(this,"__baseUrlPromise",{value:typeof s=="string"?Promise.resolve(s):null,enumerable:!1,writable:!0}),Object.defineProperty(this,"__loginPromise",{value:null,enumerable:!1,writable:!0}),Object.defineProperty(this,"__connected",{value:!1,enumerable:!1,writable:!0}),this.generateManagersFromSpecification()}get baseUrl(){return(async()=>(this.__baseUrlPromise||(this.__baseUrlPromise=this.discoverBaseUrl().then(({baseUrl:o})=>o),this.__baseUrlPromise.catch(()=>{})),this.__baseUrlPromise))()}get strategyId(){return this.__strategyId}getSpecification(){return require$$12}generateManagersFromSpecification(){const{managers:o}=this.getSpecification();Object.entries(o).forEach(([t,s])=>{this.generateManagerFromSpecification(t,s)})}generateManagerFromSpecification(managerName,manager){Object.defineProperty(this,manager.idCamelCase,{get:()=>{if(!this.__managers[managerName]){const ManagerClass=this.constructor.MANAGERS[managerName]?this.constructor.MANAGERS[managerName]:eval(`(class ${managerName} extends Manager {})`);ManagerClass.ID=manager.id,this.__managers[managerName]=new ManagerClass({homey:this,items:manager.items||{},operations:manager.operations||{}})}return this.__managers[managerName]},enumerable:!1})}async discoverBaseUrl(){const o={};if(this.__strategies.includes(HomeyAPI.DISCOVERY_STRATEGIES.MDNS)&&Util.isHTTPUnsecureSupported()&&(o[HomeyAPI.DISCOVERY_STRATEGIES.MDNS]=`http://homey-${this.id}.local`),this.__strategies.includes(HomeyAPI.DISCOVERY_STRATEGIES.LOCAL)&&Util.isHTTPUnsecureSupported()&&this.__properties.localUrl&&(o[HomeyAPI.DISCOVERY_STRATEGIES.LOCAL]=`${this.__properties.localUrl}`),this.__strategies.includes(HomeyAPI.DISCOVERY_STRATEGIES.LOCAL_SECURE)&&this.__properties.localUrlSecure&&(o[HomeyAPI.DISCOVERY_STRATEGIES.LOCAL_SECURE]=`${this.__properties.localUrlSecure}`),this.__strategies.includes(HomeyAPI.DISCOVERY_STRATEGIES.CLOUD)&&this.__properties.remoteUrl&&(o[HomeyAPI.DISCOVERY_STRATEGIES.CLOUD]=`${this.__properties.remoteUrl}`),this.__strategies.includes(HomeyAPI.DISCOVERY_STRATEGIES.REMOTE_FORWARDED)&&this.__properties.remoteUrlForwarded&&(o[HomeyAPI.DISCOVERY_STRATEGIES.REMOTE_FORWARDED]=`${this.__properties.remoteUrlForwarded}`),!Object.keys(o).length)throw new Error("No Discovery Strategies Available");if(Object.keys(o).length===1)return this.__baseUrl=Object.values(o)[0],this.__strategyId=Object.keys(o)[0],{baseUrl:this.__baseUrl,strategyId:this.__strategyId};this.__debug(`Discovery Strategies: ${Object.keys(o).join(",")}`);let t,s;const e=new Promise((d,c)=>{t=d,s=c});e.then(({baseUrl:d,strategyId:c})=>{this.__baseUrl=d,this.__strategyId=c}).catch(()=>{});const p=async(d,c)=>{let u;const r=o[d];return Promise.race([Util.fetch(`${r}/api/manager/system/ping?id=${this.id}`,{headers:{"X-Homey-ID":this.id}}).then(async i=>{const a=await i.text();if(!i.ok)throw new Error(a||i.statusText);if(a==="false")throw new Error("Invalid Homey ID");const l=i.headers.get("X-Homey-ID");if(l&&l!==this.id)throw new Error("Invalid Homey ID");const h=i.headers.get("X-Homey-Version");return h!==this.version&&(this.version=h),{baseUrl:r,strategyId:d}}),new Promise((i,a)=>{u=setTimeout(()=>a(new Error("PingTimeout")),c)})]).finally(()=>clearTimeout(u))},n={};return o[HomeyAPI.DISCOVERY_STRATEGIES.LOCAL_SECURE]&&(n[HomeyAPI.DISCOVERY_STRATEGIES.LOCAL_SECURE]=p(HomeyAPI.DISCOVERY_STRATEGIES.LOCAL_SECURE,1200),n[HomeyAPI.DISCOVERY_STRATEGIES.LOCAL_SECURE].catch(d=>this.__debug(`Ping ${HomeyAPI.DISCOVERY_STRATEGIES.LOCAL_SECURE} Error:`,d&&d.message))),o[HomeyAPI.DISCOVERY_STRATEGIES.LOCAL]&&(n[HomeyAPI.DISCOVERY_STRATEGIES.LOCAL]=p(HomeyAPI.DISCOVERY_STRATEGIES.LOCAL,1e3),n[HomeyAPI.DISCOVERY_STRATEGIES.LOCAL].catch(d=>this.__debug(`Ping ${HomeyAPI.DISCOVERY_STRATEGIES.LOCAL} Error:`,d&&d.message))),o[HomeyAPI.DISCOVERY_STRATEGIES.MDNS]&&(n[HomeyAPI.DISCOVERY_STRATEGIES.MDNS]=p(HomeyAPI.DISCOVERY_STRATEGIES.MDNS,3e3),n[HomeyAPI.DISCOVERY_STRATEGIES.MDNS].catch(d=>this.__debug(`Ping ${HomeyAPI.DISCOVERY_STRATEGIES.MDNS} Error:`,d&&d.message))),o[HomeyAPI.DISCOVERY_STRATEGIES.CLOUD]&&(n[HomeyAPI.DISCOVERY_STRATEGIES.CLOUD]=p(HomeyAPI.DISCOVERY_STRATEGIES.CLOUD,5e3),n[HomeyAPI.DISCOVERY_STRATEGIES.CLOUD].catch(d=>this.__debug(`Ping ${HomeyAPI.DISCOVERY_STRATEGIES.CLOUD} Error:`,d&&d.message))),o[HomeyAPI.DISCOVERY_STRATEGIES.REMOTE_FORWARDED]&&(n[HomeyAPI.DISCOVERY_STRATEGIES.REMOTE_FORWARDED]=p(HomeyAPI.DISCOVERY_STRATEGIES.REMOTE_FORWARDED,2e3),n[HomeyAPI.DISCOVERY_STRATEGIES.REMOTE_FORWARDED].catch(d=>this.__debug(`Ping ${HomeyAPI.DISCOVERY_STRATEGIES.REMOTE_FORWARDED} Error:`,d&&d.message))),n[HomeyAPI.DISCOVERY_STRATEGIES.LOCAL_SECURE]?n[HomeyAPI.DISCOVERY_STRATEGIES.LOCAL_SECURE].then(d=>t(d)).catch(()=>{const d=[];if(n[HomeyAPI.DISCOVERY_STRATEGIES.LOCAL]&&d.push(n[HomeyAPI.DISCOVERY_STRATEGIES.LOCAL]),n[HomeyAPI.DISCOVERY_STRATEGIES.REMOTE_FORWARDED]&&d.push(n[HomeyAPI.DISCOVERY_STRATEGIES.REMOTE_FORWARDED]),n[HomeyAPI.DISCOVERY_STRATEGIES.MDNS]&&d.push(n[HomeyAPI.DISCOVERY_STRATEGIES.MDNS]),n[HomeyAPI.DISCOVERY_STRATEGIES.CLOUD]&&d.push(n[HomeyAPI.DISCOVERY_STRATEGIES.CLOUD]),!d.length)throw new APIErrorHomeyOffline;return Util.promiseAny(d)}).then(d=>t(d)).catch(()=>s(new APIErrorHomeyOffline)):n[HomeyAPI.DISCOVERY_STRATEGIES.LOCAL]?n[HomeyAPI.DISCOVERY_STRATEGIES.LOCAL].then(d=>t(d)).catch(()=>{n[HomeyAPI.DISCOVERY_STRATEGIES.CLOUD]&&n[HomeyAPI.DISCOVERY_STRATEGIES.CLOUD].then(d=>t(d)).catch(d=>s(new APIErrorHomeyOffline(d)))}):n[HomeyAPI.DISCOVERY_STRATEGIES.MDNS]?n[HomeyAPI.DISCOVERY_STRATEGIES.MDNS].then(d=>t(d)).catch(()=>{n[HomeyAPI.DISCOVERY_STRATEGIES.CLOUD]&&n[HomeyAPI.DISCOVERY_STRATEGIES.CLOUD].then(d=>t(d)).catch(d=>s(new APIErrorHomeyOffline(d)))}):n[HomeyAPI.DISCOVERY_STRATEGIES.REMOTE_FORWARDED]?n[HomeyAPI.DISCOVERY_STRATEGIES.REMOTE_FORWARDED].then(d=>t(d)).catch(()=>{n[HomeyAPI.DISCOVERY_STRATEGIES.CLOUD]&&n[HomeyAPI.DISCOVERY_STRATEGIES.CLOUD].then(d=>t(d)).catch(d=>s(new APIErrorHomeyOffline(d)))}):n[HomeyAPI.DISCOVERY_STRATEGIES.CLOUD]?n[HomeyAPI.DISCOVERY_STRATEGIES.CLOUD].then(d=>t(d)).catch(d=>s(new APIErrorHomeyOffline(d))):s(new APIErrorHomeyOffline),e}async call({$timeout:o=1e4,method:t,headers:s,path:e,body:p,json:n=!0,retryAfterRefresh:d=!1}){const c=await this.baseUrl;t=String(t).toUpperCase(),s={...s,"X-Homey-ID":this.id},this.__token&&(s.Authorization=`Bearer ${this.__token}`),["PUT","POST"].includes(t)?p&&n===!0&&(s["Content-Type"]="application/json",p=JSON.stringify(p)):p=void 0,this.__debug(t,`${c}${e}`);const u=await Util.timeout(Util.fetch(`${c}${e}`,{method:t,headers:s,body:p}),o),r=u.status;if(r===204)return;const i=u.status,a=u.headers.get("Content-Type"),l=await u.text();let h;if(a&&a.startsWith("application/json"))try{h=JSON.parse(l)}catch{}if(!u.ok){if(h){if(r===401&&(this.__debug("Session expired, invalidating token..."),await this.logout()),r===401&&!d)return this.__debug("Session expired, refreshing..."),await this.login(),this.call({method:t,headers:s,path:e,body:p,retryAfterRefresh:!0});throw new HomeyAPIError({error:h.error,error_description:h.error_description,stack:h.stack},r)}throw l?new HomeyAPIError({error:l},r):new HomeyAPIError({error:i},r)}return typeof h<"u"?h:l}async login(){return this.__loginPromise||(this.__loginPromise=Promise.resolve().then(async()=>{const o=await this.__getStore();if(o&&o.token)return this.__debug("Got token from store"),o.token;if(this.__api){this.__debug("Retrieving token...");const t=await this.__api.createDelegationToken({audience:"homey"}),s=await this.users.login({$socket:!1,token:t});return await this.__setStore({token:s}),this.__debug("Got token"),s}throw new Error("Cannot Sign In: Missing AthomCloudAPI")}),this.__loginPromise.then(o=>{this.__token=o}).catch(o=>{this.__debug("Error Logging In:",o)}).finally(()=>{this.__loginPromise=null})),this.__loginPromise}async logout(){await this.__setStore({token:null}),this.__token=null}isConnected(){return this.__connected===!0}async subscribe(o,{onConnect:t=()=>{},onReconnect:s=()=>{},onReconnectError:e=()=>{},onDisconnect:p=()=>{},onEvent:n=()=>{}}){this.__debug("subscribe",o),await this.connect(),await new Promise((r,i)=>{this.__ioNamespace.once("disconnect",i),this.__ioNamespace.emit("subscribe",o,a=>a?i(a):r())});const d=(r,i)=>{n(r,i)};this.__ioNamespace.on(o,d),t();const c=r=>{p(r)};this.__io.on("disconnect",c);const u=()=>{Promise.resolve().then(async()=>{await this.connect(),await new Promise((r,i)=>{this.__ioNamespace.emit("subscribe",o,a=>a?i(a):r())}),this.__ioNamespace.on(o,d),s()}).catch(r=>e(r))};return this.__io.on("reconnect",u),{unsubscribe:()=>{this.__ioNamespace.emit("unsubscribe",o),this.__ioNamespace.removeListener(o,d),this.__io.removeListener("disconnect",c),this.__io.removeListener("reconnect",u)}}}async connect(){return this.io||(this.io=Promise.resolve().then(async()=>{const o=await this.baseUrl;return this.__token||await this.login(),new Promise((t,s)=>{this.__debug(`SocketIOClient ${o}`),this.__io=SocketIOClient(o,{autoConnect:!1,transports:["websocket"],transportOptions:{pingTimeout:8e3,pingInterval:5e3}}),this.__io.on("disconnect",e=>{this.__debug("SocketIOClient.onDisconnect",e),this.__connected=!1,this.__ioNamespace&&(this.__ioNamespace.disconnect(),this.__ioNamespace.destroy(),this.__ioNamespace.removeAllListeners()),s(new Error("Disconnected"))}),this.__io.on("error",e=>{this.__debug("SocketIOClient.onError",e.message)}),this.__io.on("reconnect",()=>{this.__debug("SocketIOClient.onReconnect"),this.__handshakeClient().then(()=>{this.__debug("SocketIOClient.onReconnect.onHandshakeClientSuccess"),this.__connected=!0,t()}).catch(e=>{this.__debug("SocketIOClient.onReconnect.onHandshakeClientError",e.message),s(e)})}),this.__io.on("reconnecting",e=>{this.__debug(`SocketIOClient.onReconnecting (Attempt #${e})`)}),this.__io.on("reconnect_error",e=>{this.__debug("SocketIOClient.onReconnectError",e.message)}),this.__io.once("connect_error",e=>{this.__debug("SocketIOClient.onConnectError",e.message),s(e)}),this.__io.once("connect",()=>{this.__debug("SocketIOClient.onConnect"),this.__handshakeClient().then(()=>{this.__debug("SocketIOClient.onConnect.onHandshakeClientSuccess"),this.__connected=!0,t()}).catch(e=>{this.__debug("SocketIOClient.onConnect.onHandshakeClientError",e.message),s(e)})}),this.__io.connect()})}),this.io.catch(o=>{this.__debug("SocketIOClient Error",o.message)})),this.io}async disconnect(){this.__io&&await new Promise(o=>{this.__io.once("disconnect",o()),this.__io.disconnect(),this.__io.removeAllListeners(),this.__io=null})}destroy(){this.__io&&(this.__io.removeAllListeners(),this.__io.close())}async __handshakeClient(){return new Promise((o,t)=>{this.__io.emit("handshakeClient",{token:this.__token,homeyId:this.id},(s,e)=>s?t(s):o(e))}).catch(async o=>{if(o.statusCode===401)return this.__debug("Token expired, refreshing..."),await this.logout(),await this.login(),new Promise((t,s)=>{this.__io.emit("handshakeClient",{token:this.__token,homeyId:this.id},(e,p)=>e?s(e):t(p))});throw o}).then(({namespace:o})=>(this.__debug("SocketIOClient.onHandshakeClientSuccess",`Namespace: ${o}`),new Promise((t,s)=>{this.__ioNamespace=this.__io.io.socket(o),this.__ioNamespace.once("connect",()=>{this.__debug(`SocketIOClient.Namespace[${o}].onConnect`),t()}),this.__ioNamespace.once("connect_error",e=>{this.__debug(`SocketIOClient.Namespace[${o}].onConnectError`,e.message),s(e)}),this.__ioNamespace.on("reconnecting",e=>{this.__debug(`SocketIOClient.Namespace[${o}].onReconnecting (Attempt #${e})`)}),this.__ioNamespace.on("reconnect",()=>{this.__debug(`SocketIOClient.Namespace[${o}].onReconnect`)}),this.__ioNamespace.on("reconnect_error",e=>{this.__debug(`SocketIOClient.Namespace[${o}].onReconnectError`,e.message)}),this.__ioNamespace.on("disconnect",e=>{this.__debug(`SocketIOClient.Namespace[${o}].onDisconnect`,e)}),this.__ioNamespace.connect()})))}}return E(HomeyAPIV3,"MANAGERS",{ManagerApps,ManagerDrivers,ManagerDevices,ManagerFlow,ManagerFlowToken,ManagerInsights}),HomeyAPIV3_1=HomeyAPIV3,HomeyAPIV3_1}var Flow_1,hasRequiredFlow;function requireFlow(){if(hasRequiredFlow)return Flow_1;hasRequiredFlow=1;const o=requireFlow$1();class t extends o{static transformGet(e){return e=super.transformGet(e),e.trigger&&(e.trigger.id=`${e.trigger.uri}:${e.trigger.id}`,delete e.trigger.uri),Array.isArray(e.conditions)&&e.conditions.forEach(p=>{p.id=`${p.uri}:${p.id}`,delete p.uri}),Array.isArray(e.actions)&&e.actions.forEach(p=>{p.id=`${p.uri}:${p.id}`,delete p.uri}),delete e.broken,e}static transformSet(e){return e.trigger&&(e.trigger.uri=e.trigger.id.split(":",3).join(":"),e.trigger.id=e.trigger.id.split(":").reverse()[0]),Array.isArray(e.conditions)&&e.conditions.forEach(p=>{p.uri=p.id.split(":",3).join(":"),p.id=p.id.split(":").reverse()[0]}),Array.isArray(e.actions)&&e.actions.forEach(p=>{p.uri=p.id.split(":",3).join(":"),p.id=p.id.split(":").reverse()[0]}),e}}return Flow_1=t,Flow_1}var AdvancedFlow_1,hasRequiredAdvancedFlow;function requireAdvancedFlow(){if(hasRequiredAdvancedFlow)return AdvancedFlow_1;hasRequiredAdvancedFlow=1;const o=requireAdvancedFlow$1();class t extends o{static transformGet(e){if(e.cards)for(const p of Object.values(e.cards))p.id=`${p.ownerUri}:${p.id}`;return delete e.broken,e}static transformSet(e){if(e.cards)for(const p of Object.values(e.cards))p.ownerUri=p.id.split(":",3).join(":"),p.id=p.id.split(":").reverse()[0];return e}}return AdvancedFlow_1=t,AdvancedFlow_1}var FlowCardTrigger_1,hasRequiredFlowCardTrigger;function requireFlowCardTrigger(){if(hasRequiredFlowCardTrigger)return FlowCardTrigger_1;hasRequiredFlowCardTrigger=1;const o=requireFlowCardTrigger$1();class t extends o{static transformGet(e){return e=super.transformGet(e),e.id=`${e.uri}:${e.id}`,e.ownerUri=e.uri,e.ownerId=e.uriObj.id,e.ownerName=e.uriObj.name,e.color=e.uriObj.color,e.iconObj=e.uriObj.iconObj,delete e.uri,delete e.uriObj,e}}return FlowCardTrigger_1=t,FlowCardTrigger_1}var FlowCardCondition_1,hasRequiredFlowCardCondition;function requireFlowCardCondition(){if(hasRequiredFlowCardCondition)return FlowCardCondition_1;hasRequiredFlowCardCondition=1;const o=requireFlowCardCondition$1();class t extends o{static transformGet(e){return e=super.transformGet(e),e.id=`${e.uri}:${e.id}`,e.ownerUri=e.uri,e.ownerId=e.uriObj.id,e.ownerName=e.uriObj.name,e.color=e.uriObj.color,e.iconObj=e.uriObj.iconObj,delete e.uri,delete e.uriObj,e}}return FlowCardCondition_1=t,FlowCardCondition_1}var FlowCardAction_1,hasRequiredFlowCardAction;function requireFlowCardAction(){if(hasRequiredFlowCardAction)return FlowCardAction_1;hasRequiredFlowCardAction=1;const o=requireFlowCardAction$1();class t extends o{static transformGet(e){return e=super.transformGet(e),e.id=`${e.uri}:${e.id}`,e.ownerUri=e.uri,e.ownerId=e.uriObj.id,e.ownerName=e.uriObj.name,e.color=e.uriObj.color,e.iconObj=e.uriObj.iconObj,delete e.uri,delete e.uriObj,e}}return FlowCardAction_1=t,FlowCardAction_1}var ManagerFlow_1,hasRequiredManagerFlow;function requireManagerFlow(){if(hasRequiredManagerFlow)return ManagerFlow_1;hasRequiredManagerFlow=1;const o=requireManagerFlow$1(),t=requireFlow(),s=requireAdvancedFlow(),e=requireFlowCardTrigger(),p=requireFlowCardCondition(),n=requireFlowCardAction(),c=class extends o{async createFlow({flow:r,...i}){return this.__super__.createFlow({flow:t.transformSet(r),...i})}async updateFlow({flow:r,...i}){return this.__super__.updateFlow({flow:t.transformSet(r),...i})}async createAdvancedFlow({advancedflow:r,...i}){return this.__super__.createAdvancedFlow({advancedflow:s.transformSet(r),...i})}async updateAdvancedFlow({advancedflow:r,...i}){return this.__super__.updateAdvancedFlow({advancedflow:s.transformSet(r),...i})}async getFlowCardTrigger({$cache:r=!0,id:i}){return r===!0&&this.__cache.flowcardtrigger[i]?this.__cache.flowcardtrigger[i]:this.__super__getFlowCardTrigger({id:i.split(":").reverse()[0],uri:i.split(":",3).join(":")})}async getFlowCardCondition({$cache:r=!0,id:i}){return r===!0&&this.__cache.flowcardcondition[i]?this.__cache.flowcardcondition[i]:this.__super__getFlowCardCondition({id:i.split(":").reverse()[0],uri:i.split(":",3).join(":")})}async runFlowCardCondition({id:r,...i}){return this.__super__runFlowCardCondition({id:r.split(":").reverse()[0],uri:r.split(":",3).join(":"),...i})}async getFlowCardAction({$cache:r=!0,id:i}){return r===!0&&this.__cache.flowcardaction[i]?this.__cache.flowcardaction[i]:this.__super__getFlowCardAction({id:i.split(":").reverse()[0],uri:i.split(":",3).join(":")})}async runFlowCardAction({id:r,...i}){return this.__super__runFlowCardAction({id:r.split(":").reverse()[0],uri:r.split(":",3).join(":"),...i})}};let d=c;return E(d,"CRUD",{...D(c,c,"CRUD"),Flow:t,AdvancedFlow:s,FlowCardTrigger:e,FlowCardCondition:p,FlowCardAction:n}),ManagerFlow_1=d,ManagerFlow_1}var FlowToken_1,hasRequiredFlowToken;function requireFlowToken(){if(hasRequiredFlowToken)return FlowToken_1;hasRequiredFlowToken=1;const o=requireFlowToken$1();class t extends o{static transformGet(e){return e.ownerUri=e.uri,e.ownerId=e.id,e.id=`${e.ownerUri}:${e.ownerId}`,delete e.ownerName,delete e.uri,delete e.uriObj,e}}return FlowToken_1=t,FlowToken_1}var ManagerFlowToken_1,hasRequiredManagerFlowToken;function requireManagerFlowToken(){if(hasRequiredManagerFlowToken)return ManagerFlowToken_1;hasRequiredManagerFlowToken=1;const o=requireManagerFlowToken$1(),t=requireFlowToken(),e=class extends o{async getFlowToken({$cache:n=!0,id:d}){return n===!0&&this.__cache.flowtoken[d]?this.__cache.flowtoken[d]:this.__super__getFlowToken({id:d.split(":").reverse()[0],uri:d.split(":",3).join(":")})}};let s=e;return E(s,"CRUD",{...D(e,e,"CRUD"),FlowToken:t}),ManagerFlowToken_1=s,ManagerFlowToken_1}var Capability_1,hasRequiredCapability;function requireCapability(){if(hasRequiredCapability)return Capability_1;hasRequiredCapability=1;const o=requireCapability$1();class t extends o{static transformGet(e){return e=super.transformGet(e),e.id=`${e.uri}:${e.id}`,e.ownerUri=e.uri,delete e.uri,e}}return Capability_1=t,Capability_1}var Device_1$1,hasRequiredDevice;function requireDevice(){if(hasRequiredDevice)return Device_1$1;hasRequiredDevice=1;const o=requireDevice$1();class t extends o{static transformGet(e){return e.driverId=`${e.driverUri}:${e.driverId}`,e=super.transformGet(e),delete e.driverUri,delete e.zoneName,e}}return Device_1$1=t,Device_1$1}var ManagerDevices_1,hasRequiredManagerDevices;function requireManagerDevices(){if(hasRequiredManagerDevices)return ManagerDevices_1;hasRequiredManagerDevices=1;const o=requireManagerDevices$1(),t=requireCapability(),s=requireDevice(),p=class extends o{};let e=p;return E(e,"CRUD",{...D(p,p,"CRUD"),Capability:t,Device:s}),ManagerDevices_1=e,ManagerDevices_1}var Driver_1,hasRequiredDriver;function requireDriver(){if(hasRequiredDriver)return Driver_1;hasRequiredDriver=1;const o=requireDriver$1();class t extends o{static transformGet(e){return e=super.transformGet(e),e.ownerId=e.id,e.ownerUri=e.uri,e.ownerName=e.uriObj.name,e.ownerIconObj=e.uriObj.iconObj,e.color=e.uriObj.color,e.id=`${e.uri}:${e.id}`,delete e.uri,delete e.uriObj,e}}return Driver_1=t,Driver_1}var PairSession_1,hasRequiredPairSession;function requirePairSession(){if(hasRequiredPairSession)return PairSession_1;hasRequiredPairSession=1;const o=requirePairSession$1();class t extends o{static transformGet(e){return e=super.transformGet(e),e.driverId=`${e.driverUri}:${e.driverId}`,e.ownerUri=e.driverUri,delete e.driverUri,e}}return PairSession_1=t,PairSession_1}var ManagerDrivers_1,hasRequiredManagerDrivers;function requireManagerDrivers(){if(hasRequiredManagerDrivers)return ManagerDrivers_1;hasRequiredManagerDrivers=1;const o=requireManagerDrivers$1(),t=requireDriver(),s=requirePairSession(),p=class extends o{async getDriver({$cache:d=!0,id:c}){return d===!0&&this.__cache.driver[c]?this.__cache.driver[c]:this.__super__getDriver({id:c.split(":").reverse()[0],uri:c.split(":",3).join(":")})}async createPairSession({pairsession:d,...c}){return d.driverId&&(d.driverUri=d.driverId.split(":",3).join(":"),d.driverId=d.driverId.split(":").reverse()[0]),this.__super__createPairSession({pairsession:d,...c})}};let e=p;return E(e,"CRUD",{...D(p,p,"CRUD"),Driver:t,PairSession:s}),ManagerDrivers_1=e,ManagerDrivers_1}var browser,hasRequiredBrowser;function requireBrowser(){return hasRequiredBrowser||(hasRequiredBrowser=1,browser=typeof self=="object"?self.FormData:window.FormData),browser}var Manager_1,hasRequiredManager;function requireManager(){if(hasRequiredManager)return Manager_1;hasRequiredManager=1;const o=requireManager$1();class t extends o{}return Manager_1=t,Manager_1}var ManagerDevkit_1$1,hasRequiredManagerDevkit$1;function requireManagerDevkit$1(){if(hasRequiredManagerDevkit$1)return ManagerDevkit_1$1;hasRequiredManagerDevkit$1=1;const o=requireBrowser(),t=requireManager();class s extends t{async runApp({app:p,env:n={},debug:d=!1,clean:c=!1}){const u=new o;return u.append("app",p),u.append("env",JSON.stringify(n)),u.append("debug",d?"true":"false"),u.append("purgeSettings",c?"true":"false"),this.homey.call({$timeout:1e3*60*5,method:"POST",path:"/api/manager/devkit/",body:u,json:!1})}}return ManagerDevkit_1$1=s,ManagerDevkit_1$1}var ManagerDevkit_1,hasRequiredManagerDevkit;function requireManagerDevkit(){if(hasRequiredManagerDevkit)return ManagerDevkit_1;hasRequiredManagerDevkit=1;const o=requireManagerDevkit$1();class t extends o{}return ManagerDevkit_1=t,ManagerDevkit_1}var Log_1,hasRequiredLog;function requireLog(){if(hasRequiredLog)return Log_1;hasRequiredLog=1;const o=requireLog$1();class t extends o{static transformGet(e){return e=super.transformGet(e),e.ownerId=e.id,e.ownerUri=e.uri,e.id=`${e.uri}:${e.id}`,delete e.uri,delete e.uriObj,e}}return Log_1=t,Log_1}var ManagerInsights_1,hasRequiredManagerInsights;function requireManagerInsights(){if(hasRequiredManagerInsights)return ManagerInsights_1;hasRequiredManagerInsights=1;const o=requireManagerInsights$1(),t=requireLog(),e=class extends o{async getLog({$cache:n=!0,id:d}){return n===!0&&this.__cache.log[d]?this.__cache.log[d]:this.__super__getLog({id:d.split(":").reverse()[0],uri:d.split(":",3).join(":")})}async getLogEntries({id:n,resolution:d}){return this.__super__getLogEntries({id:n.split(":").reverse()[0],uri:n.split(":",3).join(":"),resolution:d})}async deleteLogEntries({id:n}){return this.__super__deleteLogEntries({id:n.split(":").reverse()[0],uri:n.split(":",3).join(":")})}};let s=e;return E(s,"CRUD",{...D(e,e,"CRUD"),Log:t}),ManagerInsights_1=s,ManagerInsights_1}var HomeyAPIV2_1,hasRequiredHomeyAPIV2;function requireHomeyAPIV2(){if(hasRequiredHomeyAPIV2)return HomeyAPIV2_1;hasRequiredHomeyAPIV2=1;const o=requireHomeyAPIV3(),t=requireManagerFlow(),s=requireManagerFlowToken(),e=requireManagerDevices(),p=requireManagerDrivers(),n=requireManagerDevkit(),d=requireManagerInsights(),u=class extends o{get platform(){return"local"}get platformVersion(){return 1}};let c=u;return E(c,"MANAGERS",{...D(u,u,"MANAGERS"),ManagerFlow:t,ManagerFlowToken:s,ManagerDevices:e,ManagerDrivers:p,ManagerDevkit:n,ManagerInsights:d}),HomeyAPIV2_1=c,HomeyAPIV2_1}const managers$1={ManagerAlarms:{id:"alarms",idCamelCase:"alarms",items:{Alarm:{id:"alarm",schema:{repetition:{type:"object",properties:{required:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],monday:{type:"boolean"},tuesday:{type:"boolean"},wednesday:{type:"boolean"},thursday:{type:"boolean"},friday:{type:"boolean"},saturday:{type:"boolean"},sunday:{type:"boolean"}}}}}},operations:{getAlarms:{method:"get",path:"/alarm",private:!1,scopes:["homey.alarm.readonly"],crud:{type:"getAll",item:"Alarm"},parameters:{}},getAlarm:{method:"get",path:"/alarm/:id",private:!1,scopes:["homey.alarm.readonly"],crud:{type:"getOne",item:"Alarm"},parameters:{id:{in:"path",type:"string",required:!0}}},createAlarm:{method:"post",path:"/alarm",private:!1,scopes:["homey.alarm"],crud:{type:"createOne",item:"Alarm"},parameters:{alarm:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string"},time:{type:"string"},enabled:{type:"boolean"},repetition:{type:"object"}}}}},updateAlarm:{method:"put",path:"/alarm/:id",private:!1,scopes:["homey.alarm"],crud:{type:"updateOne",item:"Alarm"},parameters:{id:{in:"path",type:"string",required:!0},alarm:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string"},time:{type:"string"},enabled:{type:"boolean"},repetition:{type:"object"}}}}},deleteAlarm:{method:"delete",path:"/alarm/:id",private:!1,scopes:["homey.alarm"],crud:{type:"deleteOne",item:"Alarm"},parameters:{id:{in:"path",type:"string",required:!0}}}}},ManagerApi:{id:"api",idCamelCase:"api",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerApps:{id:"apps",idCamelCase:"apps",items:{App:{id:"app",schema:{type:"object",properties:{id:{type:"string"}}}},AppSettings:{id:"appsettings",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getApps:{method:"get",path:"/app",private:!1,scopes:["homey.app.readonly"],crud:{type:"getAll",item:"App"},parameters:{}},getApp:{method:"get",path:"/app/:id",private:!1,scopes:["homey.app.readonly"],crud:{type:"getOne",item:"App"},parameters:{id:{in:"path",type:"string",required:!0}}},installFromAppStore:{method:"post",path:"/store",private:!1,scopes:["homey.app"],parameters:{id:{in:"body",type:"string",required:!0},channel:{in:"body",type:"string"}}},uninstallApp:{method:"delete",path:"/app/:id",private:!1,scopes:["homey.app"],parameters:{id:{in:"path",type:"string",required:!0}}},getAppSettings:{method:"get",path:"/app/:id/setting",private:!1,scopes:["homey.app.control"],crud:{type:"getOne",item:"AppSettings"},parameters:{id:{in:"path",type:"string",required:!0}}},getAppSetting:{method:"get",path:"/app/:id/setting/:name",private:!1,scopes:["homey.app.control"],parameters:{name:{in:"path",type:"string",required:!0},id:{in:"path",type:"string",required:!0}}},setAppSetting:{method:"put",path:"/app/:id/setting/:name",private:!1,scopes:["homey.app.control"],parameters:{name:{in:"path",type:"string",required:!0},id:{in:"path",type:"string",required:!0},value:{in:"body",required:!0}}},unsetAppSetting:{method:"delete",path:"/app/:id/setting/:name",private:!1,scopes:["homey.app.control"],parameters:{name:{in:"path",type:"string",required:!0},id:{in:"path",type:"string",required:!0}}},getAppStd:{method:"post",path:"/app/:id/crashlog",private:!1,scopes:["homey.app.readonly"],parameters:{id:{in:"path",type:"string",required:!0},message:{in:"body",type:"string",required:!0}}},updateApp:{method:"put",path:"/app/:id",private:!1,scopes:["homey.app"],crud:{type:"updateOne",item:"App"},parameters:{id:{in:"path",type:"string",required:!0},app:{in:"body",type:"object",root:!0,required:!0,properties:{autoupdate:{type:"boolean"}}}}},enableApp:{method:"put",path:"/app/:id/enable",private:!1,scopes:["homey.app"],parameters:{id:{in:"path",type:"string",required:!0}}},disableApp:{method:"put",path:"/app/:id/disable",private:!1,scopes:["homey.app"],parameters:{id:{in:"path",type:"string",required:!0}}},restartApp:{method:"post",path:"/app/:id/restart",private:!1,scopes:["homey.app"],parameters:{id:{in:"path",type:"string",required:!0}}},getAppLocales:{method:"get",path:"/app/:id/locale",private:!1,scopes:["homey.app.readonly"],parameters:{id:{in:"path",type:"string",required:!0}}},getAppUsage:{method:"get",path:"/app/:id/usage",private:!1,scopes:["homey.app.readonly"],parameters:{id:{in:"path",type:"string",required:!0}}}}},ManagerArp:{id:"arp",idCamelCase:"arp",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerBackup:{id:"backup",idCamelCase:"backup",items:{},operations:{getOptionAutomaticBackupsEnabled:{method:"GET",path:"/option/automaticBackupsEnabled",scopes:["homey.system.readonly"]},setOptionAutomaticBackupsEnabled:{method:"PUT",path:"/option/automaticBackupsEnabled",scopes:["homey.system"],parameters:{value:{in:"body",required:!0}}},unsetOptionAutomaticBackupsEnabled:{method:"DELETE",path:"/option/automaticBackupsEnabled",scopes:["homey.system"]},getOptionLastSuccessfulBackup:{method:"GET",path:"/option/lastSuccessfulBackup",scopes:["homey.system.readonly"]},setOptionLastSuccessfulBackup:{method:"PUT",path:"/option/lastSuccessfulBackup",scopes:[],parameters:{value:{in:"body",required:!0}}},unsetOptionLastSuccessfulBackup:{method:"DELETE",path:"/option/lastSuccessfulBackup",scopes:[]},getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},scheduleBackup:{method:"post",path:"/backup",private:!1,scopes:["homey.system"],parameters:{}}}},ManagerBLE:{id:"ble",idCamelCase:"ble",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},runCommand:{method:"post",path:"/command",private:!1,scopes:["homey.system"],parameters:{command:{in:"body",type:"string",required:!0},opts:{in:"body",type:"object"}}}}},ManagerClock:{id:"clock",idCamelCase:"clock",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerCloud:{id:"cloud",idCamelCase:"cloud",items:{Webhook:{id:"webhook",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerCoprocessor:{id:"coprocessor",idCamelCase:"coprocessor",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getBridges:{method:"get",path:"/bridge",private:!1,scopes:["homey.system.readonly"],parameters:{}},pairBridge:{method:"post",path:"/bridge",private:!1,scopes:["homey.system"],parameters:{serialHash:{in:"body",type:"string",required:!0}}},setDebugLogging:{method:"put",path:"/debug",private:!0,scopes:["homey.system"],parameters:{peripheral:{in:"body",type:"string"},enabled:{in:"body",type:"boolean",required:!0}}}}},ManagerCron:{id:"cron",idCamelCase:"cron",items:{Cronjob:{id:"cronjob",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerDashboards:{id:"dashboards",idCamelCase:"dashboards",private:!0,items:{Dashboard:{id:"dashboard",schema:{type:"object",properties:{id:{type:"string",format:"uuid"},name:{type:"string"},widgets:{type:"object",additionalProperties:!1,patternProperties:{"^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$":{type:"object",properties:{type:{type:"string"},x:{type:"number"},y:{type:"number"},width:{type:"number"},height:{type:"number"},settings:{type:"object"}}}}},lines:{type:"object",additionalProperties:!1,patternProperties:{"^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$":{type:"object",properties:{x1:{type:"number"},x2:{type:"number"},y1:{type:"number"},y2:{type:"number"},settings:{type:"object"}}}}}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getDashboards:{method:"get",path:"/dashboard",private:!1,scopes:["homey.dashboard.readonly"],crud:{type:"getAll",item:"Dashboard"},parameters:{}},getDashboard:{method:"get",path:"/dashboard/:id",private:!1,scopes:["homey.dashboard.readonly"],crud:{type:"getOne",item:"Dashboard"},parameters:{id:{in:"path",type:"string",required:!0}}},createDashboard:{method:"post",path:"/dashboard",private:!1,scopes:["homey.dashboard"],crud:{type:"createOne",item:"Dashboard"},parameters:{dashboard:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string",required:!0},widgets:{type:"object",required:!0},lines:{type:"object",required:!0}}}}},updateDashboard:{method:"put",path:"/dashboard/:id",private:!1,scopes:["homey.dashboard"],crud:{type:"updateOne",item:"Dashboard"},parameters:{id:{in:"path",type:"string",required:!0},dashboard:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string"},widgets:{type:"object"},lines:{type:"object"}}}}},deleteDashboard:{method:"delete",path:"/dashboard/:id",private:!1,scopes:["homey.dashboard"],crud:{type:"deleteOne",item:"Dashboard"},parameters:{id:{in:"path",type:"string",required:!0}}}}},ManagerDatabase:{id:"database",idCamelCase:"database",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerDevices:{id:"devices",idCamelCase:"devices",items:{Device:{id:"device",schema:{type:"object",properties:{id:{type:"string",format:"uuid"},name:{type:"string"},note:{type:"string"}}}},Capability:{id:"capability",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getDevice:{method:"get",path:"/device/:id",private:!1,scopes:["homey.device.readonly"],crud:{type:"getOne",item:"Device"},parameters:{id:{in:"path",type:"string",required:!0}}},getDeviceSettingsObj:{method:"get",path:"/device/:id/settings_obj",private:!1,scopes:["homey.device.readonly"],parameters:{id:{in:"path",type:"string",required:!0}}},setDeviceSettings:{method:"put",path:"/device/:id/settings",private:!1,scopes:["homey.device"],parameters:{id:{in:"path",type:"string",required:!0},settings:{in:"body",type:"object",root:!0,required:!0}}},getDevices:{method:"get",path:"/device",private:!1,scopes:["homey.device.readonly"],crud:{type:"getAll",item:"Device"},parameters:{}},updateDevice:{method:"put",path:"/device/:id",private:!1,scopes:["homey.device"],crud:{type:"updateOne",item:"Device"},parameters:{id:{in:"path",type:"string",required:!0},device:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string"},zone:{type:"string"},note:{type:"string"},iconOverride:{type:"string"},virtualClass:{type:"string"},uiIndicator:{type:"string"}}}}},deleteDevice:{method:"delete",path:"/device/:id",private:!1,scopes:["homey.device"],crud:{type:"deleteOne",item:"Device"},parameters:{id:{in:"path",type:"string",required:!0}}},getCapabilityValue:{method:"get",path:"/device/:deviceId/capability/:capabilityId",private:!1,scopes:["homey.device.readonly"],parameters:{capabilityId:{in:"path",type:"string",required:!0},deviceId:{in:"path",type:"string",required:!0}}},setCapabilityValue:{method:"put",path:"/device/:deviceId/capability/:capabilityId",private:!1,scopes:["homey.device.control"],parameters:{capabilityId:{in:"path",type:"string",required:!0},deviceId:{in:"path",type:"string",required:!0},value:{in:"body",type:["string","number","boolean"],required:!0},opts:{in:"body",type:"object"},transactionId:{in:"body",type:"string"}}}}},ManagerDevkit:{id:"devkit",idCamelCase:"devkit",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},installApp:{method:"post",path:"/app",private:!1,scopes:["homey.app"],parameters:{manifest:{in:"body",type:"object",required:!0},clean:{in:"body",type:"boolean"}}},uninstallApp:{method:"delete",path:"/app/:sessionId",private:!1,scopes:["homey.app"],parameters:{sessionId:{in:"path",type:"string",required:!0}}},stopApp:{method:"delete",path:"/:session",private:!1,scopes:["homey.app"],parameters:{session:{in:"path",type:"string",required:!0}}},getAppStdOut:{method:"get",path:"/std/:session",private:!1,scopes:["homey.app"],parameters:{session:{in:"path",type:"string",required:!0}}}}},ManagerDiscovery:{id:"discovery",idCamelCase:"discovery",items:{DiscoveryStrategyMDNSSD:{id:"discoverystrategy-mdnssd",schema:{type:"object",properties:{id:{type:"string"}}}},DiscoveryStrategySSDP:{id:"discoverystrategy-ssdp",schema:{type:"object",properties:{id:{type:"string"}}}},DiscoveryStrategyMAC:{id:"discoverystrategy-mac",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerDrivers:{id:"drivers",idCamelCase:"drivers",items:{Driver:{id:"driver",schema:{type:"object",properties:{id:{type:"string",format:"uuid"},pair:{type:"array",required:!0}}}},PairSession:{id:"pairsession",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getDrivers:{method:"get",path:"/driver",private:!1,scopes:["homey.device.readonly"],crud:{type:"getAll",item:"Driver"},parameters:{}},getPairSession:{method:"get",path:"/pairsession/:id",private:!1,scopes:["homey.device"],crud:{type:"getOne",item:"PairSession"},parameters:{id:{in:"path",type:"string",required:!0}}},createPairSession:{method:"post",path:"/pairsession",private:!1,scopes:["homey.device"],crud:{type:"createOne",item:"PairSession"},parameters:{pairsession:{in:"body",type:"object",root:!0,required:!0,properties:{type:{type:"string",required:!0},driverId:{type:"string",required:!0},deviceId:{type:"string"},zoneId:{type:"string"}}}}},deletePairSession:{method:"delete",path:"/pairsession/:id",private:!1,scopes:["homey.device"],crud:{type:"deleteOne",item:"PairSession"},parameters:{id:{in:"path",type:"string",required:!0}}},emitPairingHeartbeat:{method:"post",path:"/pairsession/:id/heartbeat",private:!1,scopes:["homey.device"],parameters:{id:{in:"path",type:"string",required:!0}}},emitPairingEvent:{method:"post",path:"/pairsession/:id/emit",private:!1,scopes:["homey.device"],parameters:{id:{in:"path",type:"string",required:!0},event:{in:"body",type:"string",required:!0},data:{in:"body"}}},emitPairingCallback:{method:"post",path:"/pairsession/:id/callback",private:!1,scopes:["homey.device"],parameters:{id:{in:"path",type:"string",required:!0},callbackId:{in:"body",type:"string",required:!0},data:{in:"body"}}},createPairSessionDevice:{method:"post",path:"/pairsession/:id/device",private:!1,scopes:["homey.device"],parameters:{id:{in:"path",type:"string",required:!0},device:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string"},data:{required:!0},zone:{type:"string"},store:{type:"object"},capabilities:{type:"array"},capabilitiesOptions:{type:"object"},class:{type:"string"},icon:{type:"string"},iconOverride:{type:"string"},settings:{type:"object"},energy:{type:"object"}}}}},deletePairSessionDevice:{method:"delete",path:"/pairsession/:id/device",private:!1,scopes:["homey.device"],parameters:{id:{in:"path",type:"string",required:!0}}}}},ManagerEnergy:{id:"energy",idCamelCase:"energy",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getLiveReport:{method:"get",path:"/live",private:!1,scopes:["homey.insights.readonly"],parameters:{zone:{in:"query",type:"string"}}}}},ManagerExperiments:{id:"experiments",idCamelCase:"experiments",items:{ExperimentSSH:{id:"experiment-ssh",schema:{type:"object",properties:{id:{type:"string"}}}},ExperimentHomeKit:{id:"experiment-homekit",schema:{type:"object",properties:{id:{type:"string"}}}},ExperimentPowerUser:{id:"experiment-poweruser",schema:{type:"object",properties:{id:{type:"string"}}}},ExperimentVirtualDevices:{id:"experiment-virtualdevices",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getExperiments:{method:"get",path:"/experiment",private:!1,scopes:[],parameters:{}},enableExperiment:{method:"put",path:"/experiment/:experimentId/enable",private:!1,scopes:[],parameters:{experimentId:{in:"path",type:"string",required:!0}}},disableExperiment:{method:"put",path:"/experiment/:experimentId/disable",private:!1,scopes:[],parameters:{experimentId:{in:"path",type:"string",required:!0}}}}},ManagerFlow:{id:"flow",idCamelCase:"flow",items:{Flow:{id:"flow"},FlowFolder:{id:"flowfolder",schema:{type:"object",properties:{id:{type:"string"}}}},FlowCardTrigger:{id:"flowcardtrigger",schema:{type:"object",properties:{id:{type:"string"}}}},FlowCardCondition:{id:"flowcardcondition",schema:{type:"object",properties:{id:{type:"string"}}}},FlowCardAction:{id:"flowcardaction",schema:{type:"object",properties:{id:{type:"string"}}}},AdvancedFlow:{id:"advancedflow",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getFlow:{method:"get",path:"/flow/:id",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getOne",item:"Flow"},parameters:{id:{in:"path",type:"string",required:!0}}},getFlows:{method:"get",path:"/flow",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getAll",item:"Flow"},parameters:{}},createFlow:{method:"post",path:"/flow",private:!1,scopes:["homey.flow"],crud:{type:"createOne",item:"Flow"},parameters:{flow:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string",required:!0},folder:{type:"string"},enabled:{type:"boolean"},trigger:{type:"object",required:!0},conditions:{type:"array",required:!0},actions:{type:"array",required:!0}}}}},updateFlow:{method:"put",path:"/flow/:id",private:!1,scopes:["homey.flow"],crud:{type:"updateOne",item:"Flow"},parameters:{id:{in:"path",type:"string",required:!0},flow:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string"},folder:{type:"string"},enabled:{type:"boolean"},trigger:{type:"object"},conditions:{type:"array"},actions:{type:"array"}}}}},deleteFlow:{method:"delete",path:"/flow/:id",private:!1,scopes:["homey.flow"],crud:{type:"deleteOne",item:"Flow"},parameters:{id:{in:"path",type:"string",required:!0}}},testFlow:{method:"post",path:"/flow/test",private:!1,scopes:["homey.flow"],parameters:{flow:{in:"body",type:"object",required:!0,properties:{trigger:{type:"object",required:!0},conditions:{type:"array",required:!0},actions:{type:"array",required:!0}}},tokens:{in:"body",type:"object",required:!0},sessionId:{in:"body",type:"string",required:!0}}},triggerFlow:{method:"post",path:"/flow/:id/trigger",private:!1,scopes:["homey.flow.start"],parameters:{id:{in:"path",type:"string",required:!0}}},shareFlow:{method:"post",path:"/flow/:id/share",private:!1,scopes:["homey.flow.readonly"],parameters:{id:{in:"path",type:"string",required:!0}}},getFlowFolders:{method:"get",path:"/flowfolder",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getAll",item:"FlowFolder"},parameters:{}},getFlowFolder:{method:"get",path:"/flowfolder/:id",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getOne",item:"FlowFolder"},parameters:{id:{in:"path",type:"string",required:!0}}},createFlowFolder:{method:"post",path:"/flowfolder",private:!1,scopes:["homey.flow"],crud:{type:"createOne",item:"FlowFolder"},parameters:{flowfolder:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string",required:!0},parent:{type:"string"}}}}},updateFlowFolder:{method:"put",path:"/flowfolder/:id",private:!1,scopes:["homey.flow"],crud:{type:"updateOne",item:"FlowFolder"},parameters:{id:{in:"path",type:"string",required:!0},flowfolder:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string"},parent:{type:"string"}}}}},deleteFlowFolder:{method:"delete",path:"/flowfolder/:id",private:!1,scopes:["homey.flow"],crud:{type:"deleteOne",item:"FlowFolder"},parameters:{id:{in:"path",type:"string",required:!0}}},getFlowCardTrigger:{method:"get",path:"/flowcardtrigger/:uri/:id",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getOne",item:"FlowCardTrigger"},parameters:{id:{in:"path",type:"string",required:!0},uri:{in:"path",type:"string",required:!0}}},getFlowCardTriggers:{method:"get",path:"/flowcardtrigger",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getAll",item:"FlowCardTrigger"},parameters:{}},getFlowCardCondition:{method:"get",path:"/flowcardcondition/:uri/:id",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getOne",item:"FlowCardCondition"},parameters:{id:{in:"path",type:"string",required:!0},uri:{in:"path",type:"string",required:!0}}},getFlowCardConditions:{method:"get",path:"/flowcardcondition",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getAll",item:"FlowCardCondition"},parameters:{}},runFlowCardCondition:{method:"post",path:"/flowcardcondition/:uri/:id/run",private:!1,scopes:["homey.flow"],parameters:{id:{in:"path",type:"string",required:!0},uri:{in:"path",type:"string",required:!0},args:{in:"body",type:"object"},tokens:{in:"body",type:"object"},state:{in:"body",type:"object"},droptoken:{in:"body",type:"string"}}},getFlowCardAction:{method:"get",path:"/flowcardaction/:uri/:id",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getOne",item:"FlowCardAction"},parameters:{id:{in:"path",type:"string",required:!0},uri:{in:"path",type:"string",required:!0}}},getFlowCardActions:{method:"get",path:"/flowcardaction",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getAll",item:"FlowCardAction"},parameters:{}},runFlowCardAction:{method:"post",path:"/flowcardaction/:uri/:id/run",private:!1,scopes:["homey.flow"],parameters:{id:{in:"path",type:"string",required:!0},uri:{in:"path",type:"string",required:!0},args:{in:"body",type:"object"},tokens:{in:"body",type:"object"},state:{in:"body",type:"object"},droptoken:{in:"body",type:"string"},duration:{in:"body",type:"number"}}},getFlowCardAutocomplete:{method:"get",path:"/:type/:uri/:id/autocomplete",private:!1,scopes:[],parameters:{id:{in:"path",type:"string",required:!0},uri:{in:"path",type:"string",required:!0},type:{in:"path",type:"string",required:!0},name:{in:"query",type:"string",required:!0},query:{in:"query",type:"string",required:!0},args:{in:"query",type:"object"}}},getAdvancedFlow:{method:"get",path:"/advancedflow/:id",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getOne",item:"AdvancedFlow"},parameters:{id:{in:"path",type:"string",required:!0}}},getAdvancedFlows:{method:"get",path:"/advancedflow",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getAll",item:"AdvancedFlow"},parameters:{}},createAdvancedFlow:{method:"post",path:"/advancedflow",private:!1,scopes:["homey.flow"],crud:{type:"createOne",item:"AdvancedFlow"},parameters:{advancedflow:{in:"body",root:!0,required:!0}}},updateAdvancedFlow:{method:"put",path:"/advancedflow/:id",private:!1,scopes:["homey.flow"],crud:{type:"updateOne",item:"AdvancedFlow"},parameters:{id:{in:"path",type:"string",required:!0},advancedflow:{in:"body",root:!0,required:!0}}},deleteAdvancedFlow:{method:"delete",path:"/advancedflow/:id",private:!1,scopes:["homey.flow"],crud:{type:"deleteOne",item:"AdvancedFlow"},parameters:{id:{in:"path",type:"string",required:!0}}},triggerAdvancedFlow:{method:"post",path:"/advancedflow/:id/trigger",private:!1,scopes:["homey.flow.start"],parameters:{id:{in:"path",type:"string",required:!0}}}}},ManagerFlowToken:{id:"flowtoken",idCamelCase:"flowtoken",items:{FlowToken:{id:"flowtoken",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getFlowTokens:{method:"get",path:"/flowtoken",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getAll",item:"FlowToken"},parameters:{}},getFlowToken:{method:"get",path:"/flowtoken/:id",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getOne",item:"FlowToken"},parameters:{id:{in:"path",type:"string",required:!0}}},getFlowTokenValue:{method:"get",path:"/flowtoken/:id/value",private:!1,scopes:["homey.flow.readonly"],parameters:{id:{in:"path",type:"string",required:!0}}}}},ManagerGeolocation:{id:"geolocation",idCamelCase:"geolocation",items:{},operations:{getOptionAddress:{method:"GET",path:"/option/address",scopes:["homey.geolocation.readonly"]},setOptionAddress:{method:"PUT",path:"/option/address",scopes:["homey.geolocation"],parameters:{value:{in:"body",required:!0}}},unsetOptionAddress:{method:"DELETE",path:"/option/address",scopes:["homey.geolocation"]},getOptionLocation:{method:"GET",path:"/option/location",scopes:["homey.geolocation.readonly"]},setOptionLocation:{method:"PUT",path:"/option/location",scopes:["homey.geolocation"],parameters:{value:{in:"body",required:!0}}},unsetOptionLocation:{method:"DELETE",path:"/option/location",scopes:["homey.geolocation"]},getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerGoogleAssistant:{id:"google-assistant",idCamelCase:"googleAssistant",items:{},operations:{getOptionEnabled:{method:"GET",path:"/option/enabled",scopes:["homey.system"]},setOptionEnabled:{method:"PUT",path:"/option/enabled",scopes:["homey.system"],parameters:{value:{in:"body",required:!0}}},unsetOptionEnabled:{method:"DELETE",path:"/option/enabled",scopes:["homey.system"]},getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},sync:{method:"post",path:"/sync",private:!1,scopes:["homey.system"],parameters:{}}}},ManagerI18n:{id:"i18n",idCamelCase:"i18n",items:{},operations:{getOptionLanguage:{method:"GET",path:"/option/language",scopes:["homey.system.readonly"]},setOptionLanguage:{method:"PUT",path:"/option/language",scopes:["homey.system"],parameters:{value:{in:"body",required:!0}}},unsetOptionLanguage:{method:"DELETE",path:"/option/language",scopes:["homey.system"]},getOptionUnits:{method:"GET",path:"/option/units",scopes:["homey.system.readonly"]},setOptionUnits:{method:"PUT",path:"/option/units",scopes:["homey.system"],parameters:{value:{in:"body",required:!0}}},unsetOptionUnits:{method:"DELETE",path:"/option/units",scopes:["homey.system"]},getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerIcons:{id:"icons",idCamelCase:"icons",items:{Icon:{id:"icon",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerImages:{id:"images",idCamelCase:"images",items:{Image:{id:"image",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getImages:{method:"get",path:"/image",private:!1,scopes:["homey.device.readonly"],crud:{type:"getAll",item:"Image"},parameters:{}}}},ManagerInsights:{id:"insights",idCamelCase:"insights",items:{Log:{id:"log",schema:{type:"object",properties:{id:{type:"string"}}}},LogEntryBoolean:{id:"logentryboolean",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getLog:{method:"get",path:"/log/:id",private:!1,scopes:["homey.insights.readonly"],crud:{type:"getOne",item:"Log"},parameters:{id:{in:"path",type:"string",required:!0}}},getLogs:{method:"get",path:"/log",private:!1,scopes:["homey.insights.readonly"],crud:{type:"getAll",item:"Log"},parameters:{}},getLogEntries:{method:"get",path:"/log/:uri/:id/entry",private:!1,scopes:["homey.insights.readonly"],parameters:{id:{in:"path",type:"string",required:!0},uri:{in:"path",type:"string",required:!0},resolution:{in:"query",type:"string"}}},deleteLog:{method:"delete",path:"/log/:uri/:id",private:!1,scopes:["homey.insights"],crud:{type:"deleteOne",item:"Log"},parameters:{id:{in:"path",type:"string",required:!0},uri:{in:"path",type:"string",required:!0}}},deleteLogEntries:{method:"delete",path:"/log/:uri/:id/entry",private:!1,scopes:["homey.insights"],parameters:{id:{in:"path",type:"string",required:!0},uri:{in:"path",type:"string",required:!0}}}}},ManagerLedring:{id:"ledring",idCamelCase:"ledring",items:{},operations:{getOptionScreensaver:{method:"GET",path:"/option/screensaver",scopes:["homey.system.readonly"]},setOptionScreensaver:{method:"PUT",path:"/option/screensaver",scopes:["homey.system"],parameters:{value:{in:"body",required:!0}}},unsetOptionScreensaver:{method:"DELETE",path:"/option/screensaver",scopes:["homey.system"]},getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getScreensavers:{method:"get",path:"/screensaver",private:!1,scopes:[],parameters:{}}}},ManagerLogic:{id:"logic",idCamelCase:"logic",items:{Variable:{id:"variable",schema:{type:"object",properties:{id:{type:"string"},name:{type:"string"},type:{type:"string",enum:["n","u","m","b","e","r"]},value:{description:"Should be the same type as defined in the `type` property."}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getVariable:{method:"get",path:"/variable/:id",private:!1,scopes:["homey.logic.readonly"],crud:{type:"getOne",item:"Variable"},parameters:{id:{in:"path",type:"string",required:!0}}},getVariables:{method:"get",path:"/variable",private:!1,scopes:["homey.logic.readonly"],crud:{type:"getAll",item:"Variable"},parameters:{}},createVariable:{method:"post",path:"/variable",private:!1,scopes:["homey.logic"],crud:{type:"createOne",item:"Variable"},parameters:{variable:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string",required:!0},type:{type:"string",required:!0},value:{type:["string","number","boolean"],required:!0}}}}},updateVariable:{method:"put",path:"/variable/:id",private:!1,scopes:["homey.logic"],crud:{type:"updateOne",item:"Variable"},parameters:{id:{in:"path",type:"string",required:!0},variable:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string"},value:{type:["string","number","boolean"]}}}}},deleteVariable:{method:"delete",path:"/variable/:id",private:!1,scopes:["homey.logic"],crud:{type:"deleteOne",item:"Variable"},parameters:{id:{in:"path",type:"string",required:!0}}}}},ManagerMatter:{id:"matter",idCamelCase:"matter",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerMobile:{id:"mobile",idCamelCase:"mobile",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerNotifications:{id:"notifications",idCamelCase:"notifications",items:{Notification:{id:"notification",schema:{type:"object",properties:{id:{type:"string"},ownerUri:{type:"string"},dateCreated:{type:"string"},excerpt:{type:"string"},meta:{type:"object"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getNotifications:{method:"get",path:"/notification",private:!1,scopes:["homey.notifications.readonly"],crud:{type:"getAll",item:"Notification"},parameters:{}},deleteNotification:{method:"delete",path:"/notification/:id",private:!1,scopes:["homey.notifications"],crud:{type:"deleteOne",item:"Notification"},parameters:{id:{in:"path",type:"string",required:!0}}},deleteNotifications:{method:"delete",path:"/notification",private:!1,scopes:["homey.notifications"],parameters:{ownerUri:{in:"query",type:"string"}}},getOwners:{method:"get",path:"/owner",private:!1,scopes:["homey.notifications.readonly"],parameters:{}},setOwnerEnabled:{method:"put",path:"/owner/:uri/enabled",private:!1,scopes:["homey.notifications"],parameters:{uri:{in:"path",type:"string",required:!0},enabled:{in:"body",type:"boolean",required:!0}}},setOwnerPush:{method:"put",path:"/owner/:uri/push",private:!1,scopes:["homey.notifications"],parameters:{uri:{in:"path",type:"string",required:!0},push:{in:"body",type:"boolean",required:!0}}}}},ManagerPresence:{id:"presence",idCamelCase:"presence",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},setPresentMe:{method:"put",path:"/me/present",private:!1,scopes:["homey.presence.self"],parameters:{value:{in:"body",type:"boolean"},opts:{in:"body",type:"object",properties:{forceFlowTrigger:{type:"boolean"}}}}},setPresent:{method:"put",path:"/:id/present",private:!1,scopes:["homey.presence"],parameters:{id:{in:"path",type:"string",required:!0},value:{in:"body",type:"boolean"}}},getPresent:{method:"get",path:"/:id/present",private:!1,scopes:["homey.presence.readonly"],parameters:{id:{in:"path",type:"string",required:!0}}},setAsleepMe:{method:"put",path:"/me/asleep",private:!1,scopes:["homey.presence.self"],parameters:{value:{in:"body",type:"boolean"},opts:{in:"body",type:"object",properties:{forceFlowTrigger:{type:"boolean"}}}}},setAsleep:{method:"put",path:"/:id/asleep",private:!1,scopes:["homey.presence"],parameters:{id:{in:"path",type:"string",required:!0},value:{in:"body",type:"boolean"}}},getAsleep:{method:"get",path:"/:id/asleep",private:!1,scopes:["homey.presence.readonly"],parameters:{id:{in:"path",type:"string",required:!0}}}}},ManagerRF:{id:"rf",idCamelCase:"rf",items:{Signal:{id:"signal",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},record:{method:"post",path:"/record",private:!1,scopes:["homey.system"],parameters:{frequency:{in:"body",type:"string"},timeout:{in:"body",type:"number"}}},replay:{method:"post",path:"/replay",private:!1,scopes:["homey.system"],parameters:{frequency:{in:"body",type:"string",required:!0},data:{in:"body",type:"array",required:!0}}},emulate:{method:"post",path:"/:frequency/emulate",private:!1,scopes:["homey.system"],parameters:{frequency:{in:"path",type:"string",required:!0},data:{in:"body",type:"array",root:!0,required:!0}}},set433MHzConfig:{method:"post",path:"/mhz433/config",private:!1,scopes:["homey.system"],parameters:{modulation:{in:"body",type:"string"},carrier:{in:"body",type:"number"},deviation:{in:"body",type:"number"},channelSpacing:{in:"body",type:"number"},filterBandwidth:{in:"body",type:"number"},baudrate:{in:"body",type:"number"},power:{in:"body",type:"number"}}},txInfraredProntohex:{method:"post",path:"/ir/prontohex",private:!1,scopes:["homey.system"],parameters:{payload:{in:"body",type:"string",required:!0},repetitions:{in:"body",type:"number"}}}}},ManagerSafety:{id:"safety",idCamelCase:"safety",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerSatellites:{id:"satellites",idCamelCase:"satellites",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerSecurity:{id:"security",idCamelCase:"security",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerSessions:{id:"sessions",idCamelCase:"sessions",items:{Session:{id:"session",schema:{type:"object",properties:{id:{type:"string",format:"uuid"},type:{type:"string",enum:["OAUTH","APP","PAT"]},scopes:{description:"These are the requested scopes",type:"array",items:{type:"string"}},intersectedScopes:{description:"These are the actual available scopes. This is an intersection between the requested scopes and the user's scopes.",type:"array",items:{type:"string"}}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getSessionMe:{method:"get",path:"/session/me",private:!1,scopes:[],parameters:{}}}},ManagerSystem:{id:"system",idCamelCase:"system",items:{},operations:{getOptionForwardedPort:{method:"GET",path:"/option/forwardedPort",scopes:["homey.system.readonly"]},setOptionForwardedPort:{method:"PUT",path:"/option/forwardedPort",scopes:["homey.system"],parameters:{value:{in:"body",required:!0}}},unsetOptionForwardedPort:{method:"DELETE",path:"/option/forwardedPort",scopes:["homey.system"]},getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},ping:{method:"get",path:"/ping",private:!1,scopes:[],parameters:{}},getInfo:{method:"get",path:"/",private:!1,scopes:["homey.system.readonly"],parameters:{}},getSystemName:{method:"get",path:"/name",private:!1,scopes:["homey.system.readonly"],parameters:{}},setSystemName:{method:"put",path:"/name",private:!1,scopes:["homey.system"],parameters:{name:{in:"body",type:"string",required:!0}}},reboot:{method:"post",path:"/reboot",private:!1,scopes:["homey.system"],parameters:{}},sendLog:{method:"post",path:"/journalctl",private:!1,scopes:["homey.system.readonly"],parameters:{append:{in:"body",type:"string"}}},getMemoryInfo:{method:"get",path:"/memory",private:!1,scopes:["homey.system.readonly"],parameters:{}},getStorageInfo:{method:"get",path:"/storage",private:!1,scopes:["homey.system.readonly"],parameters:{}},rebootOTA:{method:"post",path:"/reboot-ota",private:!1,scopes:["homey.system"],parameters:{}},setDebug:{method:"put",path:"/debug",private:!1,scopes:["homey.system"],parameters:{namespace:{in:"body",type:"string",required:!0}}}}},ManagerThread:{id:"thread",idCamelCase:"thread",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerUpdates:{id:"updates",idCamelCase:"updates",items:{},operations:{getOptionChannel:{method:"GET",path:"/option/channel",scopes:["homey.system.readonly"]},setOptionChannel:{method:"PUT",path:"/option/channel",scopes:["homey.system"],parameters:{value:{in:"body",required:!0}}},unsetOptionChannel:{method:"DELETE",path:"/option/channel",scopes:["homey.system"]},getOptionAutoupdate:{method:"GET",path:"/option/autoupdate",scopes:["homey.system.readonly"]},setOptionAutoupdate:{method:"PUT",path:"/option/autoupdate",scopes:["homey.system"],parameters:{value:{in:"body",required:!0}}},unsetOptionAutoupdate:{method:"DELETE",path:"/option/autoupdate",scopes:["homey.system"]},getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getUpdates:{method:"get",path:"/update",private:!1,scopes:["homey.updates.readonly"],parameters:{}},installUpdate:{method:"post",path:"/update",private:!1,scopes:["homey.updates"],parameters:{reboot:{in:"body",type:"boolean"},silent:{in:"body",type:"boolean"}}},abortInstallUpdate:{method:"delete",path:"/update",private:!1,scopes:[],parameters:{}}}},ManagerUsers:{id:"users",idCamelCase:"users",items:{User:{id:"user",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},login:{method:"post",path:"/login",private:!1,scopes:[],parameters:{token:{in:"body",type:"string",required:!0}}},getUserMe:{method:"get",path:"/user/me",private:!1,scopes:["homey.user.self"],parameters:{}},updateUserMe:{method:"put",path:"/user/me",private:!1,scopes:["homey.user.self"],parameters:{name:{in:"body",type:"string"}}},deleteUserMe:{method:"delete",path:"/user/me",private:!1,scopes:["homey.user.self"],parameters:{}},getUsers:{method:"get",path:"/user",private:!1,scopes:["homey.user.readonly"],crud:{type:"getAll",item:"User"},parameters:{}},getUser:{method:"get",path:"/user/:id",private:!1,scopes:["homey.user.readonly"],crud:{type:"getOne",item:"User"},parameters:{id:{in:"path",type:"string",required:!0}}},createUser:{method:"post",path:"/user",private:!1,scopes:["homey.user"],crud:{type:"createOne",item:"User"},parameters:{user:{in:"body",type:"object",root:!0,required:!0,properties:{role:{type:"string",required:!0}}}}},updateUser:{method:"put",path:"/user/:id",private:!1,scopes:["homey.user"],crud:{type:"updateOne",item:"User"},parameters:{id:{in:"path",type:"string",required:!0},user:{in:"body",type:"object",root:!0,required:!0,properties:{role:{type:"string"},enabled:{type:"boolean"}}}}},deleteUser:{method:"delete",path:"/user/:id",private:!1,scopes:["homey.user"],crud:{type:"deleteOne",item:"User"},parameters:{id:{in:"path",type:"string",required:!0}}},updateUserMeProperties:{method:"put",path:"/user/me/properties/:id",private:!1,scopes:["homey.user.self"],parameters:{id:{in:"path",type:"string",required:!0},value:{in:"body",type:"object",required:!0}}},deleteUserMeProperties:{method:"delete",path:"/user/me/properties/:id",private:!1,scopes:["homey.user.self"],parameters:{id:{in:"path",type:"string",required:!0}}},swapOwner:{method:"post",path:"/swap-owner",private:!1,scopes:[],parameters:{newOwnerUserId:{in:"body",type:"string",required:!0}}},getPersonalAccessTokens:{method:"get",path:"/pat",private:!1,scopes:[],parameters:{}},createPersonalAccessToken:{method:"post",path:"/pat",private:!1,scopes:[],parameters:{name:{in:"body",type:"string",required:!0},scopes:{in:"body",type:"array",required:!0}}},deletePersonalAccessToken:{method:"delete",path:"/pat/:id",private:!1,scopes:[],parameters:{id:{in:"path",type:"string",required:!0}}}}},ManagerVirtualDevice:{id:"vdevice",idCamelCase:"vdevice",items:{VirtualDriverDummySocket:{id:"virtualdriverdummysocket",schema:{type:"object",properties:{id:{type:"string"}}}},VirtualDeviceDummySocket:{id:"virtualdevicedummysocket",schema:{type:"object",properties:{id:{type:"string"}}}},VirtualDriverZwave:{id:"virtualdriverzwave",schema:{type:"object",properties:{id:{type:"string"}}}},VirtualDeviceZwave:{id:"virtualdevicezwave",schema:{type:"object",properties:{id:{type:"string"}}}},VirtualDriverZigbee:{id:"virtualdriverzigbee",schema:{type:"object",properties:{id:{type:"string"}}}},VirtualDeviceZigbee:{id:"virtualdevicezigbee",schema:{type:"object",properties:{id:{type:"string"}}}},VirtualDriverInfrared:{id:"virtualdriverinfrared",schema:{type:"object",properties:{id:{type:"string"}}}},VirtualDeviceInfrared:{id:"virtualdeviceinfrared",schema:{type:"object",properties:{id:{type:"string"}}}},VirtualDriverHomeyBridge:{id:"virtualdriverbridge",schema:{type:"object",properties:{id:{type:"string"}}}},VirtualDeviceHomeyBridge:{id:"virtualdevicebridge",schema:{type:"object",properties:{id:{type:"string"}}}},VirtualDriverVirtualSocket:{id:"virtualdrivervirtualsocket",schema:{type:"object",properties:{id:{type:"string"}}}},VirtualDeviceVirtualSocket:{id:"virtualdevicevirtualsocket",schema:{type:"object",properties:{id:{type:"string"}}}},VirtualDriverVirtualButton:{id:"virtualdrivervirtualbutton",schema:{type:"object",properties:{id:{type:"string"}}}},VirtualDeviceVirtualButton:{id:"virtualdevicevirtualbutton",schema:{type:"object",properties:{id:{type:"string"}}}},VirtualDriverVirtualIPCamera:{id:"virtualdrivervirtualipcamera",schema:{type:"object",properties:{id:{type:"string"}}}},VirtualDeviceVirtualIPCamera:{id:"virtualdevicevirtualipcamera",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerWeather:{id:"weather",idCamelCase:"weather",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getWeather:{method:"get",path:"/weather",private:!1,scopes:["homey.geolocation.readonly"],parameters:{}}}},ManagerWebserver:{id:"webserver",idCamelCase:"webserver",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerZigbee:{id:"zigbee",idCamelCase:"zigbee",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},flashFirmware:{method:"put",path:"/flash-firmware",private:!0,scopes:["homey.system"],parameters:{}},runCommand:{method:"post",path:"/command",private:!1,scopes:["homey.system"],parameters:{command:{in:"body",type:"string",required:!0},opts:{in:"body",type:"object"}}}}},ManagerZones:{id:"zones",idCamelCase:"zones",items:{Zone:{id:"zone",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getZones:{method:"get",path:"/zone",private:!1,scopes:["homey.zone.readonly"],crud:{type:"getAll",item:"Zone"},parameters:{}},getZone:{method:"get",path:"/zone/:id",private:!1,scopes:["homey.zone.readonly"],crud:{type:"getOne",item:"Zone"},parameters:{id:{in:"path",type:"string",required:!0}}},createZone:{method:"post",path:"/zone",private:!1,scopes:["homey.zone"],crud:{type:"createOne",item:"Zone"},parameters:{zone:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string",required:!0},icon:{type:"string",required:!0},parent:{type:"string",required:!0}}}}},updateZone:{method:"put",path:"/zone/:id",private:!1,scopes:["homey.zone"],crud:{type:"updateOne",item:"Zone"},parameters:{id:{in:"path",type:"string",required:!0},zone:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string"},icon:{type:"string"},parent:{type:"string"}}}}},deleteZone:{method:"delete",path:"/zone/:id",private:!1,scopes:["homey.zone"],crud:{type:"deleteOne",item:"Zone"},parameters:{id:{in:"path",type:"string",required:!0}}}}},ManagerZwave:{id:"zwave",idCamelCase:"zwave",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},runCommand:{method:"post",path:"/command",private:!1,scopes:["homey.system"],parameters:{command:{in:"body",type:"string",required:!0},opts:{in:"body",type:"object"}}},flashFirmware:{method:"put",path:"/flash-firmware",private:!0,scopes:["homey.system"],parameters:{}},getLog:{method:"get",path:"/log",private:!1,scopes:["homey.system"],parameters:{}},setLogEnabled:{method:"put",path:"/log",private:!1,scopes:["homey.system"],parameters:{enabled:{in:"body",type:"boolean",required:!0}}}}}},require$$2={managers:managers$1};var HomeyAPIV3Local_1,hasRequiredHomeyAPIV3Local;function requireHomeyAPIV3Local(){if(hasRequiredHomeyAPIV3Local)return HomeyAPIV3Local_1;hasRequiredHomeyAPIV3Local=1;const o=requireHomeyAPIV3(),t=requireManagerDevkit$1();class s extends o{get platform(){return"local"}get platformVersion(){return 2}getSpecification(){return require$$2}}return E(s,"MANAGERS",{...o.MANAGERS,ManagerDevkit:t}),HomeyAPIV3Local_1=s,HomeyAPIV3Local_1}const managers={ManagerApi:{id:"api",idCamelCase:"api",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerApps:{id:"apps",idCamelCase:"apps",items:{App:{id:"app",schema:{type:"object",properties:{id:{type:"string"}}}},AppSettings:{id:"appsettings",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getApps:{method:"get",path:"/app",private:!1,scopes:["homey.app.readonly"],crud:{type:"getAll",item:"App"},parameters:{}},getApp:{method:"get",path:"/app/:id",private:!1,scopes:["homey.app.readonly"],crud:{type:"getOne",item:"App"},parameters:{id:{in:"path",type:"string",required:!0}}},installFromAppStore:{method:"post",path:"/store",private:!1,scopes:["homey.app"],parameters:{id:{in:"body",type:"string",required:!0},channel:{in:"body",type:"string"}}},uninstallApp:{method:"delete",path:"/app/:id",private:!1,scopes:["homey.app"],parameters:{id:{in:"path",type:"string",required:!0}}},getAppSettings:{method:"get",path:"/app/:id/setting",private:!1,scopes:["homey.app.control"],crud:{type:"getOne",item:"AppSettings"},parameters:{id:{in:"path",type:"string",required:!0}}},getAppSetting:{method:"get",path:"/app/:id/setting/:name",private:!1,scopes:["homey.app.control"],parameters:{name:{in:"path",type:"string",required:!0},id:{in:"path",type:"string",required:!0}}},setAppSetting:{method:"put",path:"/app/:id/setting/:name",private:!1,scopes:["homey.app.control"],parameters:{name:{in:"path",type:"string",required:!0},id:{in:"path",type:"string",required:!0},value:{in:"body",type:"object",required:!0}}},unsetAppSetting:{method:"delete",path:"/app/:id/setting/:name",private:!1,scopes:["homey.app.control"],parameters:{name:{in:"path",type:"string",required:!0},id:{in:"path",type:"string",required:!0}}},getAppStd:{method:"post",path:"/app/:id/crashlog",private:!1,scopes:["homey.app.readonly"],parameters:{id:{in:"path",type:"string",required:!0},message:{in:"body",type:"string",required:!0}}}}},ManagerBLE:{id:"ble",idCamelCase:"ble",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},runCommand:{method:"post",path:"/command",private:!1,scopes:["homey.system"],parameters:{command:{in:"body",type:"string",required:!0},opts:{in:"body",type:"object"}}}}},ManagerClock:{id:"clock",idCamelCase:"clock",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerCloud:{id:"cloud",idCamelCase:"cloud",items:{Webhook:{id:"webhook",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},emitOAuth2Callback:{method:"post",path:"/oauth2-callback",private:!1,scopes:[],parameters:{app:{in:"query",type:"string"},token:{in:"body",type:"string"},code:{in:"body",type:"string"}}},emitWebhookCallback:{method:"post",path:"/webhook/:id/callback",private:!1,scopes:[],parameters:{id:{in:"path",type:"string",required:!0},args:{in:"body",type:"object"}}}}},ManagerCoprocessor:{id:"coprocessor",idCamelCase:"coprocessor",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getBridges:{method:"get",path:"/bridge",private:!1,scopes:["homey.system.readonly"],parameters:{}},getLog:{method:"get",path:"/bridge/log",private:!1,scopes:["homey.system.readonly"],parameters:{}},pairBridge:{method:"post",path:"/bridge",private:!1,scopes:["homey.system"],parameters:{serialHash:{in:"body",type:"string",required:!0}}}}},ManagerCron:{id:"cron",idCamelCase:"cron",items:{Cronjob:{id:"cronjob",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerDatabase:{id:"database",idCamelCase:"database",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerDashboards:{id:"dashboards",idCamelCase:"dashboards",private:!0,items:{Dashboard:{id:"dashboard",schema:{type:"object",properties:{id:{type:"string",format:"uuid"},name:{type:"string"},widgets:{type:"object",additionalProperties:!1,patternProperties:{"^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$":{type:"object",properties:{type:{type:"string"},x:{type:"number"},y:{type:"number"},width:{type:"number"},height:{type:"number"},settings:{type:"object"}}}}},lines:{type:"object",additionalProperties:!1,patternProperties:{"^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$":{type:"object",properties:{x1:{type:"number"},x2:{type:"number"},y1:{type:"number"},y2:{type:"number"},settings:{type:"object"}}}}}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getDashboards:{method:"get",path:"/dashboard",private:!1,scopes:["homey.dashboard.readonly"],crud:{type:"getAll",item:"Dashboard"},parameters:{}},getDashboard:{method:"get",path:"/dashboard/:id",private:!1,scopes:["homey.dashboard.readonly"],crud:{type:"getOne",item:"Dashboard"},parameters:{id:{in:"path",type:"string",required:!0}}},createDashboard:{method:"post",path:"/dashboard",private:!1,scopes:["homey.dashboard"],crud:{type:"createOne",item:"Dashboard"},parameters:{dashboard:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string",required:!0},widgets:{type:"object",required:!0},lines:{type:"object",required:!0}}}}},updateDashboard:{method:"put",path:"/dashboard/:id",private:!1,scopes:["homey.dashboard"],crud:{type:"updateOne",item:"Dashboard"},parameters:{id:{in:"path",type:"string",required:!0},dashboard:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string"},widgets:{type:"object"},lines:{type:"object"}}}}},deleteDashboard:{method:"delete",path:"/dashboard/:id",private:!1,scopes:["homey.dashboard"],crud:{type:"deleteOne",item:"Dashboard"},parameters:{id:{in:"path",type:"string",required:!0}}}}},ManagerDevices:{id:"devices",idCamelCase:"devices",items:{Device:{id:"device",schema:{type:"object",properties:{id:{type:"string",format:"uuid"},name:{type:"string"},note:{type:"string"}}}},Capability:{id:"capability",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getDevice:{method:"get",path:"/device/:id",private:!1,scopes:["homey.device.readonly"],crud:{type:"getOne",item:"Device"},parameters:{id:{in:"path",type:"string",required:!0}}},getDeviceSettingsObj:{method:"get",path:"/device/:id/settings_obj",private:!1,scopes:["homey.device.readonly"],parameters:{id:{in:"path",type:"string",required:!0}}},setDeviceSettings:{method:"put",path:"/device/:id/settings",private:!1,scopes:["homey.device"],parameters:{id:{in:"path",type:"string",required:!0},settings:{in:"body",type:"object",root:!0,required:!0}}},getDevices:{method:"get",path:"/device",private:!1,scopes:["homey.device.readonly"],crud:{type:"getAll",item:"Device"},parameters:{}},updateDevice:{method:"put",path:"/device/:id",private:!1,scopes:["homey.device"],crud:{type:"updateOne",item:"Device"},parameters:{id:{in:"path",type:"string",required:!0},device:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string"},zone:{type:"string"},note:{type:"string"},iconOverride:{type:"string"},virtualClass:{type:"string"},uiIndicator:{type:"string"}}}}},deleteDevice:{method:"delete",path:"/device/:id",private:!1,scopes:["homey.device"],crud:{type:"deleteOne",item:"Device"},parameters:{id:{in:"path",type:"string",required:!0}}},getCapabilityValue:{method:"get",path:"/device/:deviceId/capability/:capabilityId",private:!1,scopes:["homey.device.readonly"],parameters:{capabilityId:{in:"path",type:"string",required:!0},deviceId:{in:"path",type:"string",required:!0}}},setCapabilityValue:{method:"put",path:"/device/:deviceId/capability/:capabilityId",private:!1,scopes:["homey.device.control"],parameters:{capabilityId:{in:"path",type:"string",required:!0},deviceId:{in:"path",type:"string",required:!0},value:{in:"body",type:["string","number","boolean"],required:!0},opts:{in:"body",type:"object"},transactionId:{in:"body",type:"string"}}}}},ManagerDevkit:{id:"devkit",idCamelCase:"devkit",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},installApp:{method:"post",path:"/app",private:!1,scopes:["homey.app"],parameters:{manifest:{in:"body",type:"object",required:!0},clean:{in:"body",type:"boolean"}}},uninstallApp:{method:"delete",path:"/app/:sessionId",private:!1,scopes:["homey.app"],parameters:{sessionId:{in:"path",type:"string",required:!0}}}}},ManagerDrivers:{id:"drivers",idCamelCase:"drivers",items:{Driver:{id:"driver",schema:{type:"object",properties:{id:{type:"string",format:"uuid"},pair:{type:"array",required:!0}}}},PairSession:{id:"pairsession",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getDrivers:{method:"get",path:"/driver",private:!1,scopes:["homey.device.readonly"],crud:{type:"getAll",item:"Driver"},parameters:{}},getPairSession:{method:"get",path:"/pairsession/:id",private:!1,scopes:["homey.device"],crud:{type:"getOne",item:"PairSession"},parameters:{id:{in:"path",type:"string",required:!0}}},createPairSession:{method:"post",path:"/pairsession",private:!1,scopes:["homey.device"],crud:{type:"createOne",item:"PairSession"},parameters:{pairsession:{in:"body",type:"object",root:!0,required:!0,properties:{type:{type:"string",required:!0},driverId:{type:"string",required:!0},deviceId:{type:"string"},zoneId:{type:"string"}}}}},deletePairSession:{method:"delete",path:"/pairsession/:id",private:!1,scopes:["homey.device"],crud:{type:"deleteOne",item:"PairSession"},parameters:{id:{in:"path",type:"string",required:!0}}},emitPairingHeartbeat:{method:"post",path:"/pairsession/:id/heartbeat",private:!1,scopes:["homey.device"],parameters:{id:{in:"path",type:"string",required:!0}}},emitPairingEvent:{method:"post",path:"/pairsession/:id/emit",private:!1,scopes:["homey.device"],parameters:{id:{in:"path",type:"string",required:!0},event:{in:"body",type:"string",required:!0},data:{in:"body",type:"object"}}},emitPairingCallback:{method:"post",path:"/pairsession/:id/callback",private:!1,scopes:["homey.device"],parameters:{id:{in:"path",type:"string",required:!0},callbackId:{in:"body",type:"string",required:!0},data:{in:"body",type:"object"}}},createPairSessionDevice:{method:"post",path:"/pairsession/:id/device",private:!1,scopes:["homey.device"],parameters:{id:{in:"path",type:"string",required:!0},device:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string"},data:{required:!0},zone:{type:"string"},store:{type:"object"},capabilities:{type:"array"},capabilitiesOptions:{type:"object"},class:{type:"string"},icon:{type:"string"},iconOverride:{type:"string"},settings:{type:"object"},energy:{type:"object"}}}}},deletePairSessionDevice:{method:"delete",path:"/pairsession/:id/device",private:!1,scopes:["homey.device"],parameters:{id:{in:"path",type:"string",required:!0}}}}},ManagerEnergy:{id:"energy",idCamelCase:"energy",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getLiveReport:{method:"get",path:"/live",private:!1,scopes:["homey.insights.readonly"],parameters:{zone:{in:"query",type:"string"}}}}},ManagerFlow:{id:"flow",idCamelCase:"flow",items:{Flow:{id:"flow"},FlowFolder:{id:"flowfolder",schema:{type:"object",properties:{id:{type:"string"}}}},FlowCardTrigger:{id:"flowcardtrigger",schema:{type:"object",properties:{id:{type:"string"}}}},FlowCardCondition:{id:"flowcardcondition",schema:{type:"object",properties:{id:{type:"string"}}}},FlowCardAction:{id:"flowcardaction",schema:{type:"object",properties:{id:{type:"string"}}}},AdvancedFlow:{id:"advancedflow",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getFlow:{method:"get",path:"/flow/:id",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getOne",item:"Flow"},parameters:{id:{in:"path",type:"string",required:!0}}},getFlows:{method:"get",path:"/flow",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getAll",item:"Flow"},parameters:{}},createFlow:{method:"post",path:"/flow",private:!1,scopes:["homey.flow"],crud:{type:"createOne",item:"Flow"},parameters:{flow:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string",required:!0},folder:{type:"string"},enabled:{type:"boolean"},trigger:{type:"object",required:!0},conditions:{type:"array",required:!0},actions:{type:"array",required:!0}}}}},updateFlow:{method:"put",path:"/flow/:id",private:!1,scopes:["homey.flow"],crud:{type:"updateOne",item:"Flow"},parameters:{id:{in:"path",type:"string",required:!0},flow:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string"},folder:{type:"string"},enabled:{type:"boolean"},trigger:{type:"object"},conditions:{type:"array"},actions:{type:"array"}}}}},deleteFlow:{method:"delete",path:"/flow/:id",private:!1,scopes:["homey.flow"],crud:{type:"deleteOne",item:"Flow"},parameters:{id:{in:"path",type:"string",required:!0}}},testFlow:{method:"post",path:"/flow/test",private:!1,scopes:["homey.flow"],parameters:{flow:{in:"body",type:"object",required:!0,properties:{trigger:{type:"object",required:!0},conditions:{type:"array",required:!0},actions:{type:"array",required:!0}}},tokens:{in:"body",type:"object",required:!0},sessionId:{in:"body",type:"string",required:!0}}},triggerFlow:{method:"post",path:"/flow/:id/trigger",private:!1,scopes:["homey.flow.start"],parameters:{id:{in:"path",type:"string",required:!0}}},shareFlow:{method:"post",path:"/flow/:id/share",private:!1,scopes:["homey.flow.readonly"],parameters:{id:{in:"path",type:"string",required:!0}}},getFlowFolders:{method:"get",path:"/flowfolder",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getAll",item:"FlowFolder"},parameters:{}},getFlowFolder:{method:"get",path:"/flowfolder/:id",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getOne",item:"FlowFolder"},parameters:{id:{in:"path",type:"string",required:!0}}},createFlowFolder:{method:"post",path:"/flowfolder",private:!1,scopes:["homey.flow"],crud:{type:"createOne",item:"FlowFolder"},parameters:{flowfolder:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string",required:!0},parent:{type:"string"}}}}},updateFlowFolder:{method:"put",path:"/flowfolder/:id",private:!1,scopes:["homey.flow"],crud:{type:"updateOne",item:"FlowFolder"},parameters:{id:{in:"path",type:"string",required:!0},flowfolder:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string"},parent:{type:"string"}}}}},deleteFlowFolder:{method:"delete",path:"/flowfolder/:id",private:!1,scopes:["homey.flow"],crud:{type:"deleteOne",item:"FlowFolder"},parameters:{id:{in:"path",type:"string",required:!0}}},getFlowCardTriggers:{method:"get",path:"/flowcardtrigger",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getAll",item:"FlowCardTrigger"},parameters:{}},getFlowCardConditions:{method:"get",path:"/flowcardcondition",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getAll",item:"FlowCardCondition"},parameters:{}},runFlowCardCondition:{method:"post",path:"/flowcardcondition/:uri/:id/run",private:!1,scopes:["homey.flow.start"],parameters:{id:{in:"path",type:"string",required:!0},uri:{in:"path",type:"string",required:!0},args:{in:"body",type:"object"},tokens:{in:"body",type:"object"},state:{in:"body",type:"object"},droptoken:{in:"body",type:"string"}}},getFlowCardActions:{method:"get",path:"/flowcardaction",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getAll",item:"FlowCardAction"},parameters:{}},runFlowCardAction:{method:"post",path:"/flowcardaction/:uri/:id/run",private:!1,scopes:["homey.flow.start"],parameters:{id:{in:"path",type:"string",required:!0},uri:{in:"path",type:"string",required:!0},args:{in:"body",type:"object"},tokens:{in:"body",type:"object"},state:{in:"body",type:"object"},droptoken:{in:"body",type:"string"},duration:{in:"body",type:"number"}}},getFlowCardAutocomplete:{method:"get",path:"/:type/:uri/:id/autocomplete",private:!1,scopes:[],parameters:{id:{in:"path",type:"string",required:!0},uri:{in:"path",type:"string",required:!0},type:{in:"path",type:"string",required:!0},name:{in:"query",type:"string",required:!0},query:{in:"query",type:"string",required:!0},args:{in:"query",type:"object"}}},getAdvancedFlow:{method:"get",path:"/advancedflow/:id",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getOne",item:"AdvancedFlow"},parameters:{id:{in:"path",type:"string",required:!0}}},getAdvancedFlows:{method:"get",path:"/advancedflow",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getAll",item:"AdvancedFlow"},parameters:{}},createAdvancedFlow:{method:"post",path:"/advancedflow",private:!1,scopes:["homey.flow"],crud:{type:"createOne",item:"AdvancedFlow"},parameters:{advancedflow:{in:"body",root:!0,required:!0}}},updateAdvancedFlow:{method:"put",path:"/advancedflow/:id",private:!1,scopes:["homey.flow"],crud:{type:"updateOne",item:"AdvancedFlow"},parameters:{id:{in:"path",type:"string",required:!0},advancedflow:{in:"body",root:!0,required:!0}}},deleteAdvancedFlow:{method:"delete",path:"/advancedflow/:id",private:!1,scopes:["homey.flow"],crud:{type:"deleteOne",item:"AdvancedFlow"},parameters:{id:{in:"path",type:"string",required:!0}}},triggerAdvancedFlow:{method:"post",path:"/advancedflow/:id/trigger",private:!1,scopes:["homey.flow.start"],parameters:{id:{in:"path",type:"string",required:!0}}}}},ManagerFlowToken:{id:"flowtoken",idCamelCase:"flowtoken",items:{FlowToken:{id:"flowtoken",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getFlowTokens:{method:"get",path:"/flowtoken",private:!1,scopes:["homey.flow.readonly"],crud:{type:"getAll",item:"FlowToken"},parameters:{}}}},ManagerGeolocation:{id:"geolocation",idCamelCase:"geolocation",items:{},operations:{getOptionAddress:{method:"GET",path:"/option/address",scopes:["homey.geolocation.readonly"]},setOptionAddress:{method:"PUT",path:"/option/address",scopes:["homey.geolocation"],parameters:{value:{in:"body",required:!0}}},unsetOptionAddress:{method:"DELETE",path:"/option/address",scopes:["homey.geolocation"]},getOptionLocation:{method:"GET",path:"/option/location",scopes:["homey.geolocation.readonly"]},setOptionLocation:{method:"PUT",path:"/option/location",scopes:["homey.geolocation"],parameters:{value:{in:"body",required:!0}}},unsetOptionLocation:{method:"DELETE",path:"/option/location",scopes:["homey.geolocation"]},getOptionMode:{method:"GET",path:"/option/mode",scopes:["homey.geolocation.readonly"]},setOptionMode:{method:"PUT",path:"/option/mode",scopes:["homey.geolocation"],parameters:{value:{in:"body",required:!0}}},unsetOptionMode:{method:"DELETE",path:"/option/mode",scopes:["homey.geolocation"]},getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerI18n:{id:"i18n",idCamelCase:"i18n",items:{},operations:{getOptionLanguage:{method:"GET",path:"/option/language",scopes:["homey.system.readonly"]},setOptionLanguage:{method:"PUT",path:"/option/language",scopes:["homey.system"],parameters:{value:{in:"body",required:!0}}},unsetOptionLanguage:{method:"DELETE",path:"/option/language",scopes:["homey.system"]},getOptionUnits:{method:"GET",path:"/option/units",scopes:["homey.system.readonly"]},setOptionUnits:{method:"PUT",path:"/option/units",scopes:["homey.system"],parameters:{value:{in:"body",required:!0}}},unsetOptionUnits:{method:"DELETE",path:"/option/units",scopes:["homey.system"]},getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerIcons:{id:"icons",idCamelCase:"icons",items:{Icon:{id:"icon",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerImages:{id:"images",idCamelCase:"images",items:{Image:{id:"image",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getImages:{method:"get",path:"/image",private:!1,scopes:["homey.device.readonly"],crud:{type:"getAll",item:"Image"},parameters:{}}}},ManagerInsights:{id:"insights",idCamelCase:"insights",items:{Log:{id:"log",schema:{type:"object",properties:{id:{type:"string"}}}},LogEntryBoolean:{id:"logentryboolean",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getLog:{method:"get",path:"/log/:id",private:!1,scopes:["homey.insights.readonly"],crud:{type:"getOne",item:"Log"},parameters:{id:{in:"path",type:"string",required:!0}}},getLogs:{method:"get",path:"/log",private:!1,scopes:["homey.insights.readonly"],crud:{type:"getAll",item:"Log"},parameters:{}},getLogEntries:{method:"get",path:"/log/:uri/:id/entry",private:!1,scopes:["homey.insights.readonly"],parameters:{id:{in:"path",type:"string",required:!0},uri:{in:"path",type:"string",required:!0},resolution:{in:"query",type:"string"}}},deleteLog:{method:"delete",path:"/log/:uri/:id",private:!1,scopes:["homey.insights"],crud:{type:"deleteOne",item:"Log"},parameters:{id:{in:"path",type:"string",required:!0},uri:{in:"path",type:"string",required:!0}}},deleteLogEntries:{method:"delete",path:"/log/:uri/:id/entry",private:!1,scopes:["homey.insights"],parameters:{id:{in:"path",type:"string",required:!0},uri:{in:"path",type:"string",required:!0}}}}},ManagerLogic:{id:"logic",idCamelCase:"logic",items:{Variable:{id:"variable",schema:{type:"object",properties:{id:{type:"string"},name:{type:"string"},type:{type:"string",enum:["n","u","m","b","e","r"]},value:{description:"Should be the same type as defined in the `type` property."}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getVariables:{method:"get",path:"/variable",private:!1,scopes:["homey.logic.readonly"],crud:{type:"getAll",item:"Variable"},parameters:{}},createVariable:{method:"post",path:"/variable",private:!1,scopes:["homey.logic"],crud:{type:"createOne",item:"Variable"},parameters:{variable:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string",required:!0},type:{type:"string",required:!0},value:{type:["string","number","boolean"],required:!0}}}}},updateVariable:{method:"put",path:"/variable/:id",private:!1,scopes:["homey.logic"],crud:{type:"updateOne",item:"Variable"},parameters:{id:{in:"path",type:"string",required:!0},variable:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string"},value:{type:["string","number","boolean"]}}}}},deleteVariable:{method:"delete",path:"/variable/:id",private:!1,scopes:["homey.logic"],crud:{type:"deleteOne",item:"Variable"},parameters:{id:{in:"path",type:"string",required:!0}}}}},ManagerMobile:{id:"mobile",idCamelCase:"mobile",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},onMobileEvent:{method:"post",path:"/event",private:!1,scopes:[],parameters:{secret:{in:"body",type:"string",required:!0},userId:{in:"body",type:"string",required:!0},deviceId:{in:"body",type:"string",required:!0},event:{in:"body",type:"string",required:!0},data:{in:"body",required:!0},timestamp:{in:"body",type:"string"}}}}},ManagerNotifications:{id:"notifications",idCamelCase:"notifications",items:{Notification:{id:"notification",schema:{type:"object",properties:{id:{type:"string"},ownerUri:{type:"string"},dateCreated:{type:"string"},excerpt:{type:"string"},meta:{type:"object"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getNotifications:{method:"get",path:"/notification",private:!1,scopes:["homey.notifications.readonly"],crud:{type:"getAll",item:"Notification"},parameters:{}},deleteNotification:{method:"delete",path:"/notification/:id",private:!1,scopes:["homey.notifications"],crud:{type:"deleteOne",item:"Notification"},parameters:{id:{in:"path",type:"string",required:!0}}},deleteNotifications:{method:"delete",path:"/notification",private:!1,scopes:["homey.notifications"],parameters:{ownerUri:{in:"query",type:"string"}}},getOwners:{method:"get",path:"/owner",private:!1,scopes:["homey.notifications.readonly"],parameters:{}},setOwnerEnabled:{method:"put",path:"/owner/:uri/enabled",private:!1,scopes:["homey.notifications"],parameters:{uri:{in:"path",type:"string",required:!0},enabled:{in:"body",type:"boolean",required:!0}}},setOwnerPush:{method:"put",path:"/owner/:uri/push",private:!1,scopes:["homey.notifications"],parameters:{uri:{in:"path",type:"string",required:!0},push:{in:"body",type:"boolean",required:!0}}}}},ManagerPremium:{id:"premium",idCamelCase:"premium",items:{},operations:{}},ManagerPresence:{id:"presence",idCamelCase:"presence",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},setPresentMe:{method:"put",path:"/me/present",private:!1,scopes:["homey.presence.self"],parameters:{value:{in:"body",type:"boolean"},opts:{in:"body",type:"object",properties:{forceFlowTrigger:{type:"boolean"}}}}},setPresent:{method:"put",path:"/:id/present",private:!1,scopes:["homey.presence"],parameters:{id:{in:"path",type:"string",required:!0},value:{in:"body",type:"boolean"}}},setAsleepMe:{method:"put",path:"/me/asleep",private:!1,scopes:["homey.presence.self"],parameters:{value:{in:"body",type:"boolean"},opts:{in:"body",type:"object",properties:{forceFlowTrigger:{type:"boolean"}}}}},setAsleep:{method:"put",path:"/:id/asleep",private:!1,scopes:["homey.presence"],parameters:{id:{in:"path",type:"string",required:!0},value:{in:"body",type:"boolean"}}}}},ManagerRF:{id:"rf",idCamelCase:"rf",items:{Signal:{id:"signal",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},record:{method:"post",path:"/record",private:!1,scopes:["homey.system"],parameters:{frequency:{in:"body",type:"string"},timeout:{in:"body",type:"number"}}},replay:{method:"post",path:"/replay",private:!1,scopes:["homey.system"],parameters:{frequency:{in:"body",type:"string",required:!0},data:{in:"body",type:"array",required:!0}}},emulate:{method:"post",path:"/:frequency/emulate",private:!1,scopes:["homey.system"],parameters:{frequency:{in:"path",type:"string",required:!0},data:{in:"body",type:"array",root:!0,required:!0}}},set433MHzConfig:{method:"post",path:"/mhz433/config",private:!1,scopes:["homey.system"],parameters:{modulation:{in:"body",type:"string"},carrier:{in:"body",type:"number"},deviation:{in:"body",type:"number"},channelSpacing:{in:"body",type:"number"},filterBandwidth:{in:"body",type:"number"},baudrate:{in:"body",type:"number"},power:{in:"body",type:"number"}}},txInfraredProntohex:{method:"post",path:"/ir/prontohex",private:!1,scopes:["homey.system"],parameters:{payload:{in:"body",type:"string",required:!0},repetitions:{in:"body",type:"number"}}}}},ManagerSafety:{id:"safety",idCamelCase:"safety",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerSecurity:{id:"security",idCamelCase:"security",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerSessions:{id:"sessions",idCamelCase:"sessions",items:{Session:{id:"session",schema:{type:"object",properties:{id:{type:"string",format:"uuid"},type:{type:"string",enum:["OAUTH","APP"]},scopes:{description:"These are the requested scopes",type:"array",items:{type:"string"}},intersectedScopes:{description:"These are the actual available scopes. This is an intersection between the requested scopes and the user's scopes.",type:"array",items:{type:"string"}}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getSessionMe:{method:"get",path:"/session/me",private:!1,scopes:[],parameters:{}}}},ManagerSystem:{id:"system",idCamelCase:"system",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},ping:{method:"get",path:"/ping",private:!1,scopes:[],parameters:{}},getInfo:{method:"get",path:"/",private:!1,scopes:["homey.system.readonly"],parameters:{}},getSystemName:{method:"get",path:"/name",private:!1,scopes:["homey.system.readonly"],parameters:{}},setSystemName:{method:"put",path:"/name",private:!1,scopes:["homey.system"],parameters:{name:{in:"body",type:"string",required:!0}}},reboot:{method:"post",path:"/reboot",private:!1,scopes:["homey.system"],parameters:{}},sendLog:{method:"post",path:"/journalctl",private:!1,scopes:["homey.system.readonly"],parameters:{append:{in:"body",type:"string"}}},delete:{method:"post",path:"/delete",private:!1,scopes:["homey.system"],parameters:{}},getMemoryInfo:{method:"get",path:"/memory",private:!1,scopes:["homey.system.readonly"],parameters:{}},getStorageInfo:{method:"get",path:"/storage",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerUsers:{id:"users",idCamelCase:"users",items:{User:{id:"user",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},login:{method:"post",path:"/login",private:!1,scopes:[],parameters:{token:{in:"body",type:"string",required:!0}}},getUserMe:{method:"get",path:"/user/me",private:!1,scopes:["homey.user.self"],parameters:{}},updateUserMe:{method:"put",path:"/user/me",private:!1,scopes:["homey.user.self"],parameters:{name:{in:"body",type:"string"}}},deleteUserMe:{method:"delete",path:"/user/me",private:!1,scopes:["homey.user.self"],parameters:{}},getUsers:{method:"get",path:"/user",private:!1,scopes:["homey.user.readonly"],crud:{type:"getAll",item:"User"},parameters:{}},getUser:{method:"get",path:"/user/:id",private:!1,scopes:["homey.user.readonly"],crud:{type:"getOne",item:"User"},parameters:{id:{in:"path",type:"string",required:!0}}},createUser:{method:"post",path:"/user",private:!1,scopes:["homey.user"],crud:{type:"createOne",item:"User"},parameters:{user:{in:"body",type:"object",root:!0,required:!0,properties:{role:{type:"string",required:!0}}}}},updateUser:{method:"put",path:"/user/:id",private:!1,scopes:["homey.user"],crud:{type:"updateOne",item:"User"},parameters:{id:{in:"path",type:"string",required:!0},user:{in:"body",type:"object",root:!0,required:!0,properties:{role:{type:"string"},enabled:{type:"boolean"}}}}},deleteUser:{method:"delete",path:"/user/:id",private:!1,scopes:["homey.user"],crud:{type:"deleteOne",item:"User"},parameters:{id:{in:"path",type:"string",required:!0}}},updateUserMeProperties:{method:"put",path:"/user/me/properties/:id",private:!1,scopes:["homey.user.self"],parameters:{id:{in:"path",type:"string",required:!0},value:{in:"body",type:"object",required:!0}}},deleteUserMeProperties:{method:"delete",path:"/user/me/properties/:id",private:!1,scopes:["homey.user.self"],parameters:{id:{in:"path",type:"string",required:!0}}},acceptSharingInvite:{method:"post",path:"/accept",private:!1,scopes:[],parameters:{secret:{in:"body",type:"string",required:!0},athomId:{in:"body",type:"string",required:!0},inviteToken:{in:"body",type:"string",required:!0},name:{in:"body",type:"string",required:!0}}}}},ManagerVirtualDevice:{id:"vdevice",idCamelCase:"vdevice",items:{VirtualDriverDummySocket:{id:"virtualdriverdummysocket",schema:{type:"object",properties:{id:{type:"string"}}}},VirtualDeviceDummySocket:{id:"virtualdevicedummysocket",schema:{type:"object",properties:{id:{type:"string"}}}},VirtualDriverZwave:{id:"virtualdriverzwave",schema:{type:"object",properties:{id:{type:"string"}}}},VirtualDeviceZwave:{id:"virtualdevicezwave",schema:{type:"object",properties:{id:{type:"string"}}}},VirtualDriverZigbee:{id:"virtualdriverzigbee",schema:{type:"object",properties:{id:{type:"string"}}}},VirtualDeviceZigbee:{id:"virtualdevicezigbee",schema:{type:"object",properties:{id:{type:"string"}}}},VirtualDriverInfrared:{id:"virtualdriverinfrared",schema:{type:"object",properties:{id:{type:"string"}}}},VirtualDeviceInfrared:{id:"virtualdeviceinfrared",schema:{type:"object",properties:{id:{type:"string"}}}},VirtualDriverHomeyBridge:{id:"virtualdriverbridge",schema:{type:"object",properties:{id:{type:"string"}}}},VirtualDeviceHomeyBridge:{id:"virtualdevicebridge",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerWeather:{id:"weather",idCamelCase:"weather",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getWeather:{method:"get",path:"/weather",private:!1,scopes:["homey.geolocation.readonly"],parameters:{}}}},ManagerWebserver:{id:"webserver",idCamelCase:"webserver",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}}}},ManagerZones:{id:"zones",idCamelCase:"zones",items:{Zone:{id:"zone",schema:{type:"object",properties:{id:{type:"string"}}}}},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},getZones:{method:"get",path:"/zone",private:!1,scopes:[],crud:{type:"getAll",item:"Zone"},parameters:{}},createZone:{method:"post",path:"/zone",private:!1,scopes:["homey.zone"],crud:{type:"createOne",item:"Zone"},parameters:{zone:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string",required:!0},icon:{type:"string",required:!0},parent:{type:"string",required:!0}}}}},updateZone:{method:"put",path:"/zone/:id",private:!1,scopes:["homey.zone"],crud:{type:"updateOne",item:"Zone"},parameters:{id:{in:"path",type:"string",required:!0},zone:{in:"body",type:"object",root:!0,required:!0,properties:{name:{type:"string"},icon:{type:"string"},parent:{type:"string"}}}}},deleteZone:{method:"delete",path:"/zone/:id",private:!1,scopes:["homey.zone"],crud:{type:"deleteOne",item:"Zone"},parameters:{id:{in:"path",type:"string",required:!0}}}}},ManagerZwave:{id:"zwave",idCamelCase:"zwave",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},runCommand:{method:"post",path:"/command",private:!1,scopes:["homey.system"],parameters:{command:{in:"body",type:"string",required:!0},opts:{in:"body",type:"object"}}}}},ManagerZigbee:{id:"zigbee",idCamelCase:"zigbee",items:{},operations:{getState:{method:"get",path:"/state",private:!1,scopes:["homey.system.readonly"],parameters:{}},runCommand:{method:"post",path:"/command",private:!1,scopes:["homey.system"],parameters:{command:{in:"body",type:"string",required:!0},opts:{in:"body",type:"object"}}}}}},require$$1={managers};var HomeyAPIV3Cloud_1,hasRequiredHomeyAPIV3Cloud;function requireHomeyAPIV3Cloud(){if(hasRequiredHomeyAPIV3Cloud)return HomeyAPIV3Cloud_1;hasRequiredHomeyAPIV3Cloud=1;const o=requireHomeyAPIV3(),s=class extends o{constructor({strategy:p=[s.DISCOVERY_STRATEGIES.CLOUD],...n}){super({strategy:p,...n})}get platform(){return"cloud"}get platformVersion(){return 1}getSpecification(){return require$$1}};let t=s;return E(t,"DISCOVERY_STRATEGIES",{CLOUD:"cloud"}),HomeyAPIV3Cloud_1=t,HomeyAPIV3Cloud_1}var HomeyAPI_1,hasRequiredHomeyAPI;function requireHomeyAPI(){if(hasRequiredHomeyAPI)return HomeyAPI_1;hasRequiredHomeyAPI=1;const o=Util_1;class t{constructor({api:e=null,properties:p={},debug:n=()=>{}}){Object.defineProperty(this,"__debugFunction",{value:n,enumerable:!1,writable:!0}),Object.defineProperty(this,"__api",{value:e,enumerable:!1,writable:!0}),Object.defineProperty(this,"id",{value:p.id??p._id??null,enumerable:!0,writable:!0}),Object.defineProperty(this,"version",{value:p.softwareVersion??null,enumerable:!0,writable:!0}),Object.defineProperty(this,"name",{value:p.name??null,enumerable:!0,writable:!0}),Object.defineProperty(this,"language",{value:p.language??null,enumerable:!0,writable:!0}),Object.defineProperty(this,"role",{value:p.role??null,enumerable:!0,writable:!0}),Object.defineProperty(this,"__properties",{value:p,enumerable:!1,writable:!1})}get _id(){throw new Error("HomeyAPI._id is not supported, please use HomeyAPI.id")}__debug(...e){this.__debugFunction&&this.__debugFunction(...e)}async __getStore(){return this.__api?(await this.__api.__getStore())[`homey-${this.id}`]||{}:{}}async __setStore(e){if(!this.__api)return;const p=await this.__getStore();await this.__api.__setStore({[`homey-${this.id}`]:{...p,...e}})}__(e){if(typeof e=="object"&&e!==null){if(typeof e[this.__properties.language]=="string")return e[this.__properties.language];if(typeof e.en=="string")return e.en}return null}hasRole(e){return this.role===e}static async createAppAPI({homey:e,debug:p=null}={}){if(!e)throw new Error("Invalid Homey");p===!0&&(p=(...d)=>e.app.log("[homey-api]",...d));const n={debug:p??function(){},token:await e.api.getOwnerApiToken(),baseUrl:await e.api.getLocalUrl(),strategy:[],properties:{id:await e.cloud.getHomeyId(),softwareVersion:e.version}};if(e.platform==="local"&&e.platformVersion===1){const d=requireHomeyAPIV2();return new d(n)}if(e.platform==="local"&&e.platformVersion===2){const d=requireHomeyAPIV3Local();return new d(n)}if(e.platform==="cloud"&&e.platformVersion===2){const d=requireHomeyAPIV3Cloud();return new d(n)}throw new Error(`Invalid Homey Platform Version: ${e.platformVersion}`)}static async createLocalAPI({address:e,token:p,debug:n=null}){if(!e)throw new Error("Invalid Address");if(!p)throw new Error("Invalid Token");const d=await o.fetch(`${e}/api/manager/system/ping`);if(!d.headers.has("X-Homey-ID"))throw new Error(`No Homey Found At Address: ${e}`);const c={token:p,debug:n??function(){},baseUrl:e,strategy:[],properties:{id:d.headers.get("X-Homey-ID"),softwareVersion:d.headers.get("X-Homey-Version")}},u=requireHomeyAPIV3Local();return new u(c)}}return E(t,"PLATFORMS",{LOCAL:"local",CLOUD:"cloud"}),E(t,"DISCOVERY_STRATEGIES",{MDNS:"mdns",CLOUD:"cloud",LOCAL:"local",LOCAL_SECURE:"localSecure",REMOTE_FORWARDED:"remoteForwarded"}),HomeyAPI_1=t,HomeyAPI_1}const Util$1=Util_1,APIError$1=APIError_1;var R;let API$1=(R=class{constructor({baseUrl:t,debug:s=!1,secret:e=null}={}){const p=`${Util$1.envKey(this.constructor.name)}_DEBUG`,n=Util$1.env(p);Object.defineProperty(this,"__debugEnabled",{value:n!==null?!!n:!!s,enumerable:!1,writable:!0});const d=`${Util$1.envKey(this.constructor.name)}_SECRET`,c=Util$1.env(d);Object.defineProperty(this,"__secret",{value:c!==null?c:e,enumerable:!1,writable:!1});const u=`${Util$1.envKey(this.constructor.name)}_BASEURL`,r=Util$1.env(u);this.baseUrl=r||t||`https://${this.constructor.SPECIFICATION.host}${this.constructor.SPECIFICATION.basePath}`,this.baseUrl.endsWith("/")&&(this.baseUrl=this.baseUrl.substring(0,this.baseUrl.length-1));for(const[i,a]of Object.entries(this.constructor.SPECIFICATION.operations||{}))this.__registerOperation(i,a)}__registerOperation(t,s){this[t]||(this[t]=async({$validate:e=!0,$timeout:p=1e4,$timeoutMessage:n=null,$body:d={},$query:c={},$headers:u={},$token:r=null,...i}={})=>{let a=s.path,l={...d};const h={...c},v={...u};return Object.entries(s.parameters||{}).forEach(([g,y])=>{let m=i[g];if(g==="secret"&&typeof m>"u"&&typeof this.__secret=="string"&&(m=this.__secret),typeof r=="string"&&(v.Authorization=`Bearer ${r}`),e){if(y.required===!0&&typeof m>"u")throw new Error(`Missing Parameter: ${g}`);if(typeof m<"u"){if(y.type==="string"&&typeof m!="string")throw new Error(`Invalid Parameter Type: ${g}. Got: ${typeof m}. Expected: string`);if(y.type==="number"&&typeof m!="number")throw new Error(`Invalid Parameter Type: ${g}. Got: ${typeof m}. Expected: number`);if(y.type==="boolean"&&typeof m!="boolean")throw new Error(`Invalid Parameter Type: ${g}. Got: ${typeof m}. Expected: boolean`)}}if(typeof m<"u")switch(y.in){case"path":{a=a.replace(`{${g}}`,m);break}case"query":{h[g]=m;break}case"body":{y.unpack?l={...l,...m}:l[g]=m;break}default:throw new Error(`Invalid 'in': ${y.in}`)}}),this.call({method:s.method,headers:v,query:h,body:l,path:a,context:{operation:s},timeout:p,timeoutMessage:n}).catch(g=>{throw typeof this.__secret=="string"&&g.message.includes(this.__secret)&&(g.message=g.message.replace(this.__secret,"<redacted>")),g})})}__debug(...t){this.__debugEnabled&&console.log("[homey-api]",`[${this.constructor.name}]`,...t)}async call(t){t=await this.onCallRequestPrepare({request:t});let s=await this.onCallRequestExecute({request:t});return s=await this.onCallResponse({request:t,response:s}),s}async onCallRequestPrepare({request:t}){return t.context={...t.context},t.method=String(t.method).toUpperCase(),t.headers={...t.headers,...await this.onCallRequestHeaders({request:t})},t.timeout=t.timeout||1e4,t.timeoutMessage=t.timeoutMessage||`Timeout after ${t.timeout}ms`,t.url=`${this.baseUrl}${t.path}`,t.query&&Object.keys(t.query).length&&(t.url+=`?${Util$1.stringifyQuery(t.query)}`),["PUT","POST","DELETE"].includes(t.method)?t.body&&t.bodyJSON!==!1&&(t.headers["Content-Type"]="application/json",t.bodyModified||(t.body=JSON.stringify(t.body),t.bodyModified=!0),delete t.bodyJSON):delete t.body,t}async onCallRequestExecute({request:t}){return this.__debug("onCallRequestExecute",t),Util$1.timeout(Util$1.fetch(t.url,{method:t.method,headers:t.headers,body:t.body}),t.timeout,t.timeoutMessage)}async onCallResponse({request:t,response:s}){const e=s.status,{statusText:p}=s,n=s.ok;if(e===204)return;const d=await this.onCallResponseParseBody({request:t,response:s});return n?this.onCallResponseOK({request:t,body:d,statusCode:e,statusText:p}):this.onCallResponseNotOK({request:t,body:d,statusCode:e,statusText:p})}async onCallRequestHeaders({request:t}){return{}}async onCallResponseParseBody({response:t}){const s=t.headers.get("Content-Type"),e=await t.text();if(s&&s.toLowerCase().includes("application/json"))try{return JSON.parse(e)}catch(p){throw new Error(`Failed to parse response body as JSON: ${p.message}`)}return e}async onCallResponseOK({context:t,body:s,statusCode:e,statusText:p}){return s}async onCallResponseNotOK({context:t,body:s,statusCode:e,statusText:p}){this.__debug("Error:",s);let n=p;throw typeof s.error_description=="string"?n=s.error_description:typeof s.error_message=="string"?n=s.error_message:typeof s.error=="string"?n=s.error:typeof s.message=="string"&&(n=s.message),new APIError$1(n,e)}},E(R,"SPECIFICATION",null),E(R,"SPECIFICATION_URL",null),E(R,"DEFINITION_CLASSES",{}),E(R,"JSDOC_PARAMS",null),E(R,"JSDOC_DESCRIPTION",null),E(R,"JSDOC_PRIVATE",null),E(R,"JSDOC_EXAMPLE",null),R);var API_1=API$1;let APIDefinition$3=class{constructor({api:t=null,properties:s={}}){Object.defineProperty(this,"__api",{value:t,enumerable:!1,writable:!1}),Object.defineProperty(this,"__properties",{value:s,enumerable:!1,writable:!1});for(const e of Object.keys(s))typeof this[e]<"u"||(this[e]=s[e])}__makeClass(t,s){return new t({properties:s,api:this.__api})}};var APIDefinition_1=APIDefinition$3;const HomeyAPI=requireHomeyAPI();let HomeyAPIV1$1=class extends HomeyAPI{constructor({properties:s,...e}){super({properties:s,...e});E(this,"updates",{async getUpdates(){throw new Error("Not Implemented")},async installUpdate(){throw new Error("Not Implemented")},async getState(){throw new Error("Not Implemented")}});const{token:p}=this.__properties;this.token=p}get platform(){return"local"}get platformVersion(){return 1}async login(){if(!this.token)throw new Error("Missing Token")}};var HomeyAPIV1_1=HomeyAPIV1$1;const APIDefinition$2=APIDefinition_1,HomeyAPIV1=HomeyAPIV1_1,HomeyAPIV2=requireHomeyAPIV2(),HomeyAPIV3Local=requireHomeyAPIV3Local(),HomeyAPIV3Cloud=requireHomeyAPIV3Cloud();let Homey$2=class extends APIDefinition$2{get id(){return this._id}async authenticate({strategy:t}={}){const s=(()=>{if(this.apiVersion===1)return HomeyAPIV1;if(this.apiVersion===2)return HomeyAPIV2;if(this.apiVersion===3&&this.platform==="local")return HomeyAPIV3Local;if(this.apiVersion===3&&this.platform==="cloud")return HomeyAPIV3Cloud;throw new Error(`Unsupported Homey API Version: ${this.apiVersion}`)})(),e=new s({strategy:t,api:this.__api,properties:this.__properties,debug:(...p)=>this.__api.__debug(`[${s.name}:${this.__properties.id}]`,...p)});return await e.login(),e}};var Homey_1=Homey$2;const APIDefinition$1=APIDefinition_1;let Device$1=class extends APIDefinition$1{get id(){return this._id}};var Device_1=Device$1;const APIDefinition=APIDefinition_1,Homey$1=Homey_1,Device=Device_1;let User$1=class extends APIDefinition{constructor({...t}){super({...t}),this.homeys=this.homeys.map(s=>this.__makeClass(Homey$1,s)),this.devices=this.devices.map(s=>this.__makeClass(Device,s))}get id(){return this._id}getHomeys(){return this.homeys}getHomeyById(t){const s=this.homeys.find(e=>e.id===t);if(!s)throw new Error(`Homey Not Found: ${t}`);return s}getFirstHomey(){const t=this.homeys[0];if(!t)throw new Error("No Homey Available");return t}hasRole(t){return this.roleIds.includes(t)}};var User_1=User$1;let Token$1=class{constructor({token_type:t,access_token:s,refresh_token:e,expires_in:p,grant_type:n}){this.token_type=t,this.access_token=s,this.refresh_token=e,this.expires_in=p,this.grant_type=n}toJSON(){return{token_type:this.token_type,access_token:this.access_token,refresh_token:this.refresh_token,expires_in:this.expires_in,grant_type:this.grant_type}}};var Token_1=Token$1;let StorageAdapter$3=class{async get(){throw new Error("Not Implemented: StorageAdapter.get()")}async set(t){throw new Error("Not Implemented: StorageAdapter.set()")}};var StorageAdapter_1=StorageAdapter$3;const StorageAdapter$2=StorageAdapter_1;var j;let StorageAdapterBrowser$1=(j=class extends StorageAdapter$2{async get(){try{return JSON.parse(window.localStorage.getItem(this.constructor.LOCAL_STORAGE_KEY)||"{}")}catch{return{}}}async set(t){window.localStorage.setItem(this.constructor.LOCAL_STORAGE_KEY,JSON.stringify(t))}},E(j,"LOCAL_STORAGE_KEY","homey-api"),j);var StorageAdapterBrowser_1=StorageAdapterBrowser$1;const StorageAdapter$1=StorageAdapter_1;let StorageAdapterMemory$1=class extends StorageAdapter$1{constructor(){super(),this.__store="{}"}async get(){return JSON.parse(this.__store)}async set(t){this.__store=JSON.stringify(t)}};var StorageAdapterMemory_1=StorageAdapterMemory$1;const host="api.athom.com",basePath="/",operations={createDelegationToken:{path:"/delegation/token",method:"post",private:!0,parameters:{audience:{in:"query",type:"string"},meta:{in:"body",type:"object",unpack:!0}}},verifyDelegationToken:{path:"/delegation/verify",method:"get",private:!0,parameters:{token:{in:"query",type:"string"}}},getDelegationTokenKey:{path:"/delegation/key",method:"get",private:!0,parameters:{}},getAccessToken:{path:"/oauth2/token",method:"post",private:!0,parameters:{client_id:{in:"formData",type:"string",required:!0},client_secret:{in:"formData",type:"string",required:!0},grant_type:{in:"formData",type:"string",required:!0},refresh_token:{in:"formData",type:"string"},code:{in:"formData",type:"string"},username:{in:"formData",type:"string"},password:{in:"formData",type:"string"}}},forgotPassword:{path:"/login/password-forgotten",method:"post",private:!0,parameters:{email:{type:"string",in:"body"}}},createUser:{path:"/user",method:"post",private:!0,parameters:{user:{in:"body",type:"object",required:!0,unpack:!0,properties:{firstname:{type:"string"},lastname:{type:"string"},email:{type:"string"},password:{type:"string"},language:{type:"string"}}},newsletter:{in:"query",type:"boolean"},gettingStarted:{in:"query",type:"boolean"}}},getUser:{path:"/user/{id}",method:"get",private:!0,parameters:{id:{in:"path",type:"string",required:!0}}},updateUser:{path:"/user/{id}",method:"put",private:!0,parameters:{id:{in:"path",type:"string",required:!0},user:{in:"body",type:"object",required:!0,unpack:!0,properties:{firstname:{type:"string"},lastname:{type:"string"},email:{type:"string"},language:{type:"string"},roles:{type:"array"},roleIds:{type:"array"},avatar:{},homeys:{type:"array"},devices:{type:"array"}}}}},deleteUser:{path:"/user/{id}",method:"delete",private:!0,parameters:{id:{in:"path",type:"string",required:!0},password:{type:"string",in:"body"}}},createUserDevice:{path:"/user/{userId}/device",method:"post",private:!0,parameters:{userId:{in:"path",type:"string",required:!0},device:{in:"body",type:"object",required:!0,unpack:!0,properties:{name:{type:"string"},platform:{type:"string"},token:{type:"string"},publicKey:{type:"string"},appVersion:{type:"string"},osVersion:{type:"string"},created:{type:"string"},updated:{type:"string"},devmode:{type:"boolean"}}}}},updateUserDevice:{path:"/user/{userId}/device/{deviceId}",method:"put",private:!0,parameters:{userId:{in:"path",type:"string",required:!0},deviceId:{in:"path",type:"string",required:!0},device:{in:"body",type:"object",required:!0,unpack:!0,properties:{name:{type:"string"},platform:{type:"string"},token:{type:"string"},publicKey:{type:"string"},appVersion:{type:"string"},osVersion:{type:"string"},created:{type:"string"},updated:{type:"string"},devmode:{type:"boolean"}}}}},deleteUserDevice:{path:"/user/{userId}/device/{deviceId}",method:"delete",private:!0,parameters:{userId:{in:"path",type:"string",required:!0},deviceId:{in:"path",type:"string",required:!0}}},getUserAddresses:{path:"/user/{userId}/address",method:"get",private:!0,parameters:{userId:{in:"path",type:"string",required:!0}}},addUserAddress:{path:"/user/{userId}/address",method:"post",private:!0,parameters:{userId:{in:"path",type:"string",required:!0},address:{in:"body",type:"object",unpack:!0,properties:{street:{type:"string"},number:{type:"string"},zipcode:{type:"string"},city:{type:"string"},state:{type:"string"},country:{type:"string"},extra:{type:"string"},firstname:{type:"string"},lastname:{type:"string"}}}}},updateUserAddress:{path:"/user/{userId}/address/{addressId}",method:"put",private:!0,parameters:{userId:{in:"path",type:"string",required:!0},addressId:{in:"path",type:"string",required:!0},address:{in:"body",type:"object",unpack:!0,properties:{street:{type:"string"},number:{type:"string"},zipcode:{type:"string"},city:{type:"string"},state:{type:"string"},country:{type:"string"},extra:{type:"string"},firstname:{type:"string"},lastname:{type:"string"}}}}},deleteUserAddress:{path:"/user/{userId}/address/{addressId}",method:"delete",private:!0,parameters:{userId:{in:"path",type:"string",required:!0},addressId:{in:"path",type:"string",required:!0}}},updateUserSubscription:{path:"/user/{userId}/subscription/{subscriptionId}",method:"put",private:!0,parameters:{userId:{in:"path",type:"string",required:!0},subscriptionId:{in:"path",type:"string",required:!0},subscription:{in:"body"}}},deleteUserSubscription:{path:"/user/{userId}/subscription/{subscriptionId}",method:"delete",private:!0,parameters:{userId:{in:"path",type:"string",required:!0},subscriptionId:{in:"path",type:"string",required:!0}}},addRoleAppDeveloperTrusted:{path:"/user/{userId}/role/app_developer_trusted",method:"put",private:!0,parameters:{userId:{in:"path",type:"string",required:!0}}},removeRoleAppDeveloperTrusted:{path:"/user/{userId}/role/app_developer_trusted",method:"delete",private:!0,parameters:{userId:{in:"path",type:"string",required:!0}}},getAuthenticatedUser:{path:"/user/me",method:"get",parameters:{additionalScopes:{in:"query",type:"string"}}},updateAuthenticatedUserPassword:{path:"/user/me/password",method:"post",private:!0,parameters:{password:{type:"string",in:"body"},old_password:{type:"string",in:"body"}}},getUserProfile:{path:"/user/{userId}/profile",method:"get",private:!0,parameters:{userId:{in:"path",type:"string",required:!0}}},getUserSessions:{path:"/user/{userId}/session",method:"get",private:!0,parameters:{userId:{in:"path",type:"string",required:!0}}},deleteUserSession:{path:"/user/{userId}/session/{sessionId}",method:"delete",private:!0,parameters:{userId:{in:"path",type:"string",required:!0},sessionId:{in:"path",type:"string",required:!0}}},getBridges:{path:"/bridge/",method:"get",private:!0,parameters:{serial:{in:"query",type:"string"},serialHash:{in:"query",type:"string"}}},createBridge:{path:"/bridge/",method:"post",private:!0,parameters:{bridge:{in:"body",type:"object",unpack:!0,properties:{serial:{type:"string"},build:{type:"number"},zwaveCalibration:{type:"array"},manufacturedAt:{type:"string"},activationHistory:{type:"array"}}}}},getBridge:{path:"/bridge/{serial}",method:"get",private:!0,parameters:{serial:{in:"path",type:"string",required:!0}}},updateBridge:{path:"/bridge/{serial}",method:"put",private:!0,parameters:{serial:{in:"path",type:"string",required:!0},bridge:{in:"body",type:"object",unpack:!0,properties:{serial:{type:"string"},build:{type:"number"},zwaveCalibration:{type:"array"},manufacturedAt:{type:"string"},activationHistory:{type:"array"}}}}},activateBridge:{path:"/bridge/{serial}/activate",method:"post",private:!0,parameters:{serial:{in:"path",type:"string",required:!0},homeyId:{type:"string",in:"body"},userId:{type:"string",in:"body"}}},getHomeys:{path:"/homey/",method:"get",private:!0,parameters:{serial:{in:"query",type:"string"},softwareVersion:{in:"query",type:"string"},search:{in:"query",type:"string"},page:{in:"query",type:"string"}}},createHomey:{path:"/homey/",method:"post",private:!0,parameters:{data:{in:"body",type:"object",unpack:!0,properties:{name:{type:"string"},ipInternal:{type:"string"},ipExternal:{type:"string"},ipExternalCountry:{type:"string"},ipExternalPort:{type:"number"},localUrl:{type:"string"},localUrlSecure:{type:"string"},remoteUrl:{type:"string"},apiVersion:{type:"number"},softwareVersion:{type:"string"},language:{type:"string"},state:{type:"string"},geolocation:{type:"object"},users:{type:"array"},role:{type:"string"},token:{type:"string"},apps:{type:"array"},devices:{type:"array"}}}}},getHomey:{path:"/homey/{id}",method:"get",private:!0,parameters:{id:{in:"path",type:"string",required:!0}}},updateHomey:{path:"/homey/{id}",method:"put",private:!0,parameters:{id:{in:"path",type:"string",required:!0},homey:{in:"body",type:"object",required:!0,unpack:!0,properties:{name:{type:"string"},ipInternal:{type:"string"},ipExternal:{type:"string"},ipExternalCountry:{type:"string"},ipExternalPort:{type:"number"},localUrl:{type:"string"},localUrlSecure:{type:"string"},remoteUrl:{type:"string"},apiVersion:{type:"number"},softwareVersion:{type:"string"},language:{type:"string"},state:{type:"string"},geolocation:{type:"object"},users:{type:"array"},role:{type:"string"},token:{type:"string"},apps:{type:"array"},devices:{type:"array"}}}}},deleteHomey:{path:"/homey/{id}",method:"delete",private:!0,parameters:{id:{in:"path",type:"string",required:!0}}},activateHomey:{path:"/homey/{id}/activate",method:"post",private:!0,parameters:{id:{in:"path",type:"string",required:!0},userId:{type:"string",in:"body"}}},addHomeyLicense:{path:"/homey/{homeyId}/license/{license}",method:"post",private:!0,parameters:{homeyId:{in:"path",type:"string",required:!0},license:{in:"path",type:"string",required:!0}}},createHomeyUser:{path:"/homey/{homeyId}/user",method:"post",private:!0,parameters:{homeyId:{in:"path",type:"string",required:!0},user:{type:"string",in:"body"},role:{type:"string",in:"body"},token:{type:"string",in:"body"}}},deleteHomeyUser:{path:"/homey/{homeyId}/user/{userId}",method:"delete",private:!0,parameters:{homeyId:{in:"path",type:"string",required:!0},userId:{in:"path",type:"string",required:!0}}},resetHomeyUsers:{path:"/homey/{homeyId}/user/reset",method:"post",private:!0,parameters:{homeyId:{in:"path",type:"string",required:!0}}},getAllHomeyMetadata:{path:"/homey/{homeyId}/metadata",method:"get",private:!0,parameters:{homeyId:{in:"path",type:"string",required:!0}}},getHomeyMetadata:{path:"/homey/{homeyId}/metadata/{key}",method:"get",private:!0,parameters:{homeyId:{in:"path",type:"string",required:!0},key:{in:"path",type:"string",required:!0}}},createHomeyMetadata:{path:"/homey/{homeyId}/metadata/{key}",method:"post",private:!0,parameters:{homeyId:{in:"path",type:"string",required:!0},key:{in:"path",type:"string",required:!0},value:{type:"object",in:"body"}}},updateHomeyMetadata:{path:"/homey/{homeyId}/metadata/{key}",method:"put",private:!0,parameters:{homeyId:{in:"path",type:"string",required:!0},key:{in:"path",type:"string",required:!0},value:{type:"object",in:"body"}}},deleteHomeyMetadata:{path:"/homey/{homeyId}/metadata/{key}",method:"delete",private:!0,parameters:{homeyId:{in:"path",type:"string",required:!0},key:{in:"path",type:"string",required:!0}}},sendFormattedEmail:{path:"/mail/formatted",method:"post",private:!0,parameters:{to:{type:"string",in:"body"},toHomeyOwner:{type:"string",in:"body"},from:{type:"string",in:"body"},subject:{type:"string",in:"body"},body:{type:"string",in:"body"},replyTo:{type:"string",in:"body"},header:{type:"object",in:"body"},button:{type:"object",in:"body"}}},subscribeUserToMailChimp:{path:"/mail/mailchimp",method:"post",private:!0,parameters:{listId:{type:"string",in:"body"},userId:{type:"string",in:"body"}}},getAppInstallsStatistics:{path:"/stats/app-installs",method:"get",private:!0,parameters:{}},getAppDriversStatistics:{path:"/stats/app-drivers",method:"get",private:!0,parameters:{}},getLocationStatistics:{path:"/stats/locations",method:"get",private:!0,parameters:{}},getVersionStatistics:{path:"/stats/homey-software-versions",method:"get",private:!0,parameters:{}},getProductionStatistics:{path:"/stats/homey-production-speed",method:"get",private:!0,parameters:{min:{in:"query",type:"string"},max:{in:"query",type:"string"}}},getHomeyOwnerContactDetails:{path:"/stats/homey-owner-data",method:"get",private:!0,parameters:{softwareVersion:{in:"query",type:"string"},homeyId:{in:"query",type:"string"},homeySn:{in:"query",type:"string"},barcodeMin:{in:"query",type:"string"},barcodeMax:{in:"query",type:"string"},appId:{in:"query",type:"string"},appChannel:{in:"query",type:"string"},appVersion:{in:"query",type:"string"},page:{in:"query",type:"number"}}}},require$$9={host,basePath,operations},API=API_1,APIError=APIError_1,Util=Util_1,User=User_1,Homey=Homey_1,Token=Token_1,StorageAdapter=StorageAdapter_1,StorageAdapterBrowser=StorageAdapterBrowser_1,StorageAdapterMemory=StorageAdapterMemory_1;class AthomCloudAPI extends API{constructor({clientId:t,clientSecret:s,redirectUrl:e,autoRefreshTokens:p=!0,token:n=null,store:d=Util.isBrowser()?new StorageAdapterBrowser:new StorageAdapterMemory,...c}={}){if(super({...c}),this.__clientId=t,this.__clientSecret=s,this.__redirectUrl=e,this.__autoRefreshTokens=p,!(d instanceof StorageAdapter))throw new Error("Invalid `store`. Must extend AthomCloudAPI/StorageAdapter.");if(this.__store=d,n&&!(n instanceof Token))throw new Error("Invalid `token`. Must extend AthomCloudAPI/Token.");this.__token=n,this.__user=null}async isLoggedIn(){const t=await this.__getStore();if(!t.token||!t.token.access_token)return!1;try{return this.__user=await this.getAuthenticatedUser({$cache:!1}),!0}catch{return!1}}async getAuthenticatedUser({$cache:t=!0}={}){return t===!0&&this.__user instanceof User?this.__user:(this.__user=new User({api:this,properties:await this.call({method:"get",path:"/user/me"})}),this.__user)}hasAuthorizationCode(){return!!(Util.isBrowser()&&Util.getSearchParameter("code"))}getLoginUrl({state:t,scopes:s}={}){if(!this.__redirectUrl)throw new Error("Missing Redirect URL");const e=new URLSearchParams;return e.append("client_id",this.__clientId),e.append("redirect_uri",this.__redirectUrl),e.append("response_type","code"),typeof t=="string"&&e.append("state",t),Array.isArray(s)&&e.append("scope",s.join(",")),`${this.baseUrl}/oauth2/authorise?${e.toString()}`}async logout(){this.__user=null,await this.__resetStore(),this.__token=null}async __getStore(){return this.__store?this.__store.get():{}}async __setStore(t){if(!this.__store)return;const s=await this.__store.get();await this.__store.set({...s,...t})}async __resetStore(){this.__store&&await this.__store.set({})}async onCallRequestHeaders({request:t}){if(!this.__token){const s=await this.__getStore();s.token&&(this.__token=new Token(s.token))}return this.__token&&this.__token.access_token?{Authorization:`Bearer ${this.__token.access_token}`}:{}}async onCallResponseNotOK({request:t,body:s,statusCode:e,...p}){if(e===401&&s.error==="invalid_token"&&this.__autoRefreshTokens&&!t.context.retryAfterRefresh)return this.__debug("Refreshing token..."),await this.authenticateWithRefreshToken(),this.__debug("Token refreshed. Retrying call..."),this.call({...t,context:{...t.context,retryAfterRefresh:!0}});if(typeof s.error_description=="object"&&s.error_description!==null){const n=Object.entries(s.error_description).map(([d,c])=>`${d}: ${c}`).join(", ");throw new APIError(n,e)}return super.onCallResponseNotOK({body:s,statusCode:e,...p})}async authenticateWithClientCredentials(){if(!this.__clientId)throw new Error("Missing Client ID");if(!this.__clientSecret)throw new Error("Missing Client Secret");const t=new URLSearchParams;t.append("grant_type","client_credentials");const s=await Util.fetch(`${this.baseUrl}/oauth2/token`,{body:t.toString(),method:"post",headers:{Authorization:`Basic ${Util.base64(`${this.__clientId}:${this.__clientSecret}`)}`,"Content-Type":"application/x-www-form-urlencoded"}}),e=await s.json();if(!s.ok)throw new APIError(e.error_description||e.error,s.status);return this.__token=new Token({token_type:e.token_type,access_token:e.access_token,refresh_token:e.refresh_token,expires_in:e.expires_in,grant_type:"client_credentials"}),this.__setStore({token:this.__token}),this.__token}async authenticateWithAuthorizationCode({code:t,removeCodeFromHistory:s=!0}={}){if(!t&&Util.isBrowser()&&(t=Util.getSearchParameter("code")),!t)throw new Error("Missing Code");if(!this.__clientId)throw new Error("Missing Client ID");if(!this.__clientSecret)throw new Error("Missing Client Secret");const e=new URLSearchParams;e.append("grant_type","authorization_code"),e.append("code",t);const p=await Util.fetch(`${this.baseUrl}/oauth2/token`,{body:e.toString(),method:"post",headers:{Authorization:`Basic ${Util.base64(`${this.__clientId}:${this.__clientSecret}`)}`,"Content-Type":"application/x-www-form-urlencoded"}}),n=await p.json();if(!p.ok)throw new APIError(n.error_description||n.error,p.status);if(this.__token=new Token({token_type:n.token_type,access_token:n.access_token,refresh_token:n.refresh_token,expires_in:n.expires_in,grant_type:"authorization_code"}),this.__setStore({token:this.__token}),Util.isBrowser()&&s){const d=new URL(window.location.href);d.searchParams.delete("code"),window.history.pushState(void 0,void 0,d.toString())}return this.__token}async authenticateWithPassword(t,s){if(!t)throw new Error("Missing Username");if(!s)throw new Error("Missing Password");if(!this.__clientId)throw new Error("Missing Client ID");if(!this.__clientSecret)throw new Error("Missing Client Secret");const e=new URLSearchParams;e.append("grant_type","password"),e.append("username",t),e.append("password",s);const p=await Util.fetch(`${this.baseUrl}/oauth2/token`,{body:e.toString(),method:"post",headers:{Authorization:`Basic ${Util.base64(`${this.__clientId}:${this.__clientSecret}`)}`,"Content-Type":"application/x-www-form-urlencoded"}}),n=await p.json();if(!p.ok)throw new APIError(n.error_description||n.error,p.status);return this.__token=new Token({token_type:n.token_type,access_token:n.access_token,refresh_token:n.refresh_token,expires_in:n.expires_in,grant_type:"password"}),this.__setStore({token:this.__token}),this.__token}async authenticateWithRefreshToken(){return this.__refreshTokenPromise||(this.__refreshTokenPromise=Promise.resolve().then(async()=>{if(!this.__token)throw new Error("Missing Token");if(!this.__token.refresh_token)throw new Error("Missing Refresh Token");const t=new URLSearchParams;t.append("grant_type","refresh_token"),t.append("refresh_token",this.__token.refresh_token);const s=await Util.fetch(`${this.baseUrl}/oauth2/token`,{body:t.toString(),method:"post",headers:{Authorization:`Basic ${Util.base64(`${this.__clientId}:${this.__clientSecret}`)}`,"Content-Type":"application/x-www-form-urlencoded"}}),e=await s.json();if(!s.ok)throw new APIError(e.error_description||e.error,s.status);return this.__token=new Token({token_type:e.token_type,access_token:e.access_token,refresh_token:e.refresh_token,expires_in:e.expires_in,grant_type:this.__token.grant_type}),this.__setStore({token:this.__token}),this.__token}),this.__refreshTokenPromise.catch(()=>{}).finally(()=>{this.__refreshTokenPromise=null})),this.__refreshTokenPromise}async updateUserMe({firstname:t,lastname:s,email:e}){const p=await this.getAuthenticatedUser();return this.updateUser({id:p._id,user:{firstname:t,lastname:s,email:e}})}async updateUserMeAvatar(t,s){if(!Buffer.isBuffer(t))throw new Error("Invalid Image. Expected Buffer.");if(!s)throw new Error("Missing Image Type");if(!["jpg","png","gif"].includes(s))throw new Error(`Invalid Image Type: ${s}`);s==="jpg"&&(s="jpeg");const e=await this.getAuthenticatedUser(),p=Buffer.concat([Buffer.from(`--__X_HOMEY_BOUNDARY__\r
Content-Disposition: form-data; name="avatar"; filename="avatar"\r
Content-Type: image/${s}\r
\r
`),Buffer.from(t),Buffer.from(`\r
--__X_HOMEY_BOUNDARY__--\r
`)]);return this.call({method:"POST",path:`/user/${e._id}/avatar`,headers:{"Content-Type":'multipart/form-data; boundary="__X_HOMEY_BOUNDARY__"',"Content-Length":p.length},body:p,bodyJSON:!1})}}E(AthomCloudAPI,"User",User),E(AthomCloudAPI,"Homey",Homey),E(AthomCloudAPI,"Token",Token),E(AthomCloudAPI,"StorageAdapter",StorageAdapter),E(AthomCloudAPI,"StorageAdapterBrowser",StorageAdapterBrowser),E(AthomCloudAPI,"StorageAdapterMemory",StorageAdapterMemory),E(AthomCloudAPI,"SPECIFICATION",require$$9),E(AthomCloudAPI,"SPECIFICATION_URL","https://api.athom.com/specification.json"),E(AthomCloudAPI,"DEFINITION_CLASSES",{User,Homey}),E(AthomCloudAPI,"JSDOC_DESCRIPTION",`
The AthomCloudAPI class can be used to authenticate a user with your client,
and login on that user's Homey.`),E(AthomCloudAPI,"JSDOC_EXAMPLE",`
const AthomCloudAPI = require('homey-api/lib/AthomCloudAPI');

// Create an AthomCloudAPI instance
const cloudApi = new {@link AthomCloudAPI AthomCloudAPI}({
  clientId: '5a8d4ca6eb9f7a2c9d6ccf6d',
  clientSecret: 'e3ace394af9f615857ceaa61b053f966ddcfb12a',
  redirectUrl: 'http://localhost',
});

// Check if we're logged in
// If not, redirect the user to the OAuth2 dialog
const loggedIn = await {@link AthomCloudAPI cloudApi}.{@link AthomCloudAPI#isLoggedIn isLoggedIn}();
if (!loggedIn) {
  if ({@link AthomCloudAPI cloudApi}.{@link AthomCloudAPI#hasAuthorizationCode hasAuthorizationCode}()) {
    const token = await  {@link AthomCloudAPI cloudApi}.{@link AthomCloudAPI#authenticateWithAuthorizationCode authenticateWithAuthorizationCode}();
  } else {
    window.location.href =  {@link AthomCloudAPI cloudApi}.{@link AthomCloudAPI#getLoginUrl getLoginUrl}();
    return;
  }
}

// Get the logged in user
const user = await {@link AthomCloudAPI cloudApi}.{@link AthomCloudAPI#getAuthenticatedUser getAuthenticatedUser}();

// Get the first Homey of the logged in user
const homey = await {@link AthomCloudAPI.User user}.{@link AthomCloudAPI.User#getFirstHomey getFirstHomey}();

// Create a session on this Homey
const homeyApi = await {@link AthomCloudAPI.Homey homey}.{@link AthomCloudAPI.Homey#authenticate authenticate}();

// Get all Zones from ManagerZones
const zones = await {@link HomeyAPIV2 homeyApi}.{@link HomeyAPIV2.ManagerZones zones}.{@link HomeyAPIV2.ManagerZones#getZones getZones}();

// Get all Devices from ManagerDevices
const devices = await {@link HomeyAPIV2 homeyApi}.{@link HomeyAPIV2.ManagerDevices devices}.{@link HomeyAPIV2.ManagerDevices#getDevices getDevices}();

// Turn all devices on
for(const {@link HomeyAPIV2.ManagerDevices.Device device} of Object.values(devices)) {
  // Turn device on
  await {@link HomeyAPIV2.ManagerDevices.Device device}.{@link HomeyAPIV2.ManagerDevices.Device#setCapabilityValue setCapabilityValue}({
    capabilityId: 'onoff',
    value: true,
  });
}`),E(AthomCloudAPI,"JSDOC_PARAMS",`
@param {string} opts.clientId
@param {string} opts.clientSecret
@param {string} opts.redirectUrl
@param {boolean} [opts.autoRefreshTokens=true]
@param {AthomCloudAPI.Token} [opts.token=null]
@param {AthomCloudAPI.StorageAdapter} [opts.store={@link AthomCloudAPI.StorageAdapterBrowser} or {@link AthomCloudAPI.StorageAdapterMemory}]`);var AthomCloudAPI_1=AthomCloudAPI;const AthomCloudAPI$1=getDefaultExportFromCjs(AthomCloudAPI_1);export{AthomCloudAPI$1 as A,advancedFlows as a,basicFlows as b,session as c,devices as d,baseUrl as e,AthomCloudAPI_1 as f,goto as g,homey as h,getDefaultExportFromCjs as i,requireHomeyAPI as r,scopes as s};
