import{s as c,z as r,o as u}from"../chunks/scheduler.80769ec7.js";import{S as d,i as m}from"../chunks/index.3d8cfafd.js";import{p}from"../chunks/stores.21a04188.js";import{A as f,h as l,g}from"../chunks/AthomCloudAPI.bd9c1e2b.js";function h(e,a,i){let o;r(e,p,t=>i(0,o=t));let s;return u(async()=>{if(s!=null){const t=new f({clientId:"5a8d4ca6eb9f7a2c9d6ccf6d",clientSecret:"e3ace394af9f615857ceaa61b053f966ddcfb12a"});if(await t.isLoggedIn())g("/");else if(t.hasAuthorizationCode()){await t.authenticateWithAuthorizationCode();const n=await(await(await t.getAuthenticatedUser()).getFirstHomey()).authenticate();l.set(n)}}}),e.$$.update=()=>{e.$$.dirty&1&&(s=o.url.searchParams.get("code"))},[o]}class H extends d{constructor(a){super(),m(this,a,h,null,c,{})}}export{H as component};
